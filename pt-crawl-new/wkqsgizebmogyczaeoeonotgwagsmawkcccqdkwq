wkqsgizebmogyczaeoeonotgwagsmawkcccqdkwq length 5 94666 page 94666 <!doctype html>  <head> <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-WGSN6JK');</script> <meta charset=utf-8> <meta http-equiv=X-UA-Compatible content="IE=edge"> <meta name=viewport content="width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"> <meta name=robots content=noindex> <title>CARTOframes - Home</title> <meta name=description content="A Python package for integrating CARTO maps, analysis, and data services into data science workflows."> <link rel=stylesheet href=/developers/css/main.5b79c739.css> <link rel=canonical href=https://carto.com/developers/cartoframes/ > <link rel=alternate type=application/rss+xml title="Documentation — CARTO" href=https://carto.com/developers/feed.xml> <meta property=og:title content="CARTOframes - Home — Documentation — CARTO"> <meta property=og:description content="A Python package for integrating CARTO maps, analysis, and data services into data science workflows."> <meta property=og:type content=website> <meta property=og:url content=https://carto.com/developers/cartoframes/ > <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel=stylesheet type=text/css> <link href="https://fonts.googleapis.com/css?family=Montserrat:400,500,600,700" rel=stylesheet type=text/css> <link href="https://fonts.googleapis.com/css?family=Overpass+Mono:300,400,600,700" rel=stylesheet type=text/css> </head> <body class="dc-cartoframes docs-overview"> <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WGSN6JK" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript> <header class="header js-Header is-bgBaseGrey"> <div class=u-height--72> <nav class="Navbar Navbar-DC u-wideMargin grid-cell grid-cell--col8 js-Navbar js-subNavbar--fixed js-stickyBar"> <div> <div class="Navbar-inner u-relative Navbar-height--44"> <div class=Navbar-header> <a class="Logo js-Navbar-logo u-rspace--40" href=/ > <div class=Logo--negative> <img src=/developers/img/logo-carto.21197b2f.svg class=u-rspace--4> </div> <div class=Logo--positive> <svg width=92 height=36 viewBox="0 0 92 36" xmlns=http://www.w3.org/2000/svg><g fill=#162945 fill-rule=evenodd><path d="M74 36c9.94 0 18-8.06 18-18S83.94 0 74 0 56 8.06 56 18s8.06 18 18 18z" fill-opacity=.1 /><path d="M6.253 23.982c2.514 0 3.968-1.1 5.045-2.592l-2.384-1.705c-.685.836-1.388 1.394-2.58 1.394-1.6 0-2.726-1.346-2.726-3.068v-.033c0-1.674 1.126-3.05 2.726-3.05 1.094 0 1.846.54 2.5 1.344l2.383-1.854c-1.013-1.394-2.515-2.378-4.85-2.378-3.462 0-6.01 2.624-6.01 5.97v.033c0 3.427 2.63 5.937 5.896 5.937zm10.48-.23h3.314l.816-2.066h4.425l.817 2.066H29.5L24.636 12.19h-3.053l-4.85 11.562zm5.06-4.543l1.29-3.248 1.275 3.247h-2.564zM35.67 23.75h3.168v-3.477h1.404l2.302 3.477h3.642L43.46 19.75c1.42-.606 2.35-1.77 2.35-3.542v-.033c0-1.13-.343-2-1.012-2.673-.768-.77-1.976-1.23-3.723-1.23H35.67v11.48zm3.168-5.97v-2.77h2.09c1.045 0 1.714.458 1.714 1.376v.033c0 .838-.637 1.362-1.698 1.362h-2.106zm16.423 5.97h3.168V15.06h3.43v-2.788h-10.01v2.788h3.413v8.692zM74 24c3.314 0 6-2.686 6-6s-2.686-6-6-6-6 2.686-6 6 2.686 6 6 6z"/></g></svg> </div> </a> </div> <div class=stickyBar-left> <a href=/developers/cartoframes><img src=/developers/img/icons/cartoframes.svg class=u-rspace--12></a> <div class=stickyBar-left--inner> <a href=/developers/cartoframes class="title is-subtitle is-colored u-noUnderline">CARTOframes</a> <div class=tab-navigationContainer> <ul class="tab-navigation is-colored"> <li class=tab-navigationItem> <a href=/developers/cartoframes/ class="tab-navigationAction title is-small is-regular is-active">Overview</a> </li> <li class=tab-navigationItem> <a href=/developers/cartoframes/guides/Introduction class="tab-navigationAction title is-small is-regular u-ellipsis">Guides </a> </li> <li class=tab-navigationItem> <a href=/developers/cartoframes/reference/ class="tab-navigationAction title is-small is-regular">Reference</a> </li> <li class=tab-navigationItem> <a href=/developers/cartoframes/examples/ class="tab-navigationAction title is-small is-regular">Examples</a> </li> <li class=tab-navigationItem> <a href=/developers/cartoframes/support/Support-options/ class="tab-navigationAction title is-small is-regular">Support</a> </li> </ul> </div> </div> </div> <div class="mobile js-Navbar-button Navbar-buttonMenu"> <span></span> <span></span> <span></span> <span></span> </div> <div class="Navbar-buttonMenu desktopTablet--flex"> <ul class="Navbar-list Navbar--show-animation User-element--hide js-User--showConnected"> <li class="Navbar-item js-hide-on-focus hide-fixed"><a class="title is-small Navbar-link is-regular" href=/developers/ ><span>Home</span></a></li> <li class="Navbar-item js-hide-on-focus"><a class="title is-small Navbar-link is-regular" href=https://carto.com/help/tutorials/your-dashboard-overview><span>Dashboard</span></a></li> <li class="Navbar-item js-hide-on-focus"><a class="title is-small Navbar-link is-regular" href=https://carto.com/help/tutorials/using-builder><span>Builder</span></a></li> <li class="Navbar-item js-hide-on-focus"><a class="title is-small Navbar-link is-regular" href=https://carto.com/developers/cartoframes><span>CARTOframes</span></a></li> <li class="Navbar-item js-hide-on-focus"><a class="title is-small Navbar-link is-regular" href=https://carto.com/help/working-with-data/intro_data_observatory><span>Data Observatory</span></a></li> <li class="Navbar-item Dropdown js-Dropdown js-hide-on-focus"> <a class="Navbar-link title is-regular is-small js-Dropdown-target u-cursor--default"> Dev tools <svg class="Navbar-icon js-navbarCaret" width=7px height=5px viewBox="0 0 7 5" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink> <polygon id=Chevron fill=#FFFFFF fill-rule=nonzero points="1.07650484 0.292893219 0.292893219 1.12132035 3.29289323 4.29289322 6.29289322 1.12132034 5.50928159 0.292893219 3.29289323 2.63603897"></polygon> </svg> </a> <div class="Dropdown-inner js-Dropdown-inner"> <ul> <li class=Dropdown-item> <a class="Dropdown-link text is-small u-linkDocsGreen" href=https://carto.com/developers/deck-gl>CARTO for deck.gl</a> </li> <li class=Dropdown-item> <a class="Dropdown-link text is-small u-linkDocsGreen" href=https://carto.com/developers/gmaps/guides/getting-started>CARTO + Google Maps</a> </li> <li class=Dropdown-item> <a class="Dropdown-link text is-small u-linkDocsGreen" href=https://carto.com/developers/mapbox/guides/getting-started>CARTO + Mapbox GL</a> </li> <li class=Dropdown-item> <a class="Dropdown-link text is-small u-linkDocsGreen" href=https://carto.com/developers/amazon-location>CARTO + Amazon Location</a> </li> <li class=Dropdown-item> <a class="Dropdown-link text is-small u-linkDocsGreen" href=https://carto.com/developers/mobile-sdk>Mobile SDK</a> </li> </ul> </div> </li> <li class="Navbar-item Dropdown js-Dropdown js-hide-on-focus"> <a class="Navbar-link title is-regular is-small js-Dropdown-target u-cursor--default"> APIs <svg class="Navbar-icon js-navbarCaret" width=7px height=5px viewBox="0 0 7 5" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink> <polygon id=Chevron fill=#FFFFFF fill-rule=nonzero points="1.07650484 0.292893219 0.292893219 1.12132035 3.29289323 4.29289322 6.29289322 1.12132034 5.50928159 0.292893219 3.29289323 2.63603897"></polygon> </svg> </a> <div class="Dropdown-inner js-Dropdown-inner"> <ul> <li class=Dropdown-item> <a class="Dropdown-link text is-small u-linkDocsGreen" href=https://carto.com/developers/sql-api>SQL API</a> </li> <li class=Dropdown-item> <a class="Dropdown-link text is-small u-linkDocsGreen" href=https://carto.com/developers/maps-api>Maps API</a> </li> <li class=Dropdown-item> <a class="Dropdown-link text is-small u-linkDocsGreen" href=https://carto.com/developers/import-api>Import API</a> </li> <li class=Dropdown-item> <a class="Dropdown-link text is-small u-linkDocsGreen" href=https://carto.com/developers/data-services-api>Data Services API</a> </li> <li class=Dropdown-item> <a class="Dropdown-link text is-small u-linkDocsGreen" href=https://carto.com/developers/auth-api>Auth API</a> </li> <li class=Dropdown-item> <a class="Dropdown-link text is-small u-linkDocsGreen" href=https://carto.com/developers/federated-tables-api>Federated Tables API</a> </li> </ul> </div> </li> <li class=u-relative> <ul class="Navbar-list Navbar-list--hide Navbar-height--44 js-Navbar--showConnected"> <li class="Navbar-item js-Dropdown js-Dropdown--onClick Dropdown js-hide-on-focus"> <div class="Navbar--userAvatar js-Dropdown-target u-pointer"> <img class=js-user-information data-adduserimage=avatar_url src=""> </div> <div class="Dropdown-inner Dropdown--right Dropdown--new Dropdown-new--click-activated js-Dropdown-inner"> <ul class="grid u-vspace--36"> <li class="Dropdown-item grid-cell--col12 u-flex u-vspace--36 u-flex"> <div class="Navbar--userAvatar u-rspace--12"> <img class=js-user-information data-adduserimage=avatar_url src=""> </div> <ul> <li class="is-txtBaseGrey text is-semibold is-caption is-txtBaseGrey js-user-information" data-addusertext=username></li> <li class="text is-small is-txtBaseGrey u-tspace--4 js-user-information" data-addusertext=email></li> </ul> </li> <li class="Dropdown-item grid-cell--col12 u-flex u-vspace--20"> <svg width=24 height=24 viewBox="0 0 24 18" xmlns=http://www.w3.org/2000/svg> <g fill=#2E51E8 fill-rule=nonzero> <circle cx=9 cy=9 r=2.4 /> <path d="M16 0H2a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm-1 10.09h-1.79a4.343 4.343 0 0 1-.431 1.053l1.13 1.13-1.636 1.635-1.131-1.13a4.193 4.193 0 0 1-1.053.43V15H7.908v-1.791a4.201 4.201 0 0 1-1.052-.43l-1.131 1.13-1.635-1.635 1.131-1.13a4.36 4.36 0 0 1-.431-1.053H3V7.909h1.79c.098-.373.244-.723.431-1.053L4.09 5.726 5.727 4.09l1.131 1.13a4.24 4.24 0 0 1 1.052-.43V2.999h2.181V4.79a4.23 4.23 0 0 1 1.053.43l1.131-1.13 1.636 1.636-1.13 1.13c.187.33.333.679.431 1.053H15v2.181z"/> </g> </svg> <div class=u-lspace--12> <a class="Dropdown-link text is-caption is-txtBaseGrey is-semibold js-user-information" data-addbaselink=profile>Settings</a> </div> </li> <li class="Dropdown-item grid-cell--col12 u-flex u-vspace--20"> <svg width=24 height=24 viewBox="0 0 24 19" xmlns=http://www.w3.org/2000/svg> <path d="M10.723 10.579l2.121-2.121-1.414-1.414 1.414-1.415 1.415 1.415 1.414-1.414-1.415-1.415 1.415-1.414 1.415 1.414 1.414-1.414-2.828-2.83L7.896 7.75l-.707-.707c-.781-.782-2.048-.782-2.828 0L.825 10.578c-.78.781-.78 2.047.001 2.828l4.242 4.242c.781.781 2.047.781 2.828 0l3.535-3.535c.782-.781.782-2.047 0-2.828l-.708-.706zM6.834 13.76c-.586.586-1.535.586-2.121 0-.586-.586-.586-1.535 0-2.121.586-.587 1.535-.587 2.121 0 .586.586.586 1.535 0 2.121z" fill=#2E51E8 fill-rule=nonzero /> </svg> <div class=u-lspace--12> <a class="Dropdown-link text is-caption is-txtBaseGrey is-semibold js-user-information" data-addbaselink=your_apps>API Keys</a> </div> </li> <li class="Dropdown-item grid-cell--col12 u-flex u-vspace--20"> <svg width=24 height=24 viewBox="0 0 24 17" xmlns=http://www.w3.org/2000/svg> <g fill=none fill-rule=evenodd> <path d=M-4-4h24v24H-4z /> <g fill=#2E51E8 fill-rule=nonzero> <path d="M8 8a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 9c-4.7 0-8 2.47-8 6v1h16v-1c0-3.53-3.29-6-8-6z"/> </g> </g> </svg> <div class=u-lspace--12> <a class="Dropdown-link text is-caption is-txtBaseGrey is-semibold js-user-information" data-addbaselink=me>Public Profile</a> </div> </li> <li class="Dropdown-item grid-cell--col12 u-flex"> <svg width=24 height=24 viewBox="0 0 24 13" xmlns=http://www.w3.org/2000/svg> <g fill=none fill-rule=evenodd> <path d=M-2-5h24v24H-2z /> <g fill=#2E51E8 fill-rule=nonzero> <path d="M10 5.82L18.96.26A1.98 1.98 0 0 0 18 0H2c-.35 0-.68.1-.97.26L10 5.82z"/> <path d="M10.53 7.85a1 1 0 0 1-1.06 0L0 1.97V11c0 1.1.9 2 2 2h16a2 2 0 0 0 2-2V2v-.03l-9.47 5.88z"/> </g> </g> </svg> <div class=u-lspace--12> <a class="Dropdown-link text is-caption is-txtBaseGrey is-semibold" href=mailto:support@carto.com>Contact Support</a> </div> </li> </ul> <div class="Dropdown-innerHighlight is-bgSoftBlue"> <a class="buttonLink is-txtSolutionsRed js-user-information" data-addbaselink=logout> <svg width=8px height=7px viewBox="0 0 8 7" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><g stroke=none stroke-width=1 fill=none fill-rule=evenodd><path class=buttonLink-media d="M1.52245273,3.04854764 L3.68776506,0.883235307 C3.88225492,0.688745449 3.88821988,0.353713791 3.68525771,0.15075162 C3.4882313,-0.0462747862 3.15435142,-0.053333131 2.95277402,0.148244267 L0.147793654,2.95322464 C0.0109867585,3.09003153 -0.0325396573,3.29637729 0.0243152648,3.47738142 C-0.0325396573,3.65838554 0.0109867585,3.8647313 0.147793654,4.00153819 L2.95277402,6.80651857 C3.15435142,7.00809596 3.4882313,7.00103762 3.68525771,6.80401121 C3.88821988,6.60104904 3.88225492,6.26601738 3.68776506,6.07152753 L1.70421948,4.08798194 L7.99996393,4.08798194 L7.99996393,3.04854764 L1.52245273,3.04854764 Z" id=Combined-Shape fill="currentColor " transform="translate(3.999982, 3.477381) scale(-1, 1) translate(-3.999982, -3.477381) "></path></g> </svg> Close Session </a> </div> </div> </li> </ul> </li> <li> <form action=/developers/search class=search-form> <input name=query class="input search-box" placeholder="Search in developers"> <span class="Navbar-link search-icon"><svg width=11 height=10 xmlns=http://www.w3.org/2000/svg> <g stroke=currentColor fill=none fill-rule=evenodd> <path d="M6.5 6.5L10 10" stroke-linecap=round /> <path d="M6.475 6.475a3.5 3.5 0 1 0-4.95-4.95 3.5 3.5 0 0 0 4.95 4.95z"/> </g> </svg></span> </form> </li> </ul> <ul class="Navbar-list Navbar--show-animation User-element--hide js-User--hideConnected"> <li class="Navbar-item js-hide-on-focus hide-fixed"><a class="title is-small Navbar-link is-regular" href=/developers/ ><span>Home</span></a></li> <li class="Navbar-item js-hide-on-focus"><a class="title is-small Navbar-link is-regular" href=https://carto.com/help/tutorials/your-dashboard-overview><span>Dashboard</span></a></li> <li class="Navbar-item js-hide-on-focus"><a class="title is-small Navbar-link is-regular" href=https://carto.com/help/tutorials/using-builder><span>Builder</span></a></li> <li class="Navbar-item js-hide-on-focus"><a class="title is-small Navbar-link is-regular" href=https://carto.com/developers/cartoframes><span>CARTOframes</span></a></li> <li class="Navbar-item js-hide-on-focus"><a class="title is-small Navbar-link is-regular" href=https://carto.com/help/working-with-data/intro_data_observatory><span>Data Observatory</span></a></li> <li class="Navbar-item Dropdown js-Dropdown js-hide-on-focus"> <a class="Navbar-link title is-regular is-small js-Dropdown-target u-cursor--default"> Dev tools <svg class="Navbar-icon js-navbarCaret" width=7px height=5px viewBox="0 0 7 5" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink> <polygon id=Chevron fill=#FFFFFF fill-rule=nonzero points="1.07650484 0.292893219 0.292893219 1.12132035 3.29289323 4.29289322 6.29289322 1.12132034 5.50928159 0.292893219 3.29289323 2.63603897"></polygon> </svg> </a> <div class="Dropdown-inner js-Dropdown-inner"> <ul> <li class=Dropdown-item> <a class="Dropdown-link text is-small u-linkDocsGreen" href=https://carto.com/developers/deck-gl>CARTO for deck.gl</a> </li> <li class=Dropdown-item> <a class="Dropdown-link text is-small u-linkDocsGreen" href=https://carto.com/developers/gmaps/guides/getting-started>CARTO + Google Maps</a> </li> <li class=Dropdown-item> <a class="Dropdown-link text is-small u-linkDocsGreen" href=https://carto.com/developers/mapbox/guides/getting-started>CARTO + Mapbox GL</a> </li> <li class=Dropdown-item> <a class="Dropdown-link text is-small u-linkDocsGreen" href=https://carto.com/developers/amazon-location>CARTO + Amazon Location</a> </li> <li class=Dropdown-item> <a class="Dropdown-link text is-small u-linkDocsGreen" href=https://carto.com/developers/mobile-sdk>Mobile SDK</a> </li> </ul> </div> </li> <li class="Navbar-item Dropdown js-Dropdown js-hide-on-focus"> <a class="Navbar-link title is-regular is-small js-Dropdown-target u-cursor--default"> APIs <svg class="Navbar-icon js-navbarCaret" width=7px height=5px viewBox="0 0 7 5" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink> <polygon id=Chevron fill=#FFFFFF fill-rule=nonzero points="1.07650484 0.292893219 0.292893219 1.12132035 3.29289323 4.29289322 6.29289322 1.12132034 5.50928159 0.292893219 3.29289323 2.63603897"></polygon> </svg> </a> <div class="Dropdown-inner js-Dropdown-inner"> <ul> <li class=Dropdown-item> <a class="Dropdown-link text is-small u-linkDocsGreen" href=https://carto.com/developers/sql-api>SQL API</a> </li> <li class=Dropdown-item> <a class="Dropdown-link text is-small u-linkDocsGreen" href=https://carto.com/developers/maps-api>Maps API</a> </li> <li class=Dropdown-item> <a class="Dropdown-link text is-small u-linkDocsGreen" href=https://carto.com/developers/import-api>Import API</a> </li> <li class=Dropdown-item> <a class="Dropdown-link text is-small u-linkDocsGreen" href=https://carto.com/developers/data-services-api>Data Services API</a> </li> <li class=Dropdown-item> <a class="Dropdown-link text is-small u-linkDocsGreen" href=https://carto.com/developers/auth-api>Auth API</a> </li> <li class=Dropdown-item> <a class="Dropdown-link text is-small u-linkDocsGreen" href=https://carto.com/developers/federated-tables-api>Federated Tables API</a> </li> </ul> </div> </li> <li> <form action=/developers/search class=search-form> <input name=query class="input search-box" placeholder="Search in developers"> <span class="Navbar-link search-icon"><svg width=11 height=10 xmlns=http://www.w3.org/2000/svg> <g stroke=currentColor fill=none fill-rule=evenodd> <path d="M6.5 6.5L10 10" stroke-linecap=round /> <path d="M6.475 6.475a3.5 3.5 0 1 0-4.95-4.95 3.5 3.5 0 0 0 4.95 4.95z"/> </g> </svg></span> </form> </li> </ul> </div> </div> </div> </nav> </div> <div class=mobile-menu> <ul class="NavbarMobile-collapse Navbar--scroll--vertical"> <li class=Navbar-item> <h4 class="Navbar-link u-vspace--12 title u-negative">Fundamentals</h4> <div class="Navbar-item NavbarMobile-list"> <ul class=NavbarMobile--tabletList> <li class=Navbar-subitem> <a class=Navbar-link href=/developers/fundamentals/getting-started/ > <span class="text is-small">Getting started</span> </a> </li> <li class=Navbar-subitem> <a class=Navbar-link href=/developers/fundamentals/authorization/ > <span class="text is-small">Authorization</span> </a> </li> <li class=Navbar-subitem> <a class=Navbar-link href=/developers/fundamentals/limits/ > <span class="text is-small">Limits</span> </a> </li> </ul> </div> </li> <li class=Navbar-item> <h4 class="Navbar-link u-vspace--24 title u-negative">Docs</h4> <h5 class="title is-small is-txtTypo2 u-vspace--8"> <span>Libraries</span> </h5> <ul class="NavbarMobile--tabletList NavbarMobile--tabletListOption"> <li class=Navbar-subitem> <a href=/developers/cartoframes/ class="Navbar-link is-active"> <span class="text is-small">CARTOframes</span> </a> </li> <li class=Navbar-subitem> <a href=/developers/carto-js/ class=Navbar-link> <span class="text is-small">CARTO.js</span> </a> </li> <li class=Navbar-subitem> <a href=/developers/airship/ class=Navbar-link> <span class="text is-small">Airship</span> </a> </li> <li class=Navbar-subitem> <a href=/developers/carto-vl/ class=Navbar-link> <span class="text is-small">CARTO VL</span> </a> </li> <li class=Navbar-subitem> <a href=/developers/python-sdk/ class=Navbar-link> <span class="text is-small">Python SDK</span> </a> </li> <li class=Navbar-subitem> <a href=/developers/mobile-sdk/ class=Navbar-link> <span class="text is-small">Mobile SDK</span> </a> </li> <li class=Navbar-subitem> <a href=/developers/torque-js/ class=Navbar-link> <span class="text is-small">Torque.js</span> </a> </li> </ul> <h5 class="title is-small is-txtTypo2 u-vspace--8"> <span>API</span> </h5> <ul class="NavbarMobile--tabletList NavbarMobile--tabletListOption"> <li class=Navbar-subitem> <a href=/developers/auth-api/ class=Navbar-link> <span class="text is-small">Auth API</span> </a> </li> <li class=Navbar-subitem> <a href=/developers/import-api/ class=Navbar-link> <span class="text is-small">Import API</span> </a> </li> <li class=Navbar-subitem> <a href=/developers/sql-api/ class=Navbar-link> <span class="text is-small">SQL API</span> </a> </li> <li class=Navbar-subitem> <a href=/developers/data-services-api/ class=Navbar-link> <span class="text is-small">Data Services API</span> </a> </li> <li class=Navbar-subitem> <a href=/developers/maps-api/ class=Navbar-link> <span class="text is-small">Maps API</span> </a> </li> <li class=Navbar-subitem> <a href=/developers/federated-tables-api/ class=Navbar-link> <span class="text is-small">Federated Tables API</span> </a> </li> </ul> <ul class="NavbarMobile--tabletList NavbarMobile--tabletListOption"> <li class=Navbar-subitem> <a href=/developers/styling/ class=Navbar-link> <span class="text is-small">Styling</span> </a> </li> <li class=Navbar-subitem> <a href=/developers/on-premises/ class=Navbar-link> <span class="text is-small">On-Premises</span> </a> </li> </ul> </li> </ul> </div> <div class="headerTechnology is-bgSoftGrey"> <div class="grid u-wideMargin u-noPadding--bottom"> <div class="grid-cell grid-cell--col10 grid-cell--col12--mobile u-noPadding"> <div class="u-flex u-alignCenter u-vspace--8"> <a href=/developers/cartoframes/ class=desktop><img src=/developers/img/icons/cartoframes.svg class=u-rspace--12></a> <h1 class="title is-subheader is-subheader--mobile is-colored"> <a href=/developers/cartoframes/ class="u-noUnderline is-colored"> CARTOframes </a> </h1> <select id=version_selector class="select u-auto u-lspace--12"> <option selected value=/developers/cartoframes> v1.2.5 </option> </select> <a class="u-lspace--12 u-vspace--4 header-link" href=https://github.com/CartoDB/cartoframes/releases/tag/v1.2.5 target=_blank>View changelog</a> <a class="u-lspace--12 desktop u-tspace--4" href=https://github.com/CartoDB/cartoframes/tree/v1.2.5><svg height=20 fill=#cccccc class="octicon octicon-mark-github" viewBox="0 0 16 16" version=1.1 width=24 aria-hidden=true><path fill-rule=evenodd d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg></a> </div> <p class="is-caption is-caption--mobile is-txtSoftGrey u-vspace--28">A Python package for integrating CARTO maps, analysis, and data services into data science workflows.</p> <div class="is-caption is-caption--mobile header-warning is-semibold u-vspace--16"> <p>This component is still under support but it will not be further developed. We don’t recommend starting new projects with it as it will eventually become deprecated. Instead, learn more about our new Python packages <a href=https://docs.carto.com/carto-python/overview/ >here</a>.</p> </div> </div> <div class="grid-cell grid-cell--col12 u-noPadding"> <div class=tab-navigationContainer> <ul class="tab-navigation is-colored"> <li class=tab-navigationItem> <a href=/developers/cartoframes/ class="tab-navigationAction title is-caption is-caption--mobile is-regular is-active">Overview</a> </li> <li class=tab-navigationItem> <a href=/developers/cartoframes/guides/Introduction class="tab-navigationAction title is-caption is-caption--mobile is-regular u-ellipsis">Guides </a> </li> <li class=tab-navigationItem> <a href=/developers/cartoframes/reference/ class="tab-navigationAction title is-caption is-caption--mobile is-regular">Reference</a> </li> <li class=tab-navigationItem> <a href=/developers/cartoframes/examples/ class="tab-navigationAction title is-caption is-caption--mobile is-regular">Examples</a> </li> <li class=tab-navigationItem> <a href=/developers/cartoframes/support/Support-options/ class="tab-navigationAction title is-caption is-caption--mobile is-regular">Support</a> </li> </ul> </div> </div> </div> </div> </header> <section class=Section> <div class="grid container u-wideMargin--big"> <div class="grid-cell grid-cell--col12 grid-cell--col12--mobile intro-tech"> <h2 class="title is-subheader u-vspace--8">What is CARTOframes?</h2> <p>CARTOframes is a Python package for integrating CARTO maps, analysis, and data services into data science workflows.</p> <p>Python data analysis workflows often rely on the pandas and jupyter notebook de facto standards. Integrating CARTO into this workflow saves data scientists time and energy by not having to export datasets as files or retain multiple copies of the data. To understand the fundamentals of CARTOframes, <a href=/developers/cartoframes/guides/ >read the guides</a>. To view the source code, browse the <a href=https://github.com/CartoDB/cartoframes>open-source repository</a> in GitHub and <a href=https://github.com/CartoDB/cartoframes/blob/develop/CONTRIBUTING.md>contribute</a>. Otherwise, read the <a href=/developers/cartoframes/reference/ >full reference API</a>, or find different <a href=/developers/cartoframes/support/ >support options</a>.</p> </div> </div>  </section> <section class="Section is-BorderTop"> <div class="grid container u-wideMargin--big"> <div class="grid-cell grid-cell--col10 grid-cell--col12--mobile"> <h2 class="title is-subheader u-vspace--8">Guides</h2> <p class="text is-body is-txtBaseGrey u-vspace--32 u-vspace--24--mobile">Quick reference <a href=/developers/cartoframes/guides/ >guides</a> for learning how to use CARTOframes features.</p> </div> </div> <ul class="grid container u-wideMargin--big"> <li class="grid-cell grid-cell--col6 grid-cell--col12--mobile u-vspace--24"> <a href=/developers/cartoframes/guides/Installation/ class="box-text is-full box-textLink"> <div class=box-textMedia> <img src=/developers/img/assets/cartoframes/guide-1.02c14dce.png alt=Installation> </div> <div class=box-textContent> <h3 class="title is-caption is-caption--mobile is-colored">Installation</h3> <p class="text is-small is-txtDocsGrey hide u-tspace--4"></p> </div> </a> </li> <li class="grid-cell grid-cell--col6 grid-cell--col12--mobile u-vspace--24"> <a href=/developers/cartoframes/guides/Quickstart/ class="box-text is-full box-textLink"> <div class=box-textMedia> <img src=/developers/img/assets/cartoframes/guide-2.eafd219c.png alt=Quickstart> </div> <div class=box-textContent> <h3 class="title is-caption is-caption--mobile is-colored">Quickstart</h3> <p class="text is-small is-txtDocsGrey hide u-tspace--4"></p> </div> </a> </li> </ul>  </section> <section class="Section is-BorderTop"> <div class="grid container u-wideMargin--big"> <div class="grid-cell grid-cell--col5 grid-cell--col12--mobile"> <h2 class="title is-subheader u-vspace--8">Reference</h2> <p class="text is-body is-txtBaseGrey">Browse the interactive API documentation to search for specific CARTOframes methods, arguments, and sample code that can be used to build your applications.</p> <a href=/developers/cartoframes/reference/ class="buttonLink is-Green u-tspace--24 u-vspace--32"> <svg width=8px height=7px viewBox="0 0 8 7" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><g stroke=none stroke-width=1 fill=none fill-rule=evenodd><path class=buttonLink-media d="M1.52245273,3.04854764 L3.68776506,0.883235307 C3.88225492,0.688745449 3.88821988,0.353713791 3.68525771,0.15075162 C3.4882313,-0.0462747862 3.15435142,-0.053333131 2.95277402,0.148244267 L0.147793654,2.95322464 C0.0109867585,3.09003153 -0.0325396573,3.29637729 0.0243152648,3.47738142 C-0.0325396573,3.65838554 0.0109867585,3.8647313 0.147793654,4.00153819 L2.95277402,6.80651857 C3.15435142,7.00809596 3.4882313,7.00103762 3.68525771,6.80401121 C3.88821988,6.60104904 3.88225492,6.26601738 3.68776506,6.07152753 L1.70421948,4.08798194 L7.99996393,4.08798194 L7.99996393,3.04854764 L1.52245273,3.04854764 Z" id=Combined-Shape fill=#80D100 transform="translate(3.999982, 3.477381) scale(-1, 1) translate(-3.999982, -3.477381) "></path></g></svg> Check Full Reference API </a> </div> <div class="grid-cell grid-cell--col1"> </div> <div class="grid-cell--col6 grid-cell--col12--mobile overview-rerferenceAsset perfect-scrollbar"> <div class="language-python highlighter-rouge"><div class=highlight><pre class=highlight><code><table class=rouge-table><tr><td class="rouge-gutter gl"><pre class=lineno>1
2
3
4
5
6
7
8
9
10
</pre><td class=rouge-code><pre><span class=kn>from</span> <span class=nn>cartoframes.auth</span> <span class=kn>import</span> <span class=n>set_default_credentials</span>
<span class=kn>from</span> <span class=nn>cartoframes.data.observatory</span> <span class=kn>import</span> <span class=n>Enrichment</span>

<span class=n>set_default_credentials</span><span class=p>(</span><span class=s>'creds.json'</span><span class=p>)</span>
<span class=n>enrichment</span> <span class=o>=</span> <span class=n>Enrichment</span><span class=p>()</span>

<span class=n>enriched_df</span> <span class=o>=</span> <span class=n>enrichment</span><span class=p>.</span><span class=n>enrich_points</span><span class=p>(</span>
    <span class=n>df</span><span class=p>,</span>
    <span class=n>variables</span><span class=o>=</span><span class=p>[</span><span class=s>'total_pop_3cf008b3'</span><span class=p>]</span>
<span class=p>)</span>
</pre></table></code></pre></div></div> </div> </div> </section> <section class="Section is-BorderTop"> <div class="grid container u-wideMargin--big"> <div class="grid-cell grid-cell--col9 grid-cell--col12--mobile"> <h2 class="title is-subheader u-vspace--8">Examples</h2> <p class="text is-body is-txtBaseGrey u-vspace--32">Play with <a href=/developers/cartoframes/examples/ >real examples</a> and learn by doing.</p> </div> </div> <div class="grid container u-wideMargin--big js-tabs-overviewExamples"> <div class="grid-cell grid-cell--col9 grid-cell--col12--mobile only-code-example"> <div class=exampleNotebook-overview id=tab-example-1> <div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt"> </div><div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h2 id=Geocode-London-Stations>Geocode London Stations<a class=anchor-link href=#Geocode-London-Stations>&#182;</a></h2><p>Source: <a href=https://data.london.gov.uk/dataset/london-underground-performance-reports>https://data.london.gov.uk/dataset/london-underground-performance-reports</a></p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class="prompt input_prompt">In&nbsp;[1]:</div> <div class=inner_cell> <div class=input_area> <div class="highlight hl-ipython3"><pre><span></span><span class=kn>import</span> <span class=nn>pandas</span>
<span class=kn>from</span> <span class=nn>cartoframes.auth</span> <span class=kn>import</span> <span class=n>set_default_credentials</span>
<span class=kn>from</span> <span class=nn>cartoframes.data.services</span> <span class=kn>import</span> <span class=n>Geocoding</span>

<span class=n>set_default_credentials</span><span class=p>(</span><span class=s1>&#39;creds.json&#39;</span><span class=p>)</span>
</pre></div> </div> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class="prompt input_prompt">In&nbsp;[2]:</div> <div class=inner_cell> <div class=input_area> <div class="highlight hl-ipython3"><pre><span></span><span class=n>file_path</span> <span class=o>=</span> <span class=s1>&#39;https://libs.cartocdn.com/cartoframes/samples/london_stations.xls&#39;</span>
<span class=n>df</span> <span class=o>=</span> <span class=n>pandas</span><span class=o>.</span><span class=n>read_excel</span><span class=p>(</span><span class=n>file_path</span><span class=p>,</span> <span class=n>header</span><span class=o>=</span><span class=mi>6</span><span class=p>,</span> <span class=n>sheet_name</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>
<span class=n>df</span><span class=o>.</span><span class=n>head</span><span class=p>()</span>
</pre></div> </div> </div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="prompt output_prompt">Out[2]:</div> <div class="output_html rendered_html output_subarea output_execute_result"> <div> <style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style> <table border=1 class=dataframe> <thead> <tr style=text-align:right> <th></th> <th>nlc</th> <th>Station</th> <th>Borough</th> <th>Note</th> <th>Weekday</th> <th>Saturday</th> <th>Sunday</th> <th>Weekday.1</th> <th>Saturday.1</th> <th>Sunday.1</th> <th>million</th> </tr> </thead> <tbody> <tr> <th>0</th> <td>500.0</td> <td>Acton Town</td> <td>Ealing</td> <td></td> <td>9531.0</td> <td>6716.0</td> <td>4744.0</td> <td>9382.0</td> <td>6617.0</td> <td>4785.0</td> <td>6.040516</td> </tr> <tr> <th>1</th> <td>502.0</td> <td>Aldgate</td> <td>City of London</td> <td></td> <td>15080.0</td> <td>4397.0</td> <td>3261.0</td> <td>16023.0</td> <td>5909.0</td> <td>4230.0</td> <td>8.846940</td> </tr> <tr> <th>2</th> <td>503.0</td> <td>Aldgate East</td> <td>Tower Hamlets</td> <td></td> <td>22327.0</td> <td>16166.0</td> <td>13323.0</td> <td>21071.0</td> <td>13893.0</td> <td>11347.0</td> <td>13.998292</td> </tr> <tr> <th>3</th> <td>505.0</td> <td>Alperton</td> <td>Brent</td> <td></td> <td>4495.0</td> <td>3279.0</td> <td>2345.0</td> <td>5081.0</td> <td>3392.0</td> <td>2445.0</td> <td>3.052230</td> </tr> <tr> <th>4</th> <td>506.0</td> <td>Amersham</td> <td>Chiltern</td> <td></td> <td>3848.0</td> <td>1876.0</td> <td>1232.0</td> <td>4025.0</td> <td>1797.0</td> <td>1121.0</td> <td>2.321692</td> </tr> </tbody> </table> </div> </div> </div> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class="prompt input_prompt">In&nbsp;[3]:</div> <div class=inner_cell> <div class=input_area> <div class="highlight hl-ipython3"><pre><span></span><span class=n>df</span> <span class=o>=</span> <span class=n>df</span><span class=o>.</span><span class=n>rename</span><span class=p>(</span><span class=n>columns</span><span class=o>=</span><span class=p>{</span>
    <span class=s2>&quot;Saturday.1&quot;</span><span class=p>:</span> <span class=s2>&quot;saturday_exit&quot;</span><span class=p>,</span>
    <span class=s2>&quot;Sunday.1&quot;</span><span class=p>:</span> <span class=s2>&quot;sunday_exit&quot;</span><span class=p>,</span>
    <span class=s2>&quot;Weekday.1&quot;</span><span class=p>:</span> <span class=s2>&quot;weekday_exit&quot;</span><span class=p>,</span>
    <span class=s2>&quot;Saturday&quot;</span><span class=p>:</span> <span class=s2>&quot;saturday_entry&quot;</span><span class=p>,</span>
    <span class=s2>&quot;Sunday&quot;</span><span class=p>:</span> <span class=s2>&quot;sunday_entry&quot;</span><span class=p>,</span>
    <span class=s2>&quot;Weekday&quot;</span><span class=p>:</span> <span class=s2>&quot;weekday_entry&quot;</span>
<span class=p>})</span>

<span class=n>df</span><span class=o>.</span><span class=n>head</span><span class=p>()</span>
</pre></div> </div> </div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="prompt output_prompt">Out[3]:</div> <div class="output_html rendered_html output_subarea output_execute_result"> <div> <style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style> <table border=1 class=dataframe> <thead> <tr style=text-align:right> <th></th> <th>nlc</th> <th>Station</th> <th>Borough</th> <th>Note</th> <th>weekday_entry</th> <th>saturday_entry</th> <th>sunday_entry</th> <th>weekday_exit</th> <th>saturday_exit</th> <th>sunday_exit</th> <th>million</th> </tr> </thead> <tbody> <tr> <th>0</th> <td>500.0</td> <td>Acton Town</td> <td>Ealing</td> <td></td> <td>9531.0</td> <td>6716.0</td> <td>4744.0</td> <td>9382.0</td> <td>6617.0</td> <td>4785.0</td> <td>6.040516</td> </tr> <tr> <th>1</th> <td>502.0</td> <td>Aldgate</td> <td>City of London</td> <td></td> <td>15080.0</td> <td>4397.0</td> <td>3261.0</td> <td>16023.0</td> <td>5909.0</td> <td>4230.0</td> <td>8.846940</td> </tr> <tr> <th>2</th> <td>503.0</td> <td>Aldgate East</td> <td>Tower Hamlets</td> <td></td> <td>22327.0</td> <td>16166.0</td> <td>13323.0</td> <td>21071.0</td> <td>13893.0</td> <td>11347.0</td> <td>13.998292</td> </tr> <tr> <th>3</th> <td>505.0</td> <td>Alperton</td> <td>Brent</td> <td></td> <td>4495.0</td> <td>3279.0</td> <td>2345.0</td> <td>5081.0</td> <td>3392.0</td> <td>2445.0</td> <td>3.052230</td> </tr> <tr> <th>4</th> <td>506.0</td> <td>Amersham</td> <td>Chiltern</td> <td></td> <td>3848.0</td> <td>1876.0</td> <td>1232.0</td> <td>4025.0</td> <td>1797.0</td> <td>1121.0</td> <td>2.321692</td> </tr> </tbody> </table> </div> </div> </div> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class="prompt input_prompt">In&nbsp;[4]:</div> <div class=inner_cell> <div class=input_area> <div class="highlight hl-ipython3"><pre><span></span><span class=n>gc</span> <span class=o>=</span> <span class=n>Geocoding</span><span class=p>()</span>

<span class=n>london_stations_gdf</span><span class=p>,</span> <span class=n>london_stations_metadata</span> <span class=o>=</span> <span class=n>gc</span><span class=o>.</span><span class=n>geocode</span><span class=p>(</span>
    <span class=n>df</span><span class=p>,</span>
    <span class=n>street</span><span class=o>=</span><span class=s1>&#39;Borough&#39;</span><span class=p>,</span>
    <span class=n>city</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;value&#39;</span><span class=p>:</span> <span class=s1>&#39;London&#39;</span><span class=p>},</span>
    <span class=n>country</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;value&#39;</span><span class=p>:</span> <span class=s1>&#39;United Kingdom&#39;</span><span class=p>}</span>
<span class=p>)</span>
</pre></div> </div> </div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class=prompt></div> <div class="output_subarea output_stream output_stdout output_text"> <pre>Success! Data geocoded correctly
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class="prompt input_prompt">In&nbsp;[5]:</div> <div class=inner_cell> <div class=input_area> <div class="highlight hl-ipython3"><pre><span></span><span class=n>london_stations_gdf</span><span class=o>.</span><span class=n>head</span><span class=p>()</span>
</pre></div> </div> </div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="prompt output_prompt">Out[5]:</div> <div class="output_html rendered_html output_subarea output_execute_result"> <div> <style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style> <table border=1 class=dataframe> <thead> <tr style=text-align:right> <th></th> <th>the_geom</th> <th>nlc</th> <th>station</th> <th>borough</th> <th>note</th> <th>weekday_entry</th> <th>saturday_entry</th> <th>sunday_entry</th> <th>weekday_exit</th> <th>saturday_exit</th> <th>sunday_exit</th> <th>million</th> <th>gc_status_rel</th> <th>carto_geocode_hash</th> </tr> </thead> <tbody> <tr> <th>0</th> <td>POINT (-0.30421 51.51335)</td> <td>500.0</td> <td>Acton Town</td> <td>Ealing</td> <td></td> <td>9531.0</td> <td>6716.0</td> <td>4744.0</td> <td>9382.0</td> <td>6617.0</td> <td>4785.0</td> <td>6.040516</td> <td>0.55</td> <td>985f9d318280297b6108bc30e92d92e1</td> </tr> <tr> <th>1</th> <td>POINT (-0.08895 51.51333)</td> <td>502.0</td> <td>Aldgate</td> <td>City of London</td> <td></td> <td>15080.0</td> <td>4397.0</td> <td>3261.0</td> <td>16023.0</td> <td>5909.0</td> <td>4230.0</td> <td>8.846940</td> <td>0.88</td> <td>7abfcd5c0283e877a275f0d059836a09</td> </tr> <tr> <th>2</th> <td>POINT (-0.03228 51.51740)</td> <td>503.0</td> <td>Aldgate East</td> <td>Tower Hamlets</td> <td></td> <td>22327.0</td> <td>16166.0</td> <td>13323.0</td> <td>21071.0</td> <td>13893.0</td> <td>11347.0</td> <td>13.998292</td> <td>0.75</td> <td>c1ba0efb09cc8e5caf79092547a7a3e7</td> </tr> <tr> <th>3</th> <td>POINT (-0.24564 51.55493)</td> <td>505.0</td> <td>Alperton</td> <td>Brent</td> <td></td> <td>4495.0</td> <td>3279.0</td> <td>2345.0</td> <td>5081.0</td> <td>3392.0</td> <td>2445.0</td> <td>3.052230</td> <td>0.55</td> <td>c9f07eb29a060527ca81a613cca80007</td> </tr> <tr> <th>4</th> <td>POINT (-0.15566 51.52048)</td> <td>506.0</td> <td>Amersham</td> <td>Chiltern</td> <td></td> <td>3848.0</td> <td>1876.0</td> <td>1232.0</td> <td>4025.0</td> <td>1797.0</td> <td>1121.0</td> <td>2.321692</td> <td>0.54</td> <td>518e37ccd63a56df5d5758fb8e52a5dd</td> </tr> </tbody> </table> </div> </div> </div> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class="prompt input_prompt">In&nbsp;[6]:</div> <div class=inner_cell> <div class=input_area> <div class="highlight hl-ipython3"><pre><span></span><span class=kn>from</span> <span class=nn>cartoframes.viz</span> <span class=kn>import</span> <span class=n>Map</span><span class=p>,</span> <span class=n>Layer</span>

<span class=n>Map</span><span class=p>(</span><span class=n>Layer</span><span class=p>(</span><span class=n>london_stations_gdf</span><span class=p>),</span> <span class=n>viewport</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;zoom&#39;</span><span class=p>:</span> <span class=mi>10</span><span class=p>,</span> <span class=s1>&#39;lat&#39;</span><span class=p>:</span> <span class=mf>51.53</span><span class=p>,</span> <span class=s1>&#39;lng&#39;</span><span class=p>:</span> <span class=o>-</span><span class=mf>0.09</span><span class=p>})</span>
</pre></div> </div> </div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="prompt output_prompt">Out[6]:</div> <div class="output_html rendered_html output_subarea output_execute_result"> <iframe class=no-lazy-loader frameborder=0 style="border:1px solid #cfcfcf;width:100%;height:632px" srcdoc="
  &lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;title&gt;None&lt;/title&gt;
  &lt;meta name=&quot;description&quot; content=&quot;None&quot;&gt;
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;!-- Include CARTO VL JS --&gt;
  &lt;script src=&quot;https://libs.cartocdn.com/carto-vl/v1.4/carto-vl.min.js&quot;&gt;&lt;/script&gt;
  &lt;!-- Include Mapbox GL JS --&gt;
  &lt;script src=&quot;https://api.tiles.mapbox.com/mapbox-gl-js/v1.0.0/mapbox-gl.js&quot;&gt;&lt;/script&gt;
  &lt;!-- Include Mapbox GL CSS --&gt;
  &lt;link href=&quot;https://api.tiles.mapbox.com/mapbox-gl-js/v1.0.0/mapbox-gl.css&quot; rel=&quot;stylesheet&quot; /&gt;

  &lt;!-- Include Airship --&gt;
  &lt;script nomodule=&quot;&quot; src=&quot;https://libs.cartocdn.com/airship-components/v2.3/airship.js&quot;&gt;&lt;/script&gt;
  &lt;script type=&quot;module&quot; src=&quot;https://libs.cartocdn.com/airship-components/v2.3/airship/airship.esm.js&quot;&gt;&lt;/script&gt;
  &lt;script src=&quot;https://libs.cartocdn.com/airship-bridge/v2.3/asbridge.min.js&quot;&gt;&lt;/script&gt;
  &lt;link href=&quot;https://libs.cartocdn.com/airship-style/v2.3/airship.min.css&quot; rel=&quot;stylesheet&quot;&gt;
  &lt;link href=&quot;https://libs.cartocdn.com/airship-icons/v2.3/icons.css&quot; rel=&quot;stylesheet&quot;&gt;

  &lt;link href=&quot;https://fonts.googleapis.com/css?family=Roboto&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;

  &lt;!-- External libraries --&gt;

  &lt;!-- pako --&gt;
  &lt;script src=&quot;https://libs.cartocdn.com/cartoframes/dependencies/pako_inflate.min.js&quot;&gt;&lt;/script&gt;
  
  &lt;!-- html2canvas --&gt;
  

  
  &lt;style&gt;
  body {
    margin: 0;
    padding: 0;
  }

  aside.as-sidebar {
    min-width: 300px;
  }

  .map-image {
    display: none;
    max-width: 100%;
    height: auto;
  }

  as-layer-selector-slot .as-layer-selector-slot--wrapper .as-caption { // FIXME
    font-size: 14px;
    line-height: 14px;
  }
&lt;/style&gt;
  &lt;style&gt;
  .map {
    position: absolute;
    height: 100%;
    width: 100%;
  }

  .map-info {
    position: absolute;
    bottom: 0;
    padding: 0 5px;
    background-color: rgba(255, 255, 255, 0.5);
    margin: 0;
    color: rgba(0, 0, 0, 0.75);
    font-size: 12px;
    width: auto;
    height: 18px;
    font-family: 'Open Sans';
  }

  .map-footer {
    background: #F2F6F9;
    font-family: Roboto;
    font-size: 12px;
    line-height: 24px;
    color: #162945;
    text-align: center;
    z-index: 2;
  }

  .map-footer a {
    text-decoration: none;
  }

  .map-footer a:hover {
    text-decoration: underline;
  }
&lt;/style&gt;
    &lt;style&gt;
    #error-container {
      position: absolute;
      width: 100%;
      height: 100%;
      background-color: white;
      visibility: hidden;
      padding: 1em;
      font-family: &quot;Courier New&quot;, Courier, monospace;
      margin: 0 auto;
      font-size: 14px;
      overflow: auto;
      z-index: 1000;
      color: black;
    }

    .error-section {
      padding: 1em;
      border-radius: 5px;
      background-color: #fee;
    }

    #error-container #error-highlight {
      font-weight: bold;
      color: inherit;
    }

    #error-container #error-type {
      color: #008000;
    }

    #error-container #error-name {
      color: #ba2121;
    }

    #error-container #error-content {
      margin-top: 0.4em;
    }

    .error-details {
      margin-top: 1em;
    }

    #error-stacktrace {
      list-style: none;
    }
&lt;/style&gt;
  &lt;style&gt;
    .popup-content {
      display: flex;
      flex-direction: column;
      padding: 8px;
    }

    .popup-name {
      font-size: 12px;
      font-weight: 400;
      line-height: 20px;
      margin-bottom: 4px;
    }

    .popup-value {
      font-size: 16px;
      font-weight: 600;
      line-height: 20px;
    }

    .popup-value:not(:last-of-type) {
      margin-bottom: 16px;
    }
&lt;/style&gt;
  &lt;style&gt;
  as-widget-header .as-widget-header__header {
    margin-bottom: 8px;
    overflow-wrap: break-word;
  }

  as-widget-header .as-widget-header__subheader {
    margin-bottom: 12px;
  }

  as-category-widget {
    max-height: 250px;
  }
&lt;/style&gt;
&lt;/head&gt;

&lt;body class=&quot;as-app-body as-app&quot;&gt;
  &lt;img id=&quot;map-image&quot; class=&quot;map-image&quot; alt='Static map image' /&gt;
  &lt;as-responsive-content id=&quot;main-container&quot;&gt;
    
    &lt;main class=&quot;as-main&quot;&gt;
      &lt;div class=&quot;as-map-area&quot;&gt;
        &lt;div id=&quot;map&quot; class=&quot;map&quot;&gt;&lt;/div&gt;
        
        
      &lt;/div&gt; &lt;!-- as-map-area --&gt;
    &lt;/main&gt; &lt;!-- as-main --&gt;
  &lt;/as-responsive-content&gt;

  

  &lt;div id=&quot;error-container&quot; class=&quot;error&quot;&gt;
  &lt;section class=&quot;error-section&quot;&gt;
    &lt;span class=&quot;errors&quot; id=&quot;error-name&quot;&gt;&lt;/span&gt;:
    &lt;section id=&quot;error-content&quot;&gt;
      &lt;span class=&quot;errors&quot; id=&quot;error-type&quot;&gt;&lt;/span&gt;
      &lt;span class=&quot;errors&quot; id=&quot;error-message&quot;&gt;&lt;/span&gt;
    &lt;/section&gt;
  &lt;/section&gt;

  &lt;details class=&quot;error-details&quot;&gt;
    &lt;summary&gt;StackTrace&lt;/summary&gt;
    &lt;ul id=&quot;error-stacktrace&quot;&gt;&lt;/ul&gt;
  &lt;/details&gt;
&lt;/div&gt;
&lt;/body&gt;

&lt;script&gt;
  var init = (function () {
  'use strict';

  const BASEMAPS = {
    DarkMatter: carto.basemaps.darkmatter,
    Voyager: carto.basemaps.voyager,
    Positron: carto.basemaps.positron
  };

  const attributionControl = new mapboxgl.AttributionControl({
    compact: false
  });

  const FIT_BOUNDS_SETTINGS = { animate: false, padding: 50, maxZoom: 16 };

  /** From https://github.com/errwischt/stacktrace-parser/blob/master/src/stack-trace-parser.js */

  /**
   * This parses the different stack traces and puts them into one format
   * This borrows heavily from TraceKit (https://github.com/csnover/TraceKit)
   */

  const UNKNOWN_FUNCTION = '&lt;unknown&gt;';
  const chromeRe = /^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|&lt;anonymous&gt;|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i;
  const chromeEvalRe = /\((\S*)(?::(\d+))(?::(\d+))\)/;
  const winjsRe = /^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;
  const geckoRe = /^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i;
  const geckoEvalRe = /(\S+) line (\d+)(?: &gt; eval line \d+)* &gt; eval/i;

  function parse(stackString) {
    const lines = stackString.split('\n');

    return lines.reduce((stack, line) =&gt; {
      const parseResult =
        parseChrome(line) ||
        parseWinjs(line) ||
        parseGecko(line);

      if (parseResult) {
        stack.push(parseResult);
      }

      return stack;
    }, []);
  }

  function parseChrome(line) {
    const parts = chromeRe.exec(line);

    if (!parts) {
      return null;
    }

    const isNative = parts[2] &amp;&amp; parts[2].indexOf('native') === 0; // start of line
    const isEval = parts[2] &amp;&amp; parts[2].indexOf('eval') === 0; // start of line

    const submatch = chromeEvalRe.exec(parts[2]);
    if (isEval &amp;&amp; submatch != null) {
      // throw out eval line/column and use top-most line/column number
      parts[2] = submatch[1]; // url
      parts[3] = submatch[2]; // line
      parts[4] = submatch[3]; // column
    }

    return {
      file: !isNative ? parts[2] : null,
      methodName: parts[1] || UNKNOWN_FUNCTION,
      arguments: isNative ? [parts[2]] : [],
      lineNumber: parts[3] ? +parts[3] : null,
      column: parts[4] ? +parts[4] : null,
    };
  }

  function parseWinjs(line) {
    const parts = winjsRe.exec(line);

    if (!parts) {
      return null;
    }

    return {
      file: parts[2],
      methodName: parts[1] || UNKNOWN_FUNCTION,
      arguments: [],
      lineNumber: +parts[3],
      column: parts[4] ? +parts[4] : null,
    };
  }

  function parseGecko(line) {
    const parts = geckoRe.exec(line);

    if (!parts) {
      return null;
    }

    const isEval = parts[3] &amp;&amp; parts[3].indexOf(' &gt; eval') &gt; -1;

    const submatch = geckoEvalRe.exec(parts[3]);
    if (isEval &amp;&amp; submatch != null) {
      // throw out eval line/column and use top-most line number
      parts[3] = submatch[1];
      parts[4] = submatch[2];
      parts[5] = null; // no column when eval
    }

    return {
      file: parts[3],
      methodName: parts[1] || UNKNOWN_FUNCTION,
      arguments: parts[2] ? parts[2].split(',') : [],
      lineNumber: parts[4] ? +parts[4] : null,
      column: parts[5] ? +parts[5] : null,
    };
  }

  function displayError(e) {
    const error$ = document.getElementById('error-container');
    const errors$ = error$.getElementsByClassName('errors');
    const stacktrace$ = document.getElementById('error-stacktrace');

    errors$[0].innerHTML = e.name;
    errors$[1].innerHTML = e.type;
    errors$[2].innerHTML = e.message.replace(e.type, '');

    error$.style.visibility = 'visible';

    const stack = parse(e.stack);
    const list = stack.map(item =&gt; {
      return `&lt;li&gt;
      at &lt;span class=&quot;stacktrace-method&quot;&gt;${item.methodName}:&lt;/span&gt;
      (${item.file}:${item.lineNumber}:${item.column})
    &lt;/li&gt;`;
    });

    stacktrace$.innerHTML = list.join('\n');
  }

  // Computes the decimal coefficient and exponent of the specified number x with
  // significant digits p, where x is positive and p is in [1, 21] or undefined.
  // For example, formatDecimal(1.23) returns [&quot;123&quot;, 0].
  function formatDecimal(x, p) {
    if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(&quot;e&quot;)) &lt; 0) return null; // NaN, ±Infinity
    var i, coefficient = x.slice(0, i);

    // The string returned by toExponential either has the form \d\.\d+e[-+]\d+
    // (e.g., 1.2e+3) or the form \de[-+]\d+ (e.g., 1e+3).
    return [
      coefficient.length &gt; 1 ? coefficient[0] + coefficient.slice(2) : coefficient,
      +x.slice(i + 1)
    ];
  }

  function exponent(x) {
    return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;
  }

  function formatGroup(grouping, thousands) {
    return function(value, width) {
      var i = value.length,
          t = [],
          j = 0,
          g = grouping[0],
          length = 0;

      while (i &gt; 0 &amp;&amp; g &gt; 0) {
        if (length + g + 1 &gt; width) g = Math.max(1, width - length);
        t.push(value.substring(i -= g, i + g));
        if ((length += g + 1) &gt; width) break;
        g = grouping[j = (j + 1) % grouping.length];
      }

      return t.reverse().join(thousands);
    };
  }

  function formatNumerals(numerals) {
    return function(value) {
      return value.replace(/[0-9]/g, function(i) {
        return numerals[+i];
      });
    };
  }

  // [[fill]align][sign][symbol][0][width][,][.precision][~][type]
  var re = /^(?:(.)?([&lt;&gt;=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;

  function formatSpecifier(specifier) {
    if (!(match = re.exec(specifier))) throw new Error(&quot;invalid format: &quot; + specifier);
    var match;
    return new FormatSpecifier({
      fill: match[1],
      align: match[2],
      sign: match[3],
      symbol: match[4],
      zero: match[5],
      width: match[6],
      comma: match[7],
      precision: match[8] &amp;&amp; match[8].slice(1),
      trim: match[9],
      type: match[10]
    });
  }

  formatSpecifier.prototype = FormatSpecifier.prototype; // instanceof

  function FormatSpecifier(specifier) {
    this.fill = specifier.fill === undefined ? &quot; &quot; : specifier.fill + &quot;&quot;;
    this.align = specifier.align === undefined ? &quot;&gt;&quot; : specifier.align + &quot;&quot;;
    this.sign = specifier.sign === undefined ? &quot;-&quot; : specifier.sign + &quot;&quot;;
    this.symbol = specifier.symbol === undefined ? &quot;&quot; : specifier.symbol + &quot;&quot;;
    this.zero = !!specifier.zero;
    this.width = specifier.width === undefined ? undefined : +specifier.width;
    this.comma = !!specifier.comma;
    this.precision = specifier.precision === undefined ? undefined : +specifier.precision;
    this.trim = !!specifier.trim;
    this.type = specifier.type === undefined ? &quot;&quot; : specifier.type + &quot;&quot;;
  }

  FormatSpecifier.prototype.toString = function() {
    return this.fill
        + this.align
        + this.sign
        + this.symbol
        + (this.zero ? &quot;0&quot; : &quot;&quot;)
        + (this.width === undefined ? &quot;&quot; : Math.max(1, this.width | 0))
        + (this.comma ? &quot;,&quot; : &quot;&quot;)
        + (this.precision === undefined ? &quot;&quot; : &quot;.&quot; + Math.max(0, this.precision | 0))
        + (this.trim ? &quot;~&quot; : &quot;&quot;)
        + this.type;
  };

  // Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.
  function formatTrim(s) {
    out: for (var n = s.length, i = 1, i0 = -1, i1; i &lt; n; ++i) {
      switch (s[i]) {
        case &quot;.&quot;: i0 = i1 = i; break;
        case &quot;0&quot;: if (i0 === 0) i0 = i; i1 = i; break;
        default: if (!+s[i]) break out; if (i0 &gt; 0) i0 = 0; break;
      }
    }
    return i0 &gt; 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;
  }

  var prefixExponent;

  function formatPrefixAuto(x, p) {
    var d = formatDecimal(x, p);
    if (!d) return x + &quot;&quot;;
    var coefficient = d[0],
        exponent = d[1],
        i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,
        n = coefficient.length;
    return i === n ? coefficient
        : i &gt; n ? coefficient + new Array(i - n + 1).join(&quot;0&quot;)
        : i &gt; 0 ? coefficient.slice(0, i) + &quot;.&quot; + coefficient.slice(i)
        : &quot;0.&quot; + new Array(1 - i).join(&quot;0&quot;) + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!
  }

  function formatRounded(x, p) {
    var d = formatDecimal(x, p);
    if (!d) return x + &quot;&quot;;
    var coefficient = d[0],
        exponent = d[1];
    return exponent &lt; 0 ? &quot;0.&quot; + new Array(-exponent).join(&quot;0&quot;) + coefficient
        : coefficient.length &gt; exponent + 1 ? coefficient.slice(0, exponent + 1) + &quot;.&quot; + coefficient.slice(exponent + 1)
        : coefficient + new Array(exponent - coefficient.length + 2).join(&quot;0&quot;);
  }

  var formatTypes = {
    &quot;%&quot;: function(x, p) { return (x * 100).toFixed(p); },
    &quot;b&quot;: function(x) { return Math.round(x).toString(2); },
    &quot;c&quot;: function(x) { return x + &quot;&quot;; },
    &quot;d&quot;: function(x) { return Math.round(x).toString(10); },
    &quot;e&quot;: function(x, p) { return x.toExponential(p); },
    &quot;f&quot;: function(x, p) { return x.toFixed(p); },
    &quot;g&quot;: function(x, p) { return x.toPrecision(p); },
    &quot;o&quot;: function(x) { return Math.round(x).toString(8); },
    &quot;p&quot;: function(x, p) { return formatRounded(x * 100, p); },
    &quot;r&quot;: formatRounded,
    &quot;s&quot;: formatPrefixAuto,
    &quot;X&quot;: function(x) { return Math.round(x).toString(16).toUpperCase(); },
    &quot;x&quot;: function(x) { return Math.round(x).toString(16); }
  };

  function identity(x) {
    return x;
  }

  var map = Array.prototype.map,
      prefixes = [&quot;y&quot;,&quot;z&quot;,&quot;a&quot;,&quot;f&quot;,&quot;p&quot;,&quot;n&quot;,&quot;µ&quot;,&quot;m&quot;,&quot;&quot;,&quot;k&quot;,&quot;M&quot;,&quot;G&quot;,&quot;T&quot;,&quot;P&quot;,&quot;E&quot;,&quot;Z&quot;,&quot;Y&quot;];

  function formatLocale(locale) {
    var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + &quot;&quot;),
        currencyPrefix = locale.currency === undefined ? &quot;&quot; : locale.currency[0] + &quot;&quot;,
        currencySuffix = locale.currency === undefined ? &quot;&quot; : locale.currency[1] + &quot;&quot;,
        decimal = locale.decimal === undefined ? &quot;.&quot; : locale.decimal + &quot;&quot;,
        numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),
        percent = locale.percent === undefined ? &quot;%&quot; : locale.percent + &quot;&quot;,
        minus = locale.minus === undefined ? &quot;-&quot; : locale.minus + &quot;&quot;,
        nan = locale.nan === undefined ? &quot;NaN&quot; : locale.nan + &quot;&quot;;

    function newFormat(specifier) {
      specifier = formatSpecifier(specifier);

      var fill = specifier.fill,
          align = specifier.align,
          sign = specifier.sign,
          symbol = specifier.symbol,
          zero = specifier.zero,
          width = specifier.width,
          comma = specifier.comma,
          precision = specifier.precision,
          trim = specifier.trim,
          type = specifier.type;

      // The &quot;n&quot; type is an alias for &quot;,g&quot;.
      if (type === &quot;n&quot;) comma = true, type = &quot;g&quot;;

      // The &quot;&quot; type, and any invalid type, is an alias for &quot;.12~g&quot;.
      else if (!formatTypes[type]) precision === undefined &amp;&amp; (precision = 12), trim = true, type = &quot;g&quot;;

      // If zero fill is specified, padding goes after sign and before digits.
      if (zero || (fill === &quot;0&quot; &amp;&amp; align === &quot;=&quot;)) zero = true, fill = &quot;0&quot;, align = &quot;=&quot;;

      // Compute the prefix and suffix.
      // For SI-prefix, the suffix is lazily computed.
      var prefix = symbol === &quot;$&quot; ? currencyPrefix : symbol === &quot;#&quot; &amp;&amp; /[boxX]/.test(type) ? &quot;0&quot; + type.toLowerCase() : &quot;&quot;,
          suffix = symbol === &quot;$&quot; ? currencySuffix : /[%p]/.test(type) ? percent : &quot;&quot;;

      // What format function should we use?
      // Is this an integer type?
      // Can this type generate exponential notation?
      var formatType = formatTypes[type],
          maybeSuffix = /[defgprs%]/.test(type);

      // Set the default precision if not specified,
      // or clamp the specified precision to the supported range.
      // For significant precision, it must be in [1, 21].
      // For fixed precision, it must be in [0, 20].
      precision = precision === undefined ? 6
          : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))
          : Math.max(0, Math.min(20, precision));

      function format(value) {
        var valuePrefix = prefix,
            valueSuffix = suffix,
            i, n, c;

        if (type === &quot;c&quot;) {
          valueSuffix = formatType(value) + valueSuffix;
          value = &quot;&quot;;
        } else {
          value = +value;

          // Determine the sign. -0 is not less than 0, but 1 / -0 is!
          var valueNegative = value &lt; 0 || 1 / value &lt; 0;

          // Perform the initial formatting.
          value = isNaN(value) ? nan : formatType(Math.abs(value), precision);

          // Trim insignificant zeros.
          if (trim) value = formatTrim(value);

          // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.
          if (valueNegative &amp;&amp; +value === 0 &amp;&amp; sign !== &quot;+&quot;) valueNegative = false;

          // Compute the prefix and suffix.
          valuePrefix = (valueNegative ? (sign === &quot;(&quot; ? sign : minus) : sign === &quot;-&quot; || sign === &quot;(&quot; ? &quot;&quot; : sign) + valuePrefix;
          valueSuffix = (type === &quot;s&quot; ? prefixes[8 + prefixExponent / 3] : &quot;&quot;) + valueSuffix + (valueNegative &amp;&amp; sign === &quot;(&quot; ? &quot;)&quot; : &quot;&quot;);

          // Break the formatted value into the integer “value” part that can be
          // grouped, and fractional or exponential “suffix” part that is not.
          if (maybeSuffix) {
            i = -1, n = value.length;
            while (++i &lt; n) {
              if (c = value.charCodeAt(i), 48 &gt; c || c &gt; 57) {
                valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;
                value = value.slice(0, i);
                break;
              }
            }
          }
        }

        // If the fill character is not &quot;0&quot;, grouping is applied before padding.
        if (comma &amp;&amp; !zero) value = group(value, Infinity);

        // Compute the padding.
        var length = valuePrefix.length + value.length + valueSuffix.length,
            padding = length &lt; width ? new Array(width - length + 1).join(fill) : &quot;&quot;;

        // If the fill character is &quot;0&quot;, grouping is applied after padding.
        if (comma &amp;&amp; zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = &quot;&quot;;

        // Reconstruct the final output based on the desired alignment.
        switch (align) {
          case &quot;&lt;&quot;: value = valuePrefix + value + valueSuffix + padding; break;
          case &quot;=&quot;: value = valuePrefix + padding + value + valueSuffix; break;
          case &quot;^&quot;: value = padding.slice(0, length = padding.length &gt;&gt; 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;
          default: value = padding + valuePrefix + value + valueSuffix; break;
        }

        return numerals(value);
      }

      format.toString = function() {
        return specifier + &quot;&quot;;
      };

      return format;
    }

    function formatPrefix(specifier, value) {
      var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = &quot;f&quot;, specifier)),
          e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,
          k = Math.pow(10, -e),
          prefix = prefixes[8 + e / 3];
      return function(value) {
        return f(k * value) + prefix;
      };
    }

    return {
      format: newFormat,
      formatPrefix: formatPrefix
    };
  }

  var locale;
  var format;
  var formatPrefix;

  defaultLocale({
    decimal: &quot;.&quot;,
    thousands: &quot;,&quot;,
    grouping: [3],
    currency: [&quot;$&quot;, &quot;&quot;],
    minus: &quot;-&quot;
  });

  function defaultLocale(definition) {
    locale = formatLocale(definition);
    format = locale.format;
    formatPrefix = locale.formatPrefix;
    return locale;
  }

  function formatter(value, specifier) {
    const formatFunc = specifier ? format(specifier) : formatValue;

    if (Array.isArray(value)) {
      const [first, second] = value;
      if (first === -Infinity) {
        return `&lt; ${formatFunc(second)}`;
      }
      if (second === Infinity) {
        return `&gt; ${formatFunc(first)}`;
      }
      return `${formatFunc(first)} - ${formatFunc(second)}`;
    }
    return formatFunc(value);
  }

  function formatValue(value) {
    if (typeof value === 'number') {
      return formatNumber(value);
    }
    return value;
  }

  function formatNumber(value) {
    if (!Number.isInteger(value)) {
      return value.toLocaleString(undefined, {
        minimumFractionDigits: 2,
        maximumFractionDigits: 3
      });
    }
    return value.toLocaleString();
  }

  function updateViewport(id, map) {
    function updateMapInfo() {
      const mapInfo$ = document.getElementById(id);
      const center = map.getCenter();
      const lat = center.lat.toFixed(6);
      const lng = center.lng.toFixed(6);
      const zoom = map.getZoom().toFixed(2);

      mapInfo$.innerText = `viewport={'zoom': ${zoom}, 'lat': ${lat}, 'lng': ${lng}}`;
    }

    updateMapInfo();

    map.on('zoom', updateMapInfo);
    map.on('move', updateMapInfo);
  }

  function getBasecolorSettings(basecolor) {
    return {
      'version': 8,
      'sources': {},
      'layers': [{
          'id': 'background',
          'type': 'background',
          'paint': {
              'background-color': basecolor
          }
      }]
    };
  }

  function getImageElement(mapIndex) {
    const id = mapIndex !== undefined ? `map-image-${mapIndex}` : 'map-image';
    return document.getElementById(id);
  }

  function getContainerElement(mapIndex) {
    const id = mapIndex !== undefined ? `main-container-${mapIndex}` : 'main-container';
    return document.getElementById(id);
  }

  function saveImage(mapIndex) {
    const img = getImageElement(mapIndex);
    const container = getContainerElement(mapIndex);

    html2canvas(container)
      .then((canvas) =&gt; setMapImage(canvas, img, container));
  }

  function setMapImage(canvas, img, container) {
    const src = canvas.toDataURL();
    img.setAttribute('src', src);
    img.style.display = 'block';
    container.style.display = 'none';
  }

  function resetPopupClick(interactivity) {
    interactivity.off('featureClick');
  }

  function resetPopupHover(interactivity) {
    interactivity.off('featureHover');
  }

  function setPopupsClick(map, clickPopup, hoverPopup, interactivity, attrs) {
    interactivity.on('featureClick', (event) =&gt; {
      updatePopup(map, clickPopup, event, attrs);
      hoverPopup.remove();
    });
  }

  function setPopupsHover(map, hoverPopup, interactivity, attrs) {
    interactivity.on('featureHover', (event) =&gt; {
      updatePopup(map, hoverPopup, event, attrs);
    });
  }

  function updatePopup(map, popup, event, attrs) {
    if (event.features.length &gt; 0) {
      let popupHTML = '';
      const layerIDs = [];

      for (const feature of event.features) {
        if (layerIDs.includes(feature.layerId)) {
          continue;
        }
        // Track layers to add only one feature per layer
        layerIDs.push(feature.layerId);

        for (const item of attrs) {
          const variable = feature.variables[item.name];
          if (variable) {
            let value = variable.value;
            value = formatter(value, item.format);

            popupHTML = `
            &lt;span class=&quot;popup-name&quot;&gt;${item.title}&lt;/span&gt;
            &lt;span class=&quot;popup-value&quot;&gt;${value}&lt;/span&gt;
          ` + popupHTML;
          }
        }
      }

      if (popupHTML) {
        popup
            .setLngLat([event.coordinates.lng, event.coordinates.lat])
            .setHTML(`&lt;div class=&quot;popup-content&quot;&gt;${popupHTML}&lt;/div&gt;`);

        if (!popup.isOpen()) {
          popup.addTo(map);
        }
      } else {
        popup.remove();
      }
    } else {
      popup.remove();
    }
  }

  function setInteractivity(map, interactiveLayers, interactiveMapLayers) {
    const interactivity = new carto.Interactivity(interactiveMapLayers);

    const clickPopup = new mapboxgl.Popup({
      closeButton: true,
      closeOnClick: false
    });

    const hoverPopup = new mapboxgl.Popup({
      closeButton: false,
      closeOnClick: false
    });

    const { clickAttrs, hoverAttrs } = _setInteractivityAttrs(interactiveLayers);

    resetPopupClick(map);
    resetPopupHover(map);

    if (clickAttrs.length &gt; 0) {
      setPopupsClick(map, clickPopup, hoverPopup, interactivity, clickAttrs);
    }

    if (hoverAttrs.length &gt; 0) {
      setPopupsHover(map, hoverPopup, interactivity, hoverAttrs);
    }
  }

  function _setInteractivityAttrs(interactiveLayers) {
    let clickAttrs = [];
    let hoverAttrs = [];

    interactiveLayers.forEach((interactiveLayer) =&gt; {
      interactiveLayer.interactivity.forEach((interactivityDef) =&gt; {
        if (interactivityDef.event === 'click') {
          clickAttrs = clickAttrs.concat(interactivityDef.attrs);
        } else if (interactivityDef.event === 'hover') {
          hoverAttrs = hoverAttrs.concat(interactivityDef.attrs);
        }
      });
    });

    return { clickAttrs, hoverAttrs };
  }

  function renderWidget(widget, value) {
    widget.element = widget.element || document.querySelector(`#${widget.id}-value`);

    if (value &amp;&amp; widget.element) {
      widget.element.innerText = typeof value === 'number' ? formatter(value, widget.options.format) : value;
    }
  }

  function renderBridge(bridge, widget, mapLayer) {
    widget.element = widget.element || document.querySelector(`#${widget.id}`);

    switch (widget.type) {
      case 'histogram':
        const type = _getWidgetType(mapLayer, widget.value, widget.prop);
        const histogram = type === 'category' ? 'categoricalHistogram' : 'numericalHistogram';
        bridge[histogram](widget.element, widget.value, widget.options);
        break;
      case 'category':
        bridge.category(widget.element, widget.value, widget.options);
        break;
      case 'animation':
        widget.options.propertyName = widget.prop;
        bridge.animationControls(widget.element, widget.value, widget.options);
        break;
      case 'time-series':
        widget.options.propertyName = widget.prop;
        bridge.timeSeries(widget.element, widget.value, widget.options);
        break;
    }
  }

  function bridgeLayerWidgets(map, mapLayer, mapSource, widgets) {
    const bridge = new AsBridge.VL.Bridge({
      carto: carto,
      layer: mapLayer,
      source: mapSource,
      map: map
    });

    widgets
      .filter((widget) =&gt; widget.has_bridge)
      .forEach((widget) =&gt; renderBridge(bridge, widget, mapLayer));

    bridge.build();
  }

  function _getWidgetType(layer, property, value) {
    return layer.metadata &amp;&amp; layer.metadata.properties[value] ?
      layer.metadata.properties[value].type
      : _getWidgetPropertyType(layer, property);
  }

  function _getWidgetPropertyType(layer, property) {
    return layer.metadata &amp;&amp; layer.metadata.properties[property] ?
      layer.metadata.properties[property].type
      : null;
  }

  function createLegends(layer, legends, layerIndex, mapIndex=0) {
    if (legends.length) {
      legends.forEach((legend, legendIndex) =&gt; _createLegend(layer, legend, layerIndex, legendIndex, mapIndex));
    } else {
      _createLegend(layer, legends, layerIndex, 0, mapIndex);
    }
  }

  function _createLegend(layer, legend, layerIndex, legendIndex, mapIndex=0) {
    const element = document.querySelector(`#layer${layerIndex}_map${mapIndex}_legend${legendIndex}`);

    if (legend.prop) {
      const othersLabel = 'Others';   // TODO: i18n
      const prop = legend.prop;
      const dynamic = legend.dynamic;
      const order = legend.ascending ? 'ASC' : 'DESC';
      const variable = legend.variable;
      const config = { othersLabel, variable, order };
      const formatFunc = (value) =&gt; formatter(value, legend.format);
      const options = { format: formatFunc, config, dynamic };

      if (legend.type.startsWith('size-continuous')) {
        config.samples = 4;
      }

      AsBridge.VL.Legends.rampLegend(element, layer, prop, options);
    }
  }

  function SourceFactory() {
    const sourceTypes = { GeoJSON, Query, MVT };

    this.createSource = (layer) =&gt; {
      return sourceTypes[layer.type](layer);
    };
  }

  function GeoJSON(layer) {
    const options = JSON.parse(JSON.stringify(layer.options));
    const data = _decodeJSONData(layer.data, layer.encode_data);

    return new carto.source.GeoJSON(data, options);
  }

  function Query(layer) {
    const auth = {
      username: layer.credentials.username,
      apiKey: layer.credentials.api_key || 'default_public'
    };

    const config = {
      serverURL: layer.credentials.base_url || `https://${layer.credentials.username}.carto.com/`
    };

    return new carto.source.SQL(layer.data, auth, config);
  }

  function MVT(layer) {
    return new carto.source.MVT(layer.data.file, JSON.parse(layer.data.metadata));
  }

  function _decodeJSONData(data, encodeData) {
    try {
      if (encodeData) {
        const decodedJSON = pako.inflate(atob(data), { to: 'string' });
        return JSON.parse(decodedJSON);
      } else {
        return JSON.parse(data);
      }
    } catch(error) {
      throw new Error(`
      Error: &quot;${error}&quot;. CARTOframes is not able to parse your local data because it is too large.
      Please, disable the data compresion with encode_data=False in your Layer class.
    `);
    }
  }

  const factory = new SourceFactory();

  function initMapLayer(layer, layerIndex, numLayers, hasLegends, map, mapIndex) {
    const mapSource = factory.createSource(layer);
    const mapViz = new carto.Viz(layer.viz);
    const mapLayer = new carto.Layer(`layer${layerIndex}`, mapSource, mapViz);
    const mapLayerIndex = numLayers - layerIndex - 1;

    try {
      mapLayer._updateLayer.catch(displayError);
    } catch (e) {
      throw e;
    }

    mapLayer.addTo(map);

    setLayerLegend(layer, mapLayerIndex, mapLayer, mapIndex, hasLegends);
    setLayerWidgets(map, layer, mapLayer, mapLayerIndex, mapSource);

    return mapLayer;
  }

  function getInteractiveLayers(layers, mapLayers) {
    const interactiveLayers = [];
    const interactiveMapLayers = [];

    layers.forEach((layer, index) =&gt; {
      if (layer.interactivity) {
        interactiveLayers.push(layer);
        interactiveMapLayers.push(mapLayers[index]);
      }
    });

    return { interactiveLayers, interactiveMapLayers };
  }

  function setLayerLegend(layer, mapLayerIndex, mapLayer, mapIndex, hasLegends) {
    if (hasLegends &amp;&amp; layer.legends) {
      createLegends(mapLayer, layer.legends, mapLayerIndex, mapIndex);
    }
  }

  function setLayerWidgets(map, layer, mapLayer, mapLayerIndex, mapSource) {
    if (layer.widgets.length) {
      initLayerWidgets(layer.widgets, mapLayerIndex);
      updateLayerWidgets(layer.widgets, mapLayer);
      bridgeLayerWidgets(map, mapLayer, mapSource, layer.widgets);
    }
  }

  function initLayerWidgets(widgets, mapLayerIndex) {
    widgets.forEach((widget, widgetIndex) =&gt; {
      const id = `layer${mapLayerIndex}_widget${widgetIndex}`;
      widget.id = id;
    });
  }

  function updateLayerWidgets(widgets, mapLayer) {
    mapLayer.on('updated', () =&gt; renderLayerWidgets(widgets, mapLayer));
  }

  function renderLayerWidgets(widgets, mapLayer) {
    const variables = mapLayer.viz.variables;

    widgets
      .filter((widget) =&gt; !widget.has_bridge)
      .forEach((widget) =&gt; {
        const name = widget.variable_name;
        const value = getWidgetValue(name, variables);
        renderWidget(widget, value);
      });
  }

  function getWidgetValue(name, variables) {
    return name &amp;&amp; variables[name] ? variables[name].value : null;
  }

  function setReady(settings) {
    try {
      return settings.maps ? initMaps(settings.maps) : initMap(settings);
    } catch (e) {
      displayError(e);
    }
  }

  function initMaps(maps) {
    return maps.map((mapSettings, mapIndex) =&gt; {
      return initMap(mapSettings, mapIndex);
    });
  }

  function initMap(settings, mapIndex) {
    const basecolor = getBasecolorSettings(settings.basecolor);
    const basemapStyle =  BASEMAPS[settings.basemap] || settings.basemap || basecolor;
    const container = mapIndex !== undefined ? `map-${mapIndex}` : 'map';
    const map = createMap(container, basemapStyle, settings.bounds, settings.mapboxtoken);

    if (settings.show_info) {
      const id = mapIndex !== undefined ? `map-info-${mapIndex}` : 'map-info';
      updateViewport(id, map);
    }

    if (settings.camera) {
      map.flyTo(settings.camera);
    }

    return initLayers(map, settings, mapIndex);
  }

  function initLayers(map, settings, mapIndex) {
    const numLayers = settings.layers.length;
    const hasLegends = settings.has_legends;
    const isStatic = settings.is_static;
    const layers = settings.layers;
    const mapLayers = getMapLayers(
      layers,
      numLayers,
      hasLegends,
      map,
      mapIndex
    );

    if (settings.layer_selector) {
      addLayersSelector(layers.reverse(), mapLayers.reverse(), mapIndex);
    }

    setInteractiveLayers(map, layers, mapLayers);

    return waitForMapLayersLoad(isStatic, mapIndex, mapLayers);
  }

  function waitForMapLayersLoad(isStatic, mapIndex, mapLayers) {
    return new Promise((resolve) =&gt; {
      carto.on('loaded', mapLayers, onMapLayersLoaded.bind(
        this, isStatic, mapIndex, mapLayers, resolve)
      );
    });
  }

  function onMapLayersLoaded(isStatic, mapIndex, mapLayers, resolve) {
    if (isStatic) {
      saveImage(mapIndex);
    }

    resolve(mapLayers);
  }

  function getMapLayers(layers, numLayers, hasLegends, map, mapIndex) {
    return layers.map((layer, layerIndex) =&gt; {
      return initMapLayer(layer, layerIndex, numLayers, hasLegends, map, mapIndex);
    });
  }

  function setInteractiveLayers(map, layers, mapLayers) {
    const { interactiveLayers, interactiveMapLayers } = getInteractiveLayers(layers, mapLayers);

    if (interactiveLayers &amp;&amp; interactiveLayers.length &gt; 0) {
      setInteractivity(map, interactiveLayers, interactiveMapLayers);
    }
  }

  function addLayersSelector(layers, mapLayers, mapIndex) {
    const layerSelectorId = mapIndex !== undefined ? `#layer-selector-${mapIndex}` : '#layer-selector';
    const layerSelector$ = document.querySelector(layerSelectorId);
    const layersInfo = mapLayers.map((layer, index) =&gt; {
      return {
        title: layers[index].title || `Layer ${index}`,
        id: layer.id,
        checked: true
      };
    });

    const layerSelector = new AsBridge.VL.Layers(layerSelector$, carto, layersInfo, mapLayers);

    layerSelector.build();
  }

  function createMap(container, basemapStyle, bounds, accessToken) {
    const map = createMapboxGLMap(container, basemapStyle, accessToken);

    map.addControl(attributionControl);
    map.fitBounds(bounds, FIT_BOUNDS_SETTINGS);

    return map;
  }

  function createMapboxGLMap(container, style, accessToken) {
    if (accessToken) {
      mapboxgl.accessToken = accessToken;
    }

    return new mapboxgl.Map({
      container,
      style,
      zoom: 9,
      dragRotate: false,
      attributionControl: false
    });
  }

  function init(settings) {
    setReady(settings);
  }

  return init;

}());
&lt;/script&gt;
&lt;script&gt;
  document
  .querySelector('as-responsive-content')
  .addEventListener('ready', () =&gt; {
    const basecolor = '';
    const basemap = 'Positron';
    const bounds = [[-1.44909, 51.41567], [0.16563, 54.9429]];
    const camera = {&quot;bearing&quot;: null, &quot;center&quot;: [-0.09, 51.53], &quot;pitch&quot;: null, &quot;zoom&quot;: 10};
    const has_legends = 'False' === 'true';
    const is_static = 'None' === 'true';
    const layer_selector = 'False' === 'true';
    const layers = [{&quot;credentials&quot;: null, &quot;data&quot;: &quot;H4sIAGCkXWAC/72dT28cNwzFv8ue3UCkSErKNUDPvRc5BMm2MJB6A3d7CAx/9052HGAmgPbE+R29WPtBEvX474l+OV2/fzuf3p9+P3+6/vd8/nD5+vX8+fp4eTo9nP5aP/v39P7Pl9Pjl+VbZfl0/wvLB9+eL9/Oz9fHH198eX04/X2+/HO+Pn9ffvr55T8uj0/X5aufL5fnL49Pn663P/pbeVeLqTy4vHOp1T++vj68IUk2Uul9+E+kukHSdKSq2lekZhugmg2k5mE3ILexXZJlI4l7xA1Ji/UNkqcjlWrrmqr17e4FhtTSDWKUdtu90AjZIHVsTSMdqctYDULL7t6mU4QMjdt1Wqy9jS0UxxGiHFQ+TfTaVo7tvew2MJcnlqMKj3pDMm2xRfL8/Sut3ayiRdneKUknCq0t2npUYrtVNexWdeyk8pnCFj+1ctKw7aK05BNtG6ubKtJ0CyWUk1eOKTSdKUopTW+Oarlcu1UZZenqnFEEFs1qPlOovm1gb6VtoTpm6ulUoaXIGiiVfZhZ86MKKSupWx+y9R8Vo4qaTxVW14TALHZUWyt3VIYFtdUxX1UDo6XaMAPMjipKrWXlvyXm3F2qgXlFK1j8bILl2aaYqVvlzgoLK8y5owqM1q1hEYwlhxU/FjPKclb2bpjubtXAfL1zYYULVhdxxQpYzsUVns8VY2GL2wbKsoNbKKdoyYO6Vd6oCoJjtQofGNNGwYr3IRiph3JQ9QD+K+sGltq3ZhGGVQDDMf6LoIL1aJirigM6IGJ1dcBadteKq1a0QvmPJhiSYglwy09ArMvb/VXZGkXDEpDmmK9qgeWKrXFQHWshtYGVsHrBWKkLdlZduQ2smLPvhllgdyxa6sFZYOPOqnPGPjCzGFhgMbDAYnA5yMjniog3H9zbrrI5OK4Yjt2qwWkrBhdZjM5Z4MDKCFK4RsiSdIFYiuWMS9QBYhmI5SAWF2BIaSBWx2I0KVxGIgcoOGdaFcmXcM7tULgWqghX7RQx0DYcK83IAULOWbQm+UrOO1gdxOJ03/lqzvlVPkDOOStGSr6gcx6yKUgbB0g6p3SYL+q8s4f5tOFV1+sV8curgAauq4NYnAhcKtdZlSrc/cpXd97BqpiORSrWMpHq4BYGt6yG6faldhCLE3mKcW9HJF/mOW3dyQE6z5kZHqDzXAhXV6GO71/qmYGm4dwWcqRhmCpcrHNFlGyx51wAJ/liz7kNHqH2nIgVxcG6hnNv2MW5ForkKz7ngw08QKx81lgCw1XK1fqe471zPQAH+ygBDr0AtZ8SYGEjwD5KgH2UADOUCEzWLwdIQKc15QDrocG9LRFOBSqcDFQaJ9eQVsFRDgaui8tQGpeh5GtB5/6/YS9XpYGhxgFq0KnB58tB76wLDDXyBaHzoSwGHhc4QadzpHGAJHTarenYE1bp3Ms04UShMkC5xgBlXgNMTwbYd82Xhs6lPKA2VEYDsUCZ1+Ck5Fq4soaC8lAtXN9VC1cOVVAeqgfIQ2fla82Xh96xee5lq+bLQ6flGs2Xh96ZpIeFGyrCQYFj+4Qra2i+OHTOvAeIQ2eT5/K1odM6ngon8lLB6hqaLw2d+3/lNF6q3DNXVUytoQcM+5xllHqANHTqJtVBrOCOCxz4qZxeQ/OVoVOOP2Dm56wHpfnC0GkPSg8Qhk5No3KjNDRfGHoHy6kZU1qxuTtaG5fi5QtD5xFUxV6h6AG60PlMbOEyV3D+p1rljss4K7QD3sn3tTAUi2PZ8W6+MHQe8BqYnxj3VF4PmAM6LeQ5N4ZHk7Wh9xwKKA1V5/5viTrXeFXnnsqrcwmKNw6qg6fF5SfgSFANAbGUK/4fMRV0imVc3hXcTB4NsIES3HwNPUAXatrXUL6Wff5/wHDQX7E+vv4P+P6Kp2xxAAA=&quot;, &quot;encode_data&quot;: true, &quot;has_legend_list&quot;: true, &quot;interactivity&quot;: [], &quot;legends&quot;: [], &quot;map_index&quot;: 0, &quot;options&quot;: {&quot;dateColumns&quot;: []}, &quot;source&quot;: &quot;H4sIAGCkXWAC/72dT28cNwzFv8ue3UCkSErKNUDPvRc5BMm2MJB6A3d7CAx/9052HGAmgPbE+R29WPtBEvX474l+OV2/fzuf3p9+P3+6/vd8/nD5+vX8+fp4eTo9nP5aP/v39P7Pl9Pjl+VbZfl0/wvLB9+eL9/Oz9fHH198eX04/X2+/HO+Pn9ffvr55T8uj0/X5aufL5fnL49Pn663P/pbeVeLqTy4vHOp1T++vj68IUk2Uul9+E+kukHSdKSq2lekZhugmg2k5mE3ILexXZJlI4l7xA1Ji/UNkqcjlWrrmqr17e4FhtTSDWKUdtu90AjZIHVsTSMdqctYDULL7t6mU4QMjdt1Wqy9jS0UxxGiHFQ+TfTaVo7tvew2MJcnlqMKj3pDMm2xRfL8/Sut3ayiRdneKUknCq0t2npUYrtVNexWdeyk8pnCFj+1ctKw7aK05BNtG6ubKtJ0CyWUk1eOKTSdKUopTW+Oarlcu1UZZenqnFEEFs1qPlOovm1gb6VtoTpm6ulUoaXIGiiVfZhZ86MKKSupWx+y9R8Vo4qaTxVW14TALHZUWyt3VIYFtdUxX1UDo6XaMAPMjipKrWXlvyXm3F2qgXlFK1j8bILl2aaYqVvlzgoLK8y5owqM1q1hEYwlhxU/FjPKclb2bpjubtXAfL1zYYULVhdxxQpYzsUVns8VY2GL2wbKsoNbKKdoyYO6Vd6oCoJjtQofGNNGwYr3IRiph3JQ9QD+K+sGltq3ZhGGVQDDMf6LoIL1aJirigM6IGJ1dcBadteKq1a0QvmPJhiSYglwy09ArMvb/VXZGkXDEpDmmK9qgeWKrXFQHWshtYGVsHrBWKkLdlZduQ2smLPvhllgdyxa6sFZYOPOqnPGPjCzGFhgMbDAYnA5yMjniog3H9zbrrI5OK4Yjt2qwWkrBhdZjM5Z4MDKCFK4RsiSdIFYiuWMS9QBYhmI5SAWF2BIaSBWx2I0KVxGIgcoOGdaFcmXcM7tULgWqghX7RQx0DYcK83IAULOWbQm+UrOO1gdxOJ03/lqzvlVPkDOOStGSr6gcx6yKUgbB0g6p3SYL+q8s4f5tOFV1+sV8curgAauq4NYnAhcKtdZlSrc/cpXd97BqpiORSrWMpHq4BYGt6yG6faldhCLE3mKcW9HJF/mOW3dyQE6z5kZHqDzXAhXV6GO71/qmYGm4dwWcqRhmCpcrHNFlGyx51wAJ/liz7kNHqH2nIgVxcG6hnNv2MW5ForkKz7ngw08QKx81lgCw1XK1fqe471zPQAH+ygBDr0AtZ8SYGEjwD5KgH2UADOUCEzWLwdIQKc15QDrocG9LRFOBSqcDFQaJ9eQVsFRDgaui8tQGpeh5GtB5/6/YS9XpYGhxgFq0KnB58tB76wLDDXyBaHzoSwGHhc4QadzpHGAJHTarenYE1bp3Ms04UShMkC5xgBlXgNMTwbYd82Xhs6lPKA2VEYDsUCZ1+Ck5Fq4soaC8lAtXN9VC1cOVVAeqgfIQ2fla82Xh96xee5lq+bLQ6flGs2Xh96ZpIeFGyrCQYFj+4Qra2i+OHTOvAeIQ2eT5/K1odM6ngon8lLB6hqaLw2d+3/lNF6q3DNXVUytoQcM+5xllHqANHTqJtVBrOCOCxz4qZxeQ/OVoVOOP2Dm56wHpfnC0GkPSg8Qhk5No3KjNDRfGHoHy6kZU1qxuTtaG5fi5QtD5xFUxV6h6AG60PlMbOEyV3D+p1rljss4K7QD3sn3tTAUi2PZ8W6+MHQe8BqYnxj3VF4PmAM6LeQ5N4ZHk7Wh9xwKKA1V5/5viTrXeFXnnsqrcwmKNw6qg6fF5SfgSFANAbGUK/4fMRV0imVc3hXcTB4NsIES3HwNPUAXatrXUL6Wff5/wHDQX7E+vv4P+P6Kp2xxAAA=&quot;, &quot;title&quot;: null, &quot;type&quot;: &quot;GeoJSON&quot;, &quot;viz&quot;: &quot;color: hex(\&quot;#EE4D5A\&quot;)\nstrokeColor: opacity(#222,ramp(linear(zoom(),0,18),[0,0.6]))\nstrokeWidth: ramp(linear(zoom(),0,18),[0,1])\nwidth: ramp(linear(zoom(),0,18),[2,10])\n&quot;, &quot;widgets&quot;: []}];
    const mapboxtoken = '';
    const show_info = 'None' === 'true';

    init({
      basecolor,
      basemap,
      bounds,
      camera,
      has_legends,
      is_static,
      layer_selector,
      layers,
      mapboxtoken,
      show_info
    });
});
&lt;/script&gt;
&lt;/html&gt;
"> </iframe> </div> </div> </div> </div> </div> </div> </div> <ul class="grid-cell grid-cell--col3 grid-cell--col12--mobile"> <li class="u-vspace--12 tab-overviewExamples"><a class="title is-caption is-regular" href=#tab-example-1>Geocode London stations</a></li> </ul> </div> </section> <section class="Section is-BorderTop"> <div class="grid container u-wideMargin--big"> <div class="grid-cell grid-cell--col9"> <h2 class="title is-subheader u-vspace--8">Support</h2> <p class="text is-body is-txtBaseGrey u-vspace--32">Get help or learn about known issues.</p> </div> </div> <ul class="grid container u-wideMargin--big"> <li class="grid-cell grid-cell--col4 grid-cell--col12--mobile u-vspace--24"> <a href=/developers/cartoframes/support/support-options/ class="box-text box-textLink"> <div class="u-flex u-alignTop"> <img src=/developers/img/icon-support-options.71baaf9f.svg class=u-rspace--16> <div> <h3 class="title is-caption is-colored is-caption--mobile u-vspace--4">Support Options</h3> <p class="text is-caption is-caption--mobile is-txtDocsGrey">Find different options for receiving support.</p> </div> </div> </a> </li> <li class="grid-cell grid-cell--col4 grid-cell--col12--mobile u-vspace--24"> <a href=/developers/cartoframes/support/contribute/ class="box-text box-textLink"> <div class="u-flex u-alignTop"> <img src=/developers/img/icon-contribution.10b81680.svg class=u-rspace--16> <div> <h3 class="title is-caption is-colored is-caption--mobile u-vspace--4">Contribute</h3> <p class="text is-caption is-caption--mobile is-txtDocsGrey">Let's build CARTOframes together. And enjoy!</p> </div> </div> </a> </li> </ul> </section> <section class=is-BorderTop> <footer class="Footer-container u-vspace--48"> <div class="grid Footer mobile--flex container"> <div class="grid-cell grid-cell--col12 u-vspace--8"> <p class="title is-small"><a class="FooterLink js-Action--Footerlinks text is-small" href=/developers/ >Developers</a></p> </div> <div class="grid-cell grid-cell--col12 u-tspace--32 u-vspace--8"> <p class="title is-small"><a class="FooterLink js-Action--Footerlinks text is-small" href=https://carto.com/products/ >Products</a></p> </div> <div class="grid-cell grid-cell--col12 u-tspace--32 u-vspace--8"> <p class="title is-small"><a class="FooterLink js-Action--Footerlinks text is-small" href=https://carto.com/team/ >About Us</a></p> </div> </div> <div class="grid Footer desktop--flex container"> <div class="Footer-logo grid-cell grid-cell--col6 grid-cell--col3--tablet"> <svg width=82 height=32 viewBox="388 665 82 32" xmlns=http://www.w3.org/2000/svg><g fill=#162945 fill-rule=evenodd><path d="M454 697c8.837 0 16-7.163 16-16s-7.163-16-16-16-16 7.163-16 16 7.163 16 16 16z" fill-opacity=.1></path><path d="M393.755 686.483c2.242 0 3.538-1.007 4.498-2.375l-2.125-1.564c-.61.767-1.237 1.278-2.3 1.278-1.427 0-2.43-1.232-2.43-2.81v-.03c0-1.534 1.003-2.797 2.43-2.797.975 0 1.645.496 2.227 1.232l2.125-1.698c-.902-1.28-2.24-2.18-4.323-2.18-3.086 0-5.357 2.404-5.357 5.47v.03c0 3.143 2.344 5.443 5.255 5.443zm9.342-.21h2.955l.728-1.895h3.945l.728 1.895h3.028l-4.337-10.6h-2.722l-4.323 10.6zm4.513-4.165l1.15-2.976 1.135 2.976h-2.285zm12.37 4.165h2.824v-3.187h1.252l2.053 3.187h3.245l-2.43-3.668c1.265-.557 2.095-1.624 2.095-3.248v-.03c0-1.037-.306-1.834-.903-2.45-.684-.707-1.76-1.128-3.32-1.128h-4.817v10.523zm2.824-5.472v-2.54h1.863c.932 0 1.53.42 1.53 1.263v.03c0 .766-.57 1.248-1.515 1.248h-1.878zm14.64 5.473h2.825v-7.968h3.056v-2.556h-8.923v2.555h3.042v7.968zM454 686.5c3.038 0 5.5-2.462 5.5-5.5s-2.462-5.5-5.5-5.5-5.5 2.462-5.5 5.5 2.462 5.5 5.5 5.5z"></path></g></svg> </div> <ul class="grid-cell grid-cell--col2 grid-cell--col3--tablet"> <li class="FooterElement title is-small">Developers</li> <li class=FooterElement><a class="FooterLink js-Action--Footerlinks text is-small" href=/developers/fundamentals/ >Fundamentals</a></li> <li class=FooterElement><a class="FooterLink js-Action--Footerlinks text is-small" href=/developers/carto-js/ >CARTO.js</a></li> <li class=FooterElement><a class="FooterLink js-Action--Footerlinks text is-small" href=/developers/carto-vl/ >CARTO VL</a></li> <li class=FooterElement><a class="FooterLink js-Action--Footerlinks text is-small" href=/developers/web-sdk/ >Web SDK</a></li> <li class=FooterElement><a class="FooterLink js-Action--Footerlinks text is-small" href=/developers/cartoframes/ >CARTOframes</a></li> <li class=FooterElement><a class="FooterLink js-Action--Footerlinks text is-small" href=/developers/python-sdk/ >Python SDK</a></li> <li class=FooterElement><a class="FooterLink js-Action--Footerlinks text is-small" href=/developers/auth-api/ >Auth API</a></li> <li class=FooterElement><a class="FooterLink js-Action--Footerlinks text is-small" href=/developers/sql-api/ >SQL API</a></li> <li class=FooterElement><a class="FooterLink js-Action--Footerlinks text is-small" href=/developers/maps-api/ >Maps API</a></li> <li class=FooterElement><a class="FooterLink js-Action--Footerlinks text is-small" href=/developers/import-api/ >Import API</a></li> <li class=FooterElement><a class="FooterLink js-Action--Footerlinks text is-small" href=/developers/federated-tables-api/ >Federated Tables API</a></li> <li class=FooterElement><a class="FooterLink js-Action--Footerlinks text is-small" href=/developers/on-premises/ >On-Premises</a></li> <li class=FooterElement><a class="FooterLink js-Action--Footerlinks text is-small" href=/developers/data-observatory/ >Data Observatory</a></li> </ul> <ul class="grid-cell grid-cell--col2 grid-cell--col3--tablet"> <li class="FooterElement title is-small">Products</li> <li class=FooterElement><a href=/builder/ class="FooterLink js-Action--Footerlinks text is-small">Builder</a></li> <li class=FooterElement><a href=/engine/ class="FooterLink js-Action--Footerlinks text is-small">Engine</a></li> <li class=FooterElement><a href=/engine/mobile/ class="FooterLink js-Action--Footerlinks text is-small">Mobile</a></li> <li class=FooterElement><a href=/location-data-services/ class="FooterLink js-Action--Footerlinks text is-small">Location Data Services</a></li> <li class=FooterElement><a href=/data-observatory/ class="FooterLink js-Action--Footerlinks text is-small">Data Observatory</a></li> <li class=FooterElement><a href=/integrations/ class="FooterLink js-Action--Footerlinks text is-small">Integrations</a></li> <li class=FooterElement><a href=/attribution/ class="FooterLink js-Action--Footerlinks text is-small">Attributions</a></li> <li class=FooterElement><a href=/pricing/ class="FooterLink js-Action--Footerlinks text is-small">Pricing</a></li> </ul> <ul class="grid-cell grid-cell--col2 grid-cell--col3--tablet"> <li class="FooterElement title is-small">About Us</li> <li class=FooterElement><a href=/team/ class="FooterLink js-Action--Footerlinks text is-small">Team</a></li> <li class=FooterElement><a href=/careers/ class="FooterLink js-Action--Footerlinks text is-small">Careers</a></li> <li class=FooterElement><a href=/press/ class="FooterLink js-Action--Footerlinks text is-small">Press</a></li> <li class=FooterElement><a href=/partners/ class="FooterLink js-Action--Footerlinks text is-small">Partners</a></li> <li class=FooterElement><a href=/contributions/ class="FooterLink js-Action--Footerlinks text is-small">Contributions</a></li> <li class=FooterElement><a href=/request-live-demo/ class="FooterLink js-Action--Footerlinks text is-small">Request a Live Demo</a></li> <li class=FooterElement><a href=/legal/ class="FooterLink js-Action--Footerlinks text is-small">Terms of Service</a></li> <li class=FooterElement><a href=/privacy/ class="FooterLink js-Action--Footerlinks text is-small">Privacy Policy</a></li> </ul> </div> </footer> </section> <script src=/developers/js/vendor.2e456c45.js></script> <script src=/developers/js/hangaralpha.7ea07c14.js></script> <script src=/developers/js/main-uiHandle.647b191a.js></script>  contentType 9 text/html url 45 https://carto.com:443/developers/cartoframes/ responseCode 3 200 