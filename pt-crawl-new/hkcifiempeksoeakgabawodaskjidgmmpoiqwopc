hkcifiempeksoeakgabawodaskjidgmmpoiqwopc length 5 11971 page 11971 
<html>
<head>
<title>r21319 MediaWiki - Code Review archive</title>
<meta charset="utf-8">
<link rel="stylesheet" href="../ext.codereview.styles.css"/>
</head>
<body>
<h1>r21319 MediaWiki - Code Review archive</h1>
<div id="mw-content-text" class="mw-body-content"><form action="/wiki/Special:Code/MediaWiki/21319" method="post"><table class="mw-codereview-meta"><tr><td>Repository:</td><td><a href="https://www.mediawiki.org/wiki/Special:Code/MediaWiki" title="Special:Code/MediaWiki">MediaWiki</a></td></tr>
<tr><td>Revision:</td><td>&lt;&#160;<a href="./21318.html" title="Special:Code/MediaWiki/21318">r21318</a>‎ | <b>r21319</b> | <a href="./21320.html" title="Special:Code/MediaWiki/21320">r21320</a>&#160;&gt;</td></tr>
<tr><td>Date:</td><td>09:23, 17 April 2007</td></tr>
<tr><td>Author:</td><td><a href="https://www.mediawiki.org/wiki/Special:Code/MediaWiki/author/ivanlanin" title="Special:Code/MediaWiki/author/ivanlanin">ivanlanin</a></td></tr>
<tr><td>Status:</td><td>old</td></tr>
<tr><td>Tags:</td><td></td></tr>
<tr><td>Comment:</td><td><div class="mw-codereview-message">Introduce magic word {{NUMBEROFEDITS}}</div></td></tr>
<tr><td>Modified paths:</td><td><div class='mw-codereview-paths mw-content-ltr'><ul>
<li><b>/trunk/phase3/RELEASE-NOTES</b> (modified) (<a href="https://www.mediawiki.org/w/index.php?title=Special:Code/MediaWiki&amp;path=%2Ftrunk%2Fphase3%2FRELEASE-NOTES" title="Special:Code/MediaWiki">history</a>)</li>
<li><b>/trunk/phase3/includes/CoreParserFunctions.php</b> (modified) (<a href="https://www.mediawiki.org/w/index.php?title=Special:Code/MediaWiki&amp;path=%2Ftrunk%2Fphase3%2Fincludes%2FCoreParserFunctions.php" title="Special:Code/MediaWiki">history</a>)</li>
<li><b>/trunk/phase3/includes/MagicWord.php</b> (modified) (<a href="https://www.mediawiki.org/w/index.php?title=Special:Code/MediaWiki&amp;path=%2Ftrunk%2Fphase3%2Fincludes%2FMagicWord.php" title="Special:Code/MediaWiki">history</a>)</li>
<li><b>/trunk/phase3/includes/Parser.php</b> (modified) (<a href="https://www.mediawiki.org/w/index.php?title=Special:Code/MediaWiki&amp;path=%2Ftrunk%2Fphase3%2Fincludes%2FParser.php" title="Special:Code/MediaWiki">history</a>)</li>
<li><b>/trunk/phase3/languages/messages/MessagesEn.php</b> (modified) (<a href="https://www.mediawiki.org/w/index.php?title=Special:Code/MediaWiki&amp;path=%2Ftrunk%2Fphase3%2Flanguages%2Fmessages%2FMessagesEn.php" title="Special:Code/MediaWiki">history</a>)</li>
</ul></div>
</td></tr>
</table>
<h2>Diff <small>[<a href="https://www.mediawiki.org/w/index.php?title=Special:Code/MediaWiki/21319&amp;action=purge" title="Special:Code/MediaWiki/21319">purge</a>]</small></h2><div class='mw-codereview-diff' id='mw-codereview-diff'><table class="mw-codereview-diff"><tr id="1" class="patchedfile"><td colspan="3">Index: trunk/phase3/languages/messages/MessagesEn.php</td></tr>



<tr id="5"><td class="linenumbers">—</td><td class="linenumbers">—</td><td class="chunkdelimiter"><span>@@ -251,6 +251,7 @@</span></td></tr>
<tr id="6"><td class="linenumbers">252</td><td class="linenumbers">252</td><td class="unchanged"><span> 	'numberofarticles'       => array( 1,    'NUMBEROFARTICLES'       ),</span></td></tr>
<tr id="7"><td class="linenumbers">253</td><td class="linenumbers">253</td><td class="unchanged"><span> 	'numberoffiles'          => array( 1,    'NUMBEROFFILES'          ),</span></td></tr>
<tr id="8"><td class="linenumbers">254</td><td class="linenumbers">254</td><td class="unchanged"><span> 	'numberofusers'          => array( 1,    'NUMBEROFUSERS'          ),</span></td></tr>
<tr id="9"><td class="linenumbers"> </td><td class="linenumbers">255</td><td class="ins"><ins>+	'numberofedits'          => array( 1,    'NUMBEROFEDITS'          ),</ins></td></tr>
<tr id="10"><td class="linenumbers">255</td><td class="linenumbers">256</td><td class="unchanged"><span> 	'pagename'               => array( 1,    'PAGENAME'               ),</span></td></tr>
<tr id="11"><td class="linenumbers">256</td><td class="linenumbers">257</td><td class="unchanged"><span> 	'pagenamee'              => array( 1,    'PAGENAMEE'              ),</span></td></tr>
<tr id="12"><td class="linenumbers">257</td><td class="linenumbers">258</td><td class="unchanged"><span> 	'namespace'              => array( 1,    'NAMESPACE'              ),</span></td></tr>
<tr id="13" class="patchedfile"><td colspan="3">Index: trunk/phase3/RELEASE-NOTES</td></tr>



<tr id="17"><td class="linenumbers">—</td><td class="linenumbers">—</td><td class="chunkdelimiter"><span>@@ -116,6 +116,7 @@</span></td></tr>
<tr id="18"><td class="linenumbers">117</td><td class="linenumbers">117</td><td class="unchanged"><span> * Introduce 'FileUpload' hook; see docs/hooks.txt for more information</span></td></tr>
<tr id="19"><td class="linenumbers">118</td><td class="linenumbers">118</td><td class="unchanged"><span> * Introduce 'SearchUpdate' hook; see docs/hooks.txt for more information</span></td></tr>
<tr id="20"><td class="linenumbers">119</td><td class="linenumbers">119</td><td class="unchanged"><span> * Introduce 'mywatchlist' message; used on personal menu to link to watchlist page</span></td></tr>
<tr id="21"><td class="linenumbers"> </td><td class="linenumbers">120</td><td class="ins"><ins>+* Introduce magic word {{NUMBEROFEDITS}}</ins></td></tr>
<tr id="22"><td class="linenumbers">120</td><td class="linenumbers">121</td><td class="unchanged"><span> </span></td></tr>
<tr id="23"><td class="linenumbers">121</td><td class="linenumbers">122</td><td class="unchanged"><span> == Bugfixes since 1.9 ==</span></td></tr>
<tr id="24"><td class="linenumbers">122</td><td class="linenumbers">123</td><td class="unchanged"><span> </span></td></tr>
<tr id="25" class="patchedfile"><td colspan="3">Index: trunk/phase3/includes/CoreParserFunctions.php</td></tr>



<tr id="29"><td class="linenumbers">—</td><td class="linenumbers">—</td><td class="chunkdelimiter"><span>@@ -135,6 +135,7 @@</span></td></tr>
<tr id="30"><td class="linenumbers">136</td><td class="linenumbers">136</td><td class="unchanged"><span> 	static function numberofarticles( $parser, $raw = null ) { return self::statisticsFunction( 'articles', $raw ); }</span></td></tr>
<tr id="31"><td class="linenumbers">137</td><td class="linenumbers">137</td><td class="unchanged"><span> 	static function numberoffiles( $parser, $raw = null ) { return self::statisticsFunction( 'images', $raw ); }</span></td></tr>
<tr id="32"><td class="linenumbers">138</td><td class="linenumbers">138</td><td class="unchanged"><span> 	static function numberofadmins( $parser, $raw = null ) { return self::statisticsFunction( 'admins', $raw ); }</span></td></tr>
<tr id="33"><td class="linenumbers"> </td><td class="linenumbers">139</td><td class="ins"><ins>+	static function numberofedits( $parser, $raw = null ) { return self::statisticsFunction( 'edits', $raw ); }</ins></td></tr>
<tr id="34"><td class="linenumbers">139</td><td class="linenumbers">140</td><td class="unchanged"><span> </span></td></tr>
<tr id="35"><td class="linenumbers">140</td><td class="linenumbers">141</td><td class="unchanged"><span> 	static function pagesinnamespace( $parser, $namespace = 0, $raw = null ) {</span></td></tr>
<tr id="36"><td class="linenumbers">141</td><td class="linenumbers">142</td><td class="unchanged"><span> 		$count = SiteStats::pagesInNs( intval( $namespace ) );</span></td></tr>
<tr id="37" class="patchedfile"><td colspan="3">Index: trunk/phase3/includes/MagicWord.php</td></tr>



<tr id="41"><td class="linenumbers">—</td><td class="linenumbers">—</td><td class="chunkdelimiter"><span>@@ -53,6 +53,7 @@</span></td></tr>
<tr id="42"><td class="linenumbers">54</td><td class="linenumbers">54</td><td class="unchanged"><span> 		'localhour',</span></td></tr>
<tr id="43"><td class="linenumbers">55</td><td class="linenumbers">55</td><td class="unchanged"><span> 		'numberofarticles',</span></td></tr>
<tr id="44"><td class="linenumbers">56</td><td class="linenumbers">56</td><td class="unchanged"><span> 		'numberoffiles',</span></td></tr>
<tr id="45"><td class="linenumbers"> </td><td class="linenumbers">57</td><td class="ins"><ins>+		'numberofedits',</ins></td></tr>
<tr id="46"><td class="linenumbers">57</td><td class="linenumbers">58</td><td class="unchanged"><span> 		'sitename',</span></td></tr>
<tr id="47"><td class="linenumbers">58</td><td class="linenumbers">59</td><td class="unchanged"><span> 		'server',</span></td></tr>
<tr id="48"><td class="linenumbers">59</td><td class="linenumbers">60</td><td class="unchanged"><span> 		'servername',</span></td></tr>
<tr id="49" class="patchedfile"><td colspan="3">Index: trunk/phase3/includes/Parser.php</td></tr>



<tr id="53"><td class="linenumbers">—</td><td class="linenumbers">—</td><td class="chunkdelimiter"><span>@@ -162,6 +162,7 @@</span></td></tr>
<tr id="54"><td class="linenumbers">163</td><td class="linenumbers">163</td><td class="unchanged"><span> 		$this->setFunctionHook( 'numberofarticles', array( 'CoreParserFunctions', 'numberofarticles' ), SFH_NO_HASH );</span></td></tr>
<tr id="55"><td class="linenumbers">164</td><td class="linenumbers">164</td><td class="unchanged"><span> 		$this->setFunctionHook( 'numberoffiles', array( 'CoreParserFunctions', 'numberoffiles' ), SFH_NO_HASH );</span></td></tr>
<tr id="56"><td class="linenumbers">165</td><td class="linenumbers">165</td><td class="unchanged"><span> 		$this->setFunctionHook( 'numberofadmins', array( 'CoreParserFunctions', 'numberofadmins' ), SFH_NO_HASH );</span></td></tr>
<tr id="57"><td class="linenumbers"> </td><td class="linenumbers">166</td><td class="ins"><ins>+		$this->setFunctionHook( 'numberofedits', array( 'CoreParserFunctions', 'numberofedits' ), SFH_NO_HASH );</ins></td></tr>
<tr id="58"><td class="linenumbers">166</td><td class="linenumbers">167</td><td class="unchanged"><span> 		$this->setFunctionHook( 'language', array( 'CoreParserFunctions', 'language' ), SFH_NO_HASH );</span></td></tr>
<tr id="59"><td class="linenumbers">167</td><td class="linenumbers">168</td><td class="unchanged"><span> 		$this->setFunctionHook( 'padleft', array( 'CoreParserFunctions', 'padleft' ), SFH_NO_HASH );</span></td></tr>
<tr id="60"><td class="linenumbers">168</td><td class="linenumbers">169</td><td class="unchanged"><span> 		$this->setFunctionHook( 'padright', array( 'CoreParserFunctions', 'padright' ), SFH_NO_HASH );</span></td></tr>
<tr id="61"><td class="linenumbers">—</td><td class="linenumbers">—</td><td class="chunkdelimiter"><span>@@ -2540,6 +2541,8 @@</span></td></tr>
<tr id="62"><td class="linenumbers">2541</td><td class="linenumbers">2542</td><td class="unchanged"><span> 				return $varCache[$index] = $wgContLang->formatNum( SiteStats::pages() );</span></td></tr>
<tr id="63"><td class="linenumbers">2542</td><td class="linenumbers">2543</td><td class="unchanged"><span> 			case 'numberofadmins':</span></td></tr>
<tr id="64"><td class="linenumbers">2543</td><td class="linenumbers">2544</td><td class="unchanged"><span> 				return $varCache[$index]  = $wgContLang->formatNum( SiteStats::admins() );</span></td></tr>
<tr id="65"><td class="linenumbers"> </td><td class="linenumbers">2545</td><td class="ins"><ins>+			case 'numberofedits':</ins></td></tr>
<tr id="66"><td class="linenumbers"> </td><td class="linenumbers">2546</td><td class="ins"><ins>+				return $varCache[$index]  = $wgContLang->formatNum( SiteStats::edits() );</ins></td></tr>
<tr id="67"><td class="linenumbers">2544</td><td class="linenumbers">2547</td><td class="unchanged"><span> 			case 'currenttimestamp':</span></td></tr>
<tr id="68"><td class="linenumbers">2545</td><td class="linenumbers">2548</td><td class="unchanged"><span> 				return $varCache[$index] = wfTimestampNow();</span></td></tr>
<tr id="69"><td class="linenumbers">2546</td><td class="linenumbers">2549</td><td class="unchanged"><span> 			case 'localtimestamp':</span></td></tr>
</table>
</div>
</form></div>
</body>
</html>
 contentType 9 text/html url 64 https://static-codereview.wikimedia.org:443/MediaWiki/21319.html responseCode 3 200 