loucyqcqgcagwozeocoisoxiiqmogkpczatkckvs length 6 323521 page 323521 <!DOCTYPE html>
<html lang="es">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="author" content="Paula F. Zermoglio, Camila A. Plata Corredor, John R. Wieczorek, Ricardo Ortiz Gallego, Leonardo Buitrago">
<title>Gu√≠a para la limpieza de datos sobre biodiversidad con OpenRefine</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300italic,400,400italic,600,600italic%7CDroid+Sans+Mono:400,700&amp;display=swap">
<style>/*! normalize.css v2.1.2 | MIT License | git.io/normalize */
/* ========================================================================== HTML5 display definitions ========================================================================== */
/** Correct `block` display not defined in IE 8/9. */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }

/** Correct `inline-block` display not defined in IE 8/9. */
audio, canvas, video { display: inline-block; }

/** Prevent modern browsers from displaying `audio` without controls. Remove excess height in iOS 5 devices. */
audio:not([controls]) { display: none; height: 0; }

/** Address `[hidden]` styling not present in IE 8/9. Hide the `template` element in IE, Safari, and Firefox < 22. */
[hidden], template { display: none; }

script { display: none !important; }

/* ========================================================================== Base ========================================================================== */
/** 1. Set default font family to sans-serif. 2. Prevent iOS text size adjust after orientation change, without disabling user zoom. */
html { font-family: sans-serif; /* 1 */ -ms-text-size-adjust: 100%; /* 2 */ -webkit-text-size-adjust: 100%; /* 2 */ }

/** Remove default margin. */
body { margin: 0; }

/* ========================================================================== Links ========================================================================== */
/** Remove the gray background color from active links in IE 10. */
a { background: transparent; }

/** Address `outline` inconsistency between Chrome and other browsers. */
a:focus { outline: thin dotted; }

/** Improve readability when focused and also mouse hovered in all browsers. */
a:active, a:hover { outline: 0; }

/* ========================================================================== Typography ========================================================================== */
/** Address variable `h1` font-size and margin within `section` and `article` contexts in Firefox 4+, Safari 5, and Chrome. */
h1 { font-size: 2em; margin: 0.67em 0; }

/** Address styling not present in IE 8/9, Safari 5, and Chrome. */
abbr[title] { border-bottom: 1px dotted; }

/** Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome. */
b, strong { font-weight: bold; }

/** Address styling not present in Safari 5 and Chrome. */
dfn { font-style: italic; }

/** Address differences between Firefox and other browsers. */
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }

/** Address styling not present in IE 8/9. */
mark { background: #ff0; color: #000; }

/** Correct font family set oddly in Safari 5 and Chrome. */
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }

/** Improve readability of pre-formatted text in all browsers. */
pre { white-space: pre-wrap; }

/** Set consistent quote types. */
q { quotes: "\201C" "\201D" "\2018" "\2019"; }

/** Address inconsistent and variable font size in all browsers. */
small { font-size: 80%; }

/** Prevent `sub` and `sup` affecting `line-height` in all browsers. */
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }

sup { top: -0.5em; }

sub { bottom: -0.25em; }

/* ========================================================================== Embedded content ========================================================================== */
/** Remove border when inside `a` element in IE 8/9. */
img { border: 0; }

/** Correct overflow displayed oddly in IE 9. */
svg:not(:root) { overflow: hidden; }

/* ========================================================================== Figures ========================================================================== */
/** Address margin not present in IE 8/9 and Safari 5. */
figure { margin: 0; }

/* ========================================================================== Forms ========================================================================== */
/** Define consistent border, margin, and padding. */
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }

/** 1. Correct `color` not being inherited in IE 8/9. 2. Remove padding so people aren't caught out if they zero out fieldsets. */
legend { border: 0; /* 1 */ padding: 0; /* 2 */ }

/** 1. Correct font family not being inherited in all browsers. 2. Correct font size not being inherited in all browsers. 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome. */
button, input, select, textarea { font-family: inherit; /* 1 */ font-size: 100%; /* 2 */ margin: 0; /* 3 */ }

/** Address Firefox 4+ setting `line-height` on `input` using `!important` in the UA stylesheet. */
button, input { line-height: normal; }

/** Address inconsistent `text-transform` inheritance for `button` and `select`. All other form control elements do not inherit `text-transform` values. Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+. Correct `select` style inheritance in Firefox 4+ and Opera. */
button, select { text-transform: none; }

/** 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio` and `video` controls. 2. Correct inability to style clickable `input` types in iOS. 3. Improve usability and consistency of cursor style between image-type `input` and others. */
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; /* 2 */ cursor: pointer; /* 3 */ }

/** Re-set default cursor for disabled elements. */
button[disabled], html input[disabled] { cursor: default; }

/** 1. Address box sizing set to `content-box` in IE 8/9. 2. Remove excess padding in IE 8/9. */
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; /* 1 */ padding: 0; /* 2 */ }

/** 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome. 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome (include `-moz` to future-proof). */
input[type="search"] { -webkit-appearance: textfield; /* 1 */ -moz-box-sizing: content-box; -webkit-box-sizing: content-box; /* 2 */ box-sizing: content-box; }

/** Remove inner padding and search cancel button in Safari 5 and Chrome on OS X. */
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }

/** Remove inner padding and border in Firefox 4+. */
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }

/** 1. Remove default vertical scrollbar in IE 8/9. 2. Improve readability and alignment in all browsers. */
textarea { overflow: auto; /* 1 */ vertical-align: top; /* 2 */ }

/* ========================================================================== Tables ========================================================================== */
/** Remove most spacing between table cells. */
table { border-collapse: collapse; border-spacing: 0; }

meta.foundation-mq-small { font-family: "only screen and (min-width: 768px)"; width: 768px; }

meta.foundation-mq-medium { font-family: "only screen and (min-width:1280px)"; width: 1280px; }

meta.foundation-mq-large { font-family: "only screen and (min-width:1440px)"; width: 1440px; }

*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }

html, body { font-size: 100%; }

body { background: white; color: #4e565f; padding: 0; margin: 0; font-family: "Roboto", "DejaVu Sans", sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }

a:hover { cursor: pointer; }

img, object, embed { max-width: 100%; height: auto; }

object, embed { height: 100%; }

img { -ms-interpolation-mode: bicubic; }

#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }

.left { float: left !important; }

.right { float: right !important; }

.text-left { text-align: left !important; }

.text-right { text-align: right !important; }

.text-center { text-align: center !important; }

.text-justify { text-align: justify !important; }

.hide { display: none; }

.antialiased { -webkit-font-smoothing: antialiased; }

img { display: inline-block; vertical-align: middle; }

textarea { height: auto; min-height: 50px; }

select { width: 100%; }

object, svg { display: inline-block; vertical-align: middle; }

.center { margin-left: auto; margin-right: auto; }

.stretch { width: 100%; }

p.lead { font-size: 1.21875em; line-height: 1.6; }

.subheader, .admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { line-height: 1.45; color: #4e565f; font-weight: normal; margin-top: 0; margin-bottom: 0.25em; }

/* Typography resets */
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, #toc h3, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }

/* Default Link Styles */
a { color: #4ba2ce; text-decoration: underline; line-height: inherit; }
a:hover, a:focus { color: #2c79a1; }
a img { border: none; }

/* Default paragraph styles */
p { font-family: inherit; font-weight: normal; font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }

/* Default header styles */
h1, h2, h3, #toctitle, #toc h3, .sidebarblock > .content > .title, h4, h5, h6 { font-family: "Roboto", "DejaVu Sans", sans-serif; font-weight: 400; font-style: normal; color: #46a138; text-rendering: optimizeLegibility; margin-top: 1em; margin-bottom: 0.5em; line-height: 1.0125em; }
h1 small, h2 small, h3 small, #toctitle small, #toc h3 small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #a0db97; line-height: 0; }

h1 { font-size: 2.125em; }

h2 { font-size: 1.6875em; }

h3, #toctitle, #toc h3, .sidebarblock > .content > .title { font-size: 1.375em; }

h4 { font-size: 1.125em; }

h5 { font-size: 1.125em; }

h6 { font-size: 1em; }

hr { border: dotted #cccccc; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }

/* Helpful Typography Defaults */
em, i { font-style: italic; line-height: inherit; }

strong, b { font-weight: bold; line-height: inherit; }

small { font-size: 60%; line-height: inherit; }

code { font-family: "Droid Sans Mono", "DejaVu Sans Mono", monospace; font-weight: normal; color: #2d6824; }

/* Lists */
ul, ol, dl { font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; list-style-position: outside; font-family: inherit; }

ul, ol { margin-left: 1.5em; }
ul.no-bullet, ol.no-bullet { margin-left: 1.5em; }

/* Unordered Lists */
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; /* Override nested font-size change */ }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }

/* Ordered Lists */
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }

/* Definition Lists */
dl dt { margin-bottom: 0.3125em; font-weight: bold; }
dl dd { margin-bottom: 1.25em; }

/* Abbreviations */
abbr, acronym { text-transform: uppercase; font-size: 90%; color: #4e565f; border-bottom: 1px dotted #dddddd; cursor: help; }

abbr { text-transform: none; }

/* Blockquotes */
blockquote { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #efefef; }
blockquote cite { display: block; font-size: 0.9375em; color: #373d43; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #373d43; }

blockquote, blockquote p { line-height: 1.6; color: #4e565f; }

/* Microformats */
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }

.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }

@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, #toc h3, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.2; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, #toc h3, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
/* Tables */
table { background: white; margin-bottom: 1.25em; border: solid 1px #dedede; }
table thead, table tfoot { background: #f7f8f7; font-weight: normal; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: #46a138; text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: #4e565f; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f8f8f7; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.6; }

body { -moz-osx-font-smoothing: grayscale; -webkit-font-smoothing: antialiased; tab-size: 4; }

h1, h2, h3, #toctitle, #toc h3, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.2; word-spacing: -0.05em; }

.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }

:not(pre):not([class^=L]) > code { font-size: 0.9375em; font-style: normal !important; letter-spacing: 0; padding: 0.1em 0.5ex; word-spacing: -0.15em; background-color: #f7f7f8; -webkit-border-radius: 4px; border-radius: 4px; line-height: 1.45; text-rendering: optimizeSpeed; word-wrap: break-word; }

:not(pre) > code.nobreak { word-wrap: normal; }
:not(pre) > code.nowrap { white-space: nowrap; }

pre { color: rgba(0, 0, 0, 0.9); font-family: "Droid Sans Mono", "DejaVu Sans Mono", "Monospace", monospace; line-height: 1.45; text-rendering: optimizeSpeed; }
pre code, pre pre { color: inherit; font-size: inherit; line-height: inherit; }
pre > code { display: block; }

pre.nowrap, pre.nowrap pre { white-space: pre; word-wrap: normal; }

em em { font-style: normal; }

strong strong { font-weight: normal; }

.keyseq { color: #7e8995; }

kbd { font-family: "Droid Sans Mono", "DejaVu Sans Mono", monospace; display: inline-block; color: #4e565f; font-size: 0.65em; line-height: 1.45; background-color: #f7f7f7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; margin: 0 0.15em; padding: 0.2em 0.5em; vertical-align: middle; position: relative; top: -0.1em; white-space: nowrap; }

.keyseq kbd:first-child { margin-left: 0; }

.keyseq kbd:last-child { margin-right: 0; }

.menuseq, .menuref { color: #000; }

.menuseq b:not(.caret), .menuref { font-weight: inherit; }

.menuseq { word-spacing: -0.02em; }
.menuseq b.caret { font-size: 1.25em; line-height: 0.8; }
.menuseq i.caret { font-weight: bold; text-align: center; width: 0.45em; }

b.button:before, b.button:after { position: relative; top: -1px; font-weight: normal; }

b.button:before { content: "["; padding: 0 3px 0 2px; }

b.button:after { content: "]"; padding: 0 2px 0 3px; }

p a > code:hover { color: #25551e; }

#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 0.9375em; padding-right: 0.9375em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }

#content { margin-top: 1.25em; }

#content:before { content: none; }

#header > h1:first-child { color: #4e565f; margin-top: 2.25rem; margin-bottom: 0; }
#header > h1:first-child + #toc { margin-top: 8px; border-top: 1px dotted #cccccc; }
#header > h1:only-child, body.toc2 #header > h1:nth-last-child(2) { border-bottom: 1px dotted #cccccc; padding-bottom: 8px; }
#header .details { border-bottom: 1px dotted #cccccc; line-height: 1.45; padding-top: 0.25em; padding-bottom: 0.25em; padding-left: 0.25em; color: #373d43; display: -ms-flexbox; display: -webkit-flex; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; }
#header .details span:first-child { margin-left: -0.125em; }
#header .details span.email a { color: #4e565f; }
#header .details br { display: none; }
#header .details br + span:before { content: "\00a0\2013\00a0"; }
#header .details br + span.author:before { content: "\00a0\22c5\00a0"; color: #4e565f; }
#header .details br + span#revremark:before { content: "\00a0|\00a0"; }
#header #revnumber { text-transform: capitalize; }
#header #revnumber:after { content: "\00a0"; }

#content > h1:first-child:not([class]) { color: #4e565f; border-bottom: 1px dotted #cccccc; padding-bottom: 8px; margin-top: 0; padding-top: 1rem; margin-bottom: 1.25rem; }

#toc { border-bottom: 1px solid #cccccc; padding-bottom: 0.5em; }
#toc > ul { margin-left: 0.125em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin: 0.5em 0; }
#toc ul { font-family: "Roboto", "DejaVu Sans", sans-serif; list-style-type: none; }
#toc li { line-height: 1.3334; margin-top: 0.3334em; }
#toc a { text-decoration: none; }
#toc a:active { text-decoration: underline; }

#toctitle, #toc #toctitle, #toc h3, #toc .sidebarblock > .content > .title { color: #4e565f; font-size: 1.2em; }

#toc #toctitle, #toc h3, #toc .sidebarblock > .content > .title { margin: 0 0 0.8rem 0; line-height: 1.2; }

@media only screen and (min-width: 768px) { #toctitle, #toc #toctitle, #toc h3, #toc .sidebarblock > .content > .title { font-size: 1.375em; }
  body.toc2 { padding-left: 15em; padding-right: 0; }
  #toc.toc2 { margin-top: 0 !important; background: #f8f8f7; position: fixed; width: 15em; left: 0; top: 0; border-right: 1px solid #cccccc; border-top-width: 0 !important; border-bottom-width: 0 !important; z-index: 1000; padding: 1.25em 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle, #toc.toc2 #toc #toctitle, #toc.toc2 #toc h3, #toc.toc2 #toc .sidebarblock > .content > .title { margin-top: 0; margin-bottom: 0.8rem; font-size: 1.2em; }
  #toc.toc2 > ul { font-size: 0.9em; margin-bottom: 0; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 15em; }
  body.toc2.toc-right #toc.toc2 { border-right-width: 0; border-left: 1px solid #cccccc; left: auto; right: 0; } }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; padding-right: 0; }
  #toc.toc2 { width: 20em; }
  #toc.toc2 #toctitle, #toc.toc2 #toc #toctitle, #toc.toc2 #toc h3, #toc.toc2 #toc .sidebarblock > .content > .title { font-size: 1.375em; }
  #toc.toc2 > ul { font-size: 0.95em; }
  #toc.toc2 ul ul { padding-left: 1.25em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #e0e0dc; margin-bottom: 1.25em; padding: 1.25em; background: #f8f8f7; -webkit-border-radius: 4px; border-radius: 4px; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }

#footer { max-width: 100%; background: #222222; padding: 1.25em; }

#footer-text { color: white; line-height: 1.44; }

#content { margin-bottom: 0.625em; }

.sect1 { padding-bottom: 0.625em; }

@media only screen and (min-width: 768px) { #content { margin-bottom: 1.25em; }
  .sect1 { padding-bottom: 1.25em; } }
.sect1:last-child { padding-bottom: 0; }

.sect1 + .sect1 { border-top: 1px solid #cccccc; }

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, #toc h3 > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; z-index: 1001; width: 1.5ex; margin-left: -1.5ex; display: block; text-decoration: none !important; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, #toc h3 > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: "\00A7"; font-size: 0.85em; display: block; padding-top: 0.1em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, #toc h3:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, #toc h3 > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, #toc h3 > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #46a138; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, #toc h3 > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #3e8e31; }

details, .audioblock, .imageblock, .literalblock, .listingblock, .stemblock, .videoblock { margin-bottom: 1.25em; }

details > summary:first-of-type { cursor: pointer; display: list-item; outline: none; margin-bottom: 0.75em; }

.admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-rendering: optimizeLegibility; text-align: left; font-family: "Roboto", "DejaVu Sans", sans-serif; font-size: 1rem; font-style: italic; }

table.tableblock.fit-content > caption.title { white-space: nowrap; width: 0; }

.paragraph.lead > p, #preamble > .sectionbody > [class="paragraph"]:first-of-type p { font-size: 1.21875em; line-height: 1.6; color: #4e565f; }

table.tableblock #preamble > .sectionbody > [class="paragraph"]:first-of-type p { font-size: inherit; }

.admonitionblock > table { border-collapse: separate; border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; font-family: "Roboto", "DejaVu Sans", sans-serif; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px dotted #cccccc; color: #373d43; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }

.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 4px; border-radius: 4px; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }

.sidebarblock { border-style: solid; border-width: 1px; border-color: #dbdbd6; margin-bottom: 1.25em; padding: 1.25em; background: #f3f3f2; -webkit-border-radius: 4px; border-radius: 4px; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock > .content > .title { color: #4e565f; margin-top: 0; text-align: center; }

.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }

.literalblock pre, .listingblock > .content > pre { -webkit-border-radius: 4px; border-radius: 4px; word-wrap: break-word; overflow-x: auto; padding: 0.75em 0.75em 0.625em 0.75em; font-size: 0.8125em; }
@media only screen and (min-width: 768px) { .literalblock pre, .listingblock > .content > pre { font-size: 0.90625em; } }
@media only screen and (min-width: 1280px) { .literalblock pre, .listingblock > .content > pre { font-size: 1em; } }

.literalblock pre, .listingblock > .content > pre:not(.highlight), .listingblock > .content > pre[class="highlight"], .listingblock > .content > pre[class^="highlight "] { background: #efefef; }

.literalblock.output pre { color: #efefef; background-color: rgba(0, 0, 0, 0.9); }

.listingblock > .content { position: relative; }

.listingblock code[data-lang]:before { display: none; content: attr(data-lang); position: absolute; font-size: 0.75em; top: 0.425rem; right: 0.5rem; line-height: 1; text-transform: uppercase; color: inherit; opacity: 0.5; }

.listingblock:hover code[data-lang]:before { display: block; }

.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: inherit; opacity: 0.5; }

.listingblock.terminal pre .command:not([data-prompt]):before { content: "$"; }

.listingblock pre.highlightjs { padding: 0; }
.listingblock pre.highlightjs > code { padding: 0.75em 0.75em 0.625em 0.75em; -webkit-border-radius: 4px; border-radius: 4px; }

.listingblock pre.prettyprint { border-width: 0; }

.prettyprint { background: #efefef; }

pre.prettyprint .linenums { line-height: 1.45; margin-left: 2em; }

pre.prettyprint li { background: none; list-style-type: inherit; padding-left: 0; }

pre.prettyprint li code[data-lang]:before { opacity: 1; }

pre.prettyprint li:not(:first-child) code[data-lang]:before { display: none; }

table.linenotable { border-collapse: separate; border: 0; margin-bottom: 0; background: none; }
table.linenotable td[class] { color: inherit; vertical-align: top; padding: 0; line-height: inherit; white-space: normal; }
table.linenotable td.code { padding-left: 0.75em; }
table.linenotable td.linenos { border-right: 1px solid currentColor; opacity: 0.35; padding-right: 0.5em; }

pre.pygments .lineno { border-right: 1px solid currentColor; opacity: 0.35; display: inline-block; margin-right: 0.75em; }
pre.pygments .lineno:before { content: ""; margin-right: -0.125em; }

.quoteblock { margin: 0 1em 1.25em 1.5em; display: table; }
.quoteblock:not(.excerpt) > .title { margin-left: -1.5em; margin-bottom: 0.75em; }
.quoteblock blockquote, .quoteblock p { color: #4e565f; font-size: 1.15rem; line-height: 1.75; word-spacing: 0.1em; letter-spacing: 0; font-style: italic; text-align: justify; }
.quoteblock blockquote { margin: 0; padding: 0; border: 0; }
.quoteblock blockquote:before { content: "\201c"; float: left; font-size: 2.75em; font-weight: bold; line-height: 0.6em; margin-left: -0.6em; color: #4e565f; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: 0.75em; margin-right: 0.5ex; text-align: right; }

.verseblock { margin: 0 1em 1.25em 1em; }
.verseblock pre { font-family: "Open Sans", "DejaVu Sans", sans; font-size: 1.15rem; color: #4e565f; font-weight: 300; text-rendering: optimizeLegibility; }
.verseblock pre strong { font-weight: 400; }
.verseblock .attribution { margin-top: 1.25rem; margin-left: 0.5ex; }

.quoteblock .attribution, .verseblock .attribution { font-size: 0.9375em; line-height: 1.45; font-style: italic; }
.quoteblock .attribution br, .verseblock .attribution br { display: none; }
.quoteblock .attribution cite, .verseblock .attribution cite { display: block; letter-spacing: -0.025em; color: #373d43; }

.quoteblock.abstract blockquote:before, .quoteblock.excerpt blockquote:before, .quoteblock .quoteblock blockquote:before { display: none; }
.quoteblock.abstract blockquote, .quoteblock.abstract p, .quoteblock.excerpt blockquote, .quoteblock.excerpt p, .quoteblock .quoteblock blockquote, .quoteblock .quoteblock p { line-height: 1.6; word-spacing: 0; }
.quoteblock.abstract { margin: 0 1em 1.25em 1em; display: block; }
.quoteblock.abstract > .title { margin: 0 0 0.375em 0; font-size: 1.15em; text-align: center; }
.quoteblock.excerpt > blockquote, .quoteblock .quoteblock { padding: 0 0 0.25em 1em; border-left: 0.25em solid #cccccc; }
.quoteblock.excerpt, .quoteblock .quoteblock { margin-left: 0; }
.quoteblock.excerpt blockquote, .quoteblock.excerpt p, .quoteblock .quoteblock blockquote, .quoteblock .quoteblock p { color: inherit; font-size: 1.0625rem; }
.quoteblock.excerpt .attribution, .quoteblock .quoteblock .attribution { color: inherit; text-align: left; margin-right: 0; }

table.tableblock { max-width: 100%; border-collapse: separate; }

p.tableblock:last-child { margin-bottom: 0; }

td.tableblock > .content { margin-bottom: 1.25em; }
td.tableblock > .content > :last-child { margin-bottom: -1.25em; }

table.tableblock, th.tableblock, td.tableblock { border: 0 solid #dedede; }

table.grid-all > thead > tr > .tableblock, table.grid-all > tbody > tr > .tableblock { border-width: 0 1px 1px 0; }

table.grid-all > tfoot > tr > .tableblock { border-width: 1px 1px 0 0; }

table.grid-cols > * > tr > .tableblock { border-width: 0 1px 0 0; }

table.grid-rows > thead > tr > .tableblock, table.grid-rows > tbody > tr > .tableblock { border-width: 0 0 1px 0; }

table.grid-rows > tfoot > tr > .tableblock { border-width: 1px 0 0 0; }

table.grid-all > * > tr > .tableblock:last-child, table.grid-cols > * > tr > .tableblock:last-child { border-right-width: 0; }

table.grid-all > tbody > tr:last-child > .tableblock, table.grid-all > thead:last-child > tr > .tableblock, table.grid-rows > tbody > tr:last-child > .tableblock, table.grid-rows > thead:last-child > tr > .tableblock { border-bottom-width: 0; }

table.frame-all { border-width: 1px; }

table.frame-sides { border-width: 0 1px; }

table.frame-topbot, table.frame-ends { border-width: 1px 0; }

table.stripes-all tr, table.stripes-odd tr:nth-of-type(odd), table.stripes-even tr:nth-of-type(even), table.stripes-hover tr:hover { background: #f8f8f7; }

table.stripes-none tr { background: none; }

th.halign-left, td.halign-left { text-align: left; }

th.halign-right, td.halign-right { text-align: right; }

th.halign-center, td.halign-center { text-align: center; }

th.valign-top, td.valign-top { vertical-align: top; }

th.valign-bottom, td.valign-bottom { vertical-align: bottom; }

th.valign-middle, td.valign-middle { vertical-align: middle; }

table thead th, table tfoot th { font-weight: normal; }

tbody tr th { display: table-cell; line-height: 1.6; background: #f7f8f7; }

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p { color: #46a138; font-weight: normal; }

p.tableblock > code:only-child { background: none; padding: 0; }

p.tableblock { font-size: 1em; }

ol { margin-left: 1.75em; }

ul li ol { margin-left: 1.5em; }

dl dd { margin-left: 1.125em; }

dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.625em; }

ul.checklist, ul.none, ol.none, ul.no-bullet, ol.no-bullet, ol.unnumbered, ul.unstyled, ol.unstyled { list-style-type: none; }

ul.no-bullet, ol.no-bullet, ol.unnumbered { margin-left: 0.625em; }

ul.unstyled, ol.unstyled { margin-left: 0; }

ul.checklist { margin-left: 0.625em; }

ul.checklist li > p:first-child > .fa-square-o:first-child, ul.checklist li > p:first-child > .fa-check-square-o:first-child { width: 1.25em; font-size: 0.8em; position: relative; bottom: 0.125em; }

ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }

ul.inline { display: -ms-flexbox; display: -webkit-box; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; list-style: none; margin: 0 0 0.625em -1.25em; }

ul.inline > li { margin-left: 1.25em; }

.unstyled dl dt { font-weight: normal; font-style: normal; }

ol.arabic { list-style-type: decimal; }

ol.decimal { list-style-type: decimal-leading-zero; }

ol.loweralpha { list-style-type: lower-alpha; }

ol.upperalpha { list-style-type: upper-alpha; }

ol.lowerroman { list-style-type: lower-roman; }

ol.upperroman { list-style-type: upper-roman; }

ol.lowergreek { list-style-type: lower-greek; }

.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }

td.hdlist1, td.hdlist2 { vertical-align: top; padding: 0 0.625em; }

td.hdlist1 { font-weight: bold; padding-bottom: 1.25em; }

.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }

.colist td:not([class]):first-child { padding: 0.4em 0.75em 0 0.75em; line-height: 1; vertical-align: top; }
.colist td:not([class]):first-child img { max-width: none; }
.colist td:not([class]):last-child { padding: 0.25em 0; }

.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }

.imageblock.left { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }

.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }

a.image { text-decoration: none; display: inline-block; }
a.image object { pointer-events: none; }

sup.footnote, sup.footnoteref { font-size: 0.875em; position: static; vertical-align: super; }
sup.footnote a, sup.footnoteref a { text-decoration: none; }
sup.footnote a:active, sup.footnoteref a:active { text-decoration: underline; }

#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -0.25em 0 0.75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em 0 0.225em; line-height: 1.3334; font-size: 0.875em; margin-left: 1.2em; margin-bottom: 0.2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; margin-left: -1.05em; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }
#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }

.gist .file-data > table { border: 0; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }

div.unbreakable { page-break-inside: avoid; }

.big { font-size: larger; }

.small { font-size: smaller; }

.underline { text-decoration: underline; }

.overline { text-decoration: overline; }

.line-through { text-decoration: line-through; }

.aqua { color: #00bfbf; }

.aqua-background { background-color: #00fafa; }

.black { color: black; }

.black-background { background-color: black; }

.blue { color: #0000bf; }

.blue-background { background-color: #0000fa; }

.fuchsia { color: #bf00bf; }

.fuchsia-background { background-color: #fa00fa; }

.gray { color: #606060; }

.gray-background { background-color: #7d7d7d; }

.green { color: #006000; }

.green-background { background-color: #007d00; }

.lime { color: #00bf00; }

.lime-background { background-color: #00fa00; }

.maroon { color: #600000; }

.maroon-background { background-color: #7d0000; }

.navy { color: #000060; }

.navy-background { background-color: #00007d; }

.olive { color: #606000; }

.olive-background { background-color: #7d7d00; }

.purple { color: #600060; }

.purple-background { background-color: #7d007d; }

.red { color: #bf0000; }

.red-background { background-color: #fa0000; }

.silver { color: #909090; }

.silver-background { background-color: #bcbcbc; }

.teal { color: #006060; }

.teal-background { background-color: #007d7d; }

.white { color: #bfbfbf; }

.white-background { background-color: #fafafa; }

.yellow { color: #bfbf00; }

.yellow-background { background-color: #fafa00; }

span.icon > .fa { cursor: default; }
a span.icon > .fa { cursor: inherit; }

.admonitionblock td.icon [class^="fa icon-"] { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #3a4147; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }

.conum[data-value] { display: inline-block; color: #fff !important; background-color: #4e565f; -webkit-border-radius: 50%; border-radius: 50%; text-align: center; font-size: 0.75em; width: 1.67em; height: 1.67em; line-height: 1.67em; font-family: "Open Sans", "DejaVu Sans", sans-serif; font-style: normal; font-weight: bold; }
.conum[data-value] * { color: #fff !important; }
.conum[data-value] + b { display: none; }
.conum[data-value]:after { content: attr(data-value); }
pre .conum[data-value] { position: relative; top: -0.125em; }

b.conum * { color: inherit !important; }

.conum:not([data-value]):empty { display: none; }

h1 { text-align: center; }

.imageblock .title { margin-left: 2em; margin-right: 2em; }

:not(.translationLinks) > em:lang(zh), :not(.translationLinks) > em:lang(ja) { font-style: normal; text-emphasis: dot; }

.term { color: inherit; font: 0.9em "Droid Sans Mono", "DejaVu Sans Mono", monospace; text-decoration: dotted underline; text-decoration-thickness: 1px; text-underline-offset: 2px; word-wrap: break-word; }

a.glossary { color: inherit; text-decoration: dotted underline; text-decoration-thickness: 1px; text-underline-offset: 2px; }

.break-all { word-break: break-all; }
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<style>/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
pre.CodeRay{background:#f7f7f8}
.CodeRay .line-numbers{border-right:1px solid currentColor;opacity:.35;padding:0 .5em 0 0}
.CodeRay span.line-numbers{display:inline-block;margin-right:.75em}
.CodeRay .line-numbers strong{color:#000}
table.CodeRay{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.CodeRay td{vertical-align:top;line-height:inherit}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.code{padding:0 0 0 .75em}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}</style>
<link rel="license" href="https://creativecommons.org/licenses/by-sa/4.0">
<link rel="alternate" hreflang="x-default" href="../">
<link rel="alternate" hreflang="es" href="./">

          <style id="question">
            .hidden {
    display: none;
}

question[data-type=gap] gap > input.incorrect {
    font-weight: bold;
    color: red;
}


question[data-type=gap] gap > answer, div[id*=question][data-type=gap] gap > input.correct {
    font-weight: bold;
    color: green;
}

question[data-type=mc] input[type="checkbox"].show ~ span::before {
    display: inline;
    width: 16px;
    height: 16px;
}

question[data-type=mc] input[type="checkbox"][data-correct="true"].show ~ span::before {
    content: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjxzdmcgaGVpZ2h0PSIxNnB4IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjE2cHgiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxwYXRoIGZpbGw9Im9saXZlZHJhYiIgc3Ryb2tlPSJvbGl2ZWRyYWIiIGQ9Ik0yMS42NTIsMy4yMTFjLTAuMjkzLTAuMjk1LTAuNzctMC4yOTUtMS4wNjEsMEw5LjQxLDE0LjM0ICBjLTAuMjkzLDAuMjk3LTAuNzcxLDAuMjk3LTEuMDYyLDBMMy40NDksOS4zNTFDMy4zMDQsOS4yMDMsMy4xMTQsOS4xMywyLjkyMyw5LjEyOUMyLjczLDkuMTI4LDIuNTM0LDkuMjAxLDIuMzg3LDkuMzUxICBsLTIuMTY1LDEuOTQ2QzAuMDc4LDExLjQ0NSwwLDExLjYzLDAsMTEuODIzYzAsMC4xOTQsMC4wNzgsMC4zOTcsMC4yMjMsMC41NDRsNC45NCw1LjE4NGMwLjI5MiwwLjI5NiwwLjc3MSwwLjc3NiwxLjA2MiwxLjA3ICBsMi4xMjQsMi4xNDFjMC4yOTIsMC4yOTMsMC43NjksMC4yOTMsMS4wNjIsMGwxNC4zNjYtMTQuMzRjMC4yOTMtMC4yOTQsMC4yOTMtMC43NzcsMC0xLjA3MUwyMS42NTIsMy4yMTF6Ii8+PC9zdmc+);
}

question[data-type=mc] input[type="checkbox"][data-correct="false"].show ~ span::before {
    content: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjxzdmcgaGVpZ2h0PSIxNnB4IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjE2cHgiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxwYXRoIGZpbGw9Im1hcm9vbiIgc3Ryb2tlPSJtYXJvb24iIGQ9Ik0yMi4yNDUsNC4wMTVjMC4zMTMsMC4zMTMsMC4zMTMsMC44MjYsMCwxLjEzOWwtNi4yNzYsNi4yN2MtMC4zMTMsMC4zMTItMC4zMTMsMC44MjYsMCwxLjE0bDYuMjczLDYuMjcyICBjMC4zMTMsMC4zMTMsMC4zMTMsMC44MjYsMCwxLjE0bC0yLjI4NSwyLjI3N2MtMC4zMTQsMC4zMTItMC44MjgsMC4zMTItMS4xNDIsMGwtNi4yNzEtNi4yNzFjLTAuMzEzLTAuMzEzLTAuODI4LTAuMzEzLTEuMTQxLDAgIGwtNi4yNzYsNi4yNjdjLTAuMzEzLDAuMzEzLTAuODI4LDAuMzEzLTEuMTQxLDBsLTIuMjgyLTIuMjhjLTAuMzEzLTAuMzEzLTAuMzEzLTAuODI2LDAtMS4xNGw2LjI3OC02LjI2OSAgYzAuMzEzLTAuMzEyLDAuMzEzLTAuODI2LDAtMS4xNEwxLjcwOSw1LjE0N2MtMC4zMTQtMC4zMTMtMC4zMTQtMC44MjcsMC0xLjE0bDIuMjg0LTIuMjc4QzQuMzA4LDEuNDE3LDQuODIxLDEuNDE3LDUuMTM1LDEuNzMgIEwxMS40MDUsOGMwLjMxNCwwLjMxNCwwLjgyOCwwLjMxNCwxLjE0MSwwLjAwMWw2LjI3Ni02LjI2N2MwLjMxMi0wLjMxMiwwLjgyNi0wLjMxMiwxLjE0MSwwTDIyLjI0NSw0LjAxNXoiLz48L3N2Zz4=);
}
          </style>
        <script type="text/javascript">
                          function onLoad() {
    var questions = document.getElementsByTagName("question")
    for (var pos = 0; pos < questions.length; pos++) {
        var question = questions[pos]
        if (question.getAttribute('data-type') == 'mc') {
            if (question.getAttribute('data-shuffle') != null) shuffleAnswers(question)
        }
    }
}

function shuffleAnswers(question) {
    var answers = null
    var content = question.children[0]
    for (var i = content.children.length-1; i >= 0; i--) {
        if(content.children[i].className.indexOf('checklist') > -1) {
            answers = content.children[i].children[0]
            break;
        }
    }
    if(answers == null) return

    for (var i = answers.children.length; i >= 0; i--) {
        answers.appendChild(answers.children[Math.random() * i | 0]);
    }
}

function resolve(questionId) {
    var q = document.getElementById("question_" + questionId)
    var type = q.getAttribute("data-type")
    var elems
    var pos
    var answer

    if(type == "mc") {
        elems = q.getElementsByTagName("input")
        for(pos = 0; pos < elems.length; pos++) {
            answer = elems[pos]
            answer.setAttribute("class", "show")
        }
    } else if(type == "gap") {
        elems = q.getElementsByTagName("gap")
        for(pos = 0; pos < elems.length; pos++) {
            var gap = elems[pos]
            var input = gap.getElementsByTagName("input")[0]
            answer = gap.getElementsByTagName("answer")[0]
            if(input.value == answer.textContent) {
                input.setAttribute("class", "correct")
            } else {
                input.setAttribute("class", "incorrect")
                answer.setAttribute("class", "")
            }
        }
    }
}

function reset(questionId) {
    var q = document.getElementById("question_" + questionId)
    var type = q.getAttribute("data-type")
    var elems
    var pos
    var answer

    if(type == "mc") {
        elems = q.getElementsByTagName("input")
        for(pos = 0; pos < elems.length; pos++) {
            answer = elems[pos]
            answer.setAttribute("class", "")
            answer.checked = false
        }
    } else if(type == "gap") {
        elems = q.getElementsByTagName("gap")
        for(pos = 0; pos < elems.length; pos++) {
            var gap = elems[pos]
            var input = gap.getElementsByTagName("input")[0]
            answer = gap.getElementsByTagName("answer")[0]
            input.setAttribute("class", "")
            answer.setAttribute("class", "hidden")
        }
    }
}
                        </script>
</head>
<body class="article toc2 toc-left" onload="onLoad()">
<div id="header">
<header><h1>Gu√≠a para la limpieza de datos sobre biodiversidad con OpenRefine</h1></header><div class="details">
<span class="author" id="author">Paula F. Zermoglio</span><br><span class="author" id="author2">Camila A. Plata Corredor</span><br><span class="author" id="author3">John R. Wieczorek</span><br><span class="author" id="author4">Ricardo Ortiz Gallego</span><br><span class="author" id="author5">Leonardo Buitrago</span><br><span id="revnumber">versi√≥n 3.0,</span> <span id="revdate">2021-02-25 12:56:06 UTC</span>
</div>
<div id="toc" class="toc2">
<header id="logo"><a href="https://www.gbif.org/"><img src="https://docs.gbif.org/style/logo.svg" alt="GBIF ‚Äì Global Biodiversity Information Facility"></a></header><br><h3 id="otherformatstitle">Otros Formatos</h3>
<ul class="sectlevel1">
<li><a hreflang="es" type="application/pdf" href="guia-para-la-limpieza-de-datos-sobre-biodiversidad-con-openrefine.es.pdf">PDF format</a></li>
</ul>
<br><h3 id="contributetitle">Para contribuciciones</h3>
<div id="improvetext"><a href="https://docs.gbif.org/contributing/"><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5NiIgaGVpZ2h0PSI5NiIgaWQ9ImltcHJvdmUtbWFyayIgdmVyc2lvbj0iMS4xIj48Y2lyY2xlIHN0eWxlPSJmaWxsOiMxNzVjYTE7IiBjeD0iNDgiIGN5PSI0OCIgcj0iNDgiLz48ZyBzdHlsZT0iZmlsbDojZmZmZmZmIj48cGF0aCBkPSJtIDQ1LjA5OTk5NSwyNC4wMDk5NDggYSAxLjM3NDUwNjMsMS4zNjMyMDE4IDAgMCAxIDEuMzUzNjc5LDEuMzgyMzUxIHYgNC4zNzA3NTUgaCA0LjQwNzYxOCBhIDEuMzc0NTA2MywxLjM2MzIwMTggMCAxIDEgMCwyLjcyNTk4OCBoIC00LjQwNzYxOCB2IDQuMzcwNzU0IGEgMS4zNzQ1MDYzLDEuMzYzMjAxOCAwIDEgMSAtMi43NDg3OTksMCB2IC00LjM3MDc1NCBoIC00LjQxNzEwMyBhIDEuMzc0NTA2MywxLjM2MzIwMTggMCAxIDEgMCwtMi43MjU5ODggaCA0LjQxNzEwMyB2IC00LjM3MDc1NSBhIDEuMzc0NTA2MywxLjM2MzIwMTggMCAwIDEgMS4zOTUxMiwtMS4zODIzNTEgeiIvPjxwYXRoIGQ9Im0gMzQuNjY3OTMxLDE4LjAwMDE1MSBhIDEuMzc0NTA2MywxLjM2MzIwMTggMCAwIDEgMS4zNTM2NzksMS4zODIzNTIgdiAxLjc3NTM2MSBoIDEuNzgxMjg3IGEgMS4zNzQ1MDYzLDEuMzYzMjAxOCAwIDEgMSAwLDIuNzI1OTg4IEggMzYuMDIxNjEgdiAxLjc3NTM2MSBhIDEuMzc0NTA2MywxLjM2MzIwMTggMCAxIDEgLTIuNzQ4NTI1LDAgViAyMy44ODM4NTIgSCAzMS40ODI1MiBhIDEuMzc0NTA2MywxLjM2MzIwMTggMCAxIDEgMCwtMi43MjU5ODggaCAxLjc5MDU2NSB2IC0xLjc3NTM2MSBhIDEuMzc0NTA2MywxLjM2MzIwMTggMCAwIDEgMS4zOTQ4NDYsLTEuMzgyMzUyIHoiLz48cGF0aCBkPSJtIDMwLjQ1NDM5MiwzOC4wNzI4MzkgYSAxLjM3NDUwNjMsMS4zNjMyMDE4IDAgMCAxIDEuMzUzNjc5LDEuMzgyMzUxIHYgNC4zNzA3NTUgaCA0LjQwNzYxOSBhIDEuMzc0NTA2MywxLjM2MzIwMTggMCAxIDEgMCwyLjcyNjAwMSBoIC00LjQwNzYxOSB2IDQuMzcwNzU1IGEgMS4zNzQ1MDYzLDEuMzYzMjAxOCAwIDEgMSAtMi43NDg3MzEsMCB2IC00LjM3MDc1NSBoIC00LjQwNzY4NyBhIDEuMzc0NTA2MywxLjM2MzIwMTggMCAxIDEgMCwtMi43MjYwMDEgSCAyOS4wNTkzNCBWIDM5LjQ1NTE5IGEgMS4zNzQ1MDYzLDEuMzYzMjAxOCAwIDAgMSAxLjM5NTA1MiwtMS4zODIzNTEgeiIvPjxwYXRoIGQ9Im0gMjIuNTg0MDU3LDMwLjc0Njg3NCBhIDEuMzc0NTA2MywxLjM2MzIwMTggMCAwIDEgMS4zNTM2OCwxLjM4MjQyIHYgMS43NzUyOTMgaCAxLjc5MDU2NSBhIDEuMzc0NTA2MywxLjM2MzIwMTggMCAxIDEgMCwyLjcyNTk4OCBoIC0xLjc5MDU2NSB2IDEuNzc1MzYxIGEgMS4zNzQ1MDYzLDEuMzYzMjAxOCAwIDEgMSAtMi43NDg3MzEsMCB2IC0xLjc3NTM2MSBoIC0xLjc5MDQ5NyBhIDEuMzc0NTA2MywxLjM2MzIwMTggMCAxIDEgMCwtMi43MjU5ODggaCAxLjc5MDQ5NyB2IC0xLjc3NTI5MyBhIDEuMzc0NTA2MywxLjM2MzIwMTggMCAwIDEgMS4zOTUwNTEsLTEuMzgyNDIgeiIvPjxwYXRoIGQ9Im0gMjcuMDQ3OTYyLDIzLjgwODc0IGEgMS4zNzQ2MDIzLDEuMzYzMTA2NSAwIDAgMSAwLjk1MTU2OCwwLjM5ODg3MiBsIDQ5LjU5Nzk3NCw0OS4xODMyNTYgYSAxLjM3NDYwMjMsMS4zNjMxMDY1IDAgMCAxIDAsMS45Mjc0OTUgbCAtMi4zMDE2NzQsMi4yODI0NzEgYSAxLjM3NDYwMjMsMS4zNjMxMDY1IDAgMCAxIC0xLjk0MzgyMiwwIEwgMjMuNzU0MDM0LDI4LjQxNzY0NSBhIDEuMzc0NjAyMywxLjM2MzEwNjUgMCAwIDEgMCwtMS45Mjc1NjIgbCAyLjMwMTY3NCwtMi4yODI0NzEgYSAxLjM3NDYwMjMsMS4zNjMxMDY1IDAgMCAxIDAuOTkyMjU0LC0wLjM5ODg3MiB6Ii8+PC9nPjwvc3ZnPg==" alt="" style="height: 1.5rem; margin: 0.25em 0;"> Mejora este documento</a></div>
<div id="issuestext"><a href="https://github.com/gbif/doc-openrefine-guide/issues/new"><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NjEiIGhlaWdodD0iNjYxIiB2ZXJzaW9uPSIxLjEiIGlkPSJpc3N1ZS1tYXJrIiBzdHlsZT0iZmlsbC1ydWxlOmV2ZW5vZGQiPjxwYXRoIHN0eWxlPSJmaWxsOiM0ZDlhMzQiIGlkPSJtYXJrIiBkPSJNIDY2MSwzMzAuNSBDIDY2MSwxNDcuOTcyIDUxMy4wMjgsMCAzMzAuNSwwIDE0Ny45NzIsMCAwLDE0Ny45NzIgMCwzMzAuNSAwLDUxMy4wMjggMTQ3Ljk3Miw2NjEgMzMwLjUsNjYxIDUxMy4wMjgsNjYwLjk1NCA2NjEsNTEyLjk4MSA2NjEsMzMwLjUgWiIvPjxwYXRoIHN0eWxlPSJmaWxsOiNmZmZmZmYiIGQ9Im0gMzk0LDE0NSB2IDYwLjk5NyBDIDM5NCwyMjkuMzIxIDQxNS4wNzgsMjM0IDQzNS40ODcsMjM0IEggNDkxIFoiLz48cGF0aCBzdHlsZT0iZmlsbDojZmZmZmZmIiBkPSJNIDQ0OC4xNzcsMzM0LjkzMiBIIDI2My4zMDMgYyAtNi42MDEsMCAtMTEuOTQ3LC01LjM1MyAtMTEuOTQ3LC0xMS45NTEgMCwtNi42MDcgNS4zNDYsLTExLjk0MyAxMS45NDcsLTExLjk0MyBoIDE4NC44NzQgYyA2LjYwMSwwIDExLjk1NSw1LjMzNiAxMS45NTUsMTEuOTQzIDAsNi41ODkgLTUuMzU0LDExLjk1MSAtMTEuOTU1LDExLjk1MSBtIDAsNjYuMTgxIEggMjk3LjgzNiBjIC02LjYsMCAtMTEuOTQ2LC01LjMzNiAtMTEuOTQ2LC0xMS45NDIgMCwtNi41OSA1LjM1NCwtMTEuOTM0IDExLjk0NiwtMTEuOTM0IGggMTUwLjM0MSBjIDYuNjAxLDAgMTEuOTU1LDUuMzQ0IDExLjk1NSwxMS45MzQgMCw2LjYwNiAtNS4zNTQsMTEuOTQyIC0xMS45NTUsMTEuOTQyIG0gMCw2Ni4yMTYgaCAtMTI4LjU1IGMgLTYuNiwwIC0xMS45NDYsLTUuMzUzIC0xMS45NDYsLTExLjk1MSAwLC02LjYwNyA1LjM1NSwtMTEuOTUxIDExLjk0NiwtMTEuOTUxIGggMTI4LjU1IGMgNi42MDEsMCAxMS45NTUsNS4zNDQgMTEuOTU1LDExLjk1MSAwLDYuNTk4IC01LjM1NCwxMS45NTEgLTExLjk1NSwxMS45NTEgTSAyNjAuOTUsMjQ0LjgxNCBoIDY3LjcyNiBjIDYuNTkyLDAgMTEuOTQ3LDUuMzcgMTEuOTQ3LDExLjk2IDAsNi42MDcgLTUuMzU1LDExLjk0MiAtMTEuOTQ3LDExLjk0MiBIIDI2MC45NSBjIC02LjYxLDAgLTExLjk0NywtNS4zMzUgLTExLjk0NywtMTEuOTQyIDAsLTYuNTkgNS4zNDYsLTExLjk2IDExLjk0NywtMTEuOTYgbSAwLC02Ni4xOSBoIDY3LjcyNiBjIDYuNTkyLDAgMTEuOTQ3LDUuMzM2IDExLjk0NywxMS45NDMgMCw2LjU4IC01LjM1NSwxMS45NDIgLTExLjk0NywxMS45NDIgSCAyNjAuOTUgYyAtNi42MSwwIC0xMS45NDcsLTUuMzUzIC0xMS45NDcsLTExLjk0MiAwLC02LjYwNyA1LjM0NiwtMTEuOTQzIDExLjk0NywtMTEuOTQzIG0gMTUwLjQyNyw3NC41MjYgYyAtMTkuMjY1LDAgLTM4LjQ3OCwtMTYuMzUzIC0zOC40NzgsLTQwLjIzOCBWIDEzOSBIIDIyNi42MzIgYyAtMTEuODk1LDAgLTIxLjUzMiw5LjY2IC0yMS41MzIsMjEuNTMzIHYgMTE5LjE4MyBsIDcwLjkwMiwxNDkuODA1IC0xLjY0NCw4NS4zNzkgSCA0NzIuNDYgYyAxMS44OTQsMCAyMS41NCwtOS42MzMgMjEuNTQsLTIxLjUyNCBWIDI1My4xNSBaIE0gMjU4Ljg3Myw1MjIgbCAxLjQ4OCwtODcuNzIzIC03MS4wODMsMzQuMjcxIHogbSAtNjQuNjU1LC0yMjQuNzk4IC03MS4wODMsMzQuMjggNjAuNDE2LDEyNS4yMTkgNzEuMTAxLC0zNC4yODggeiBtIC0yMC45MzUsLTQzLjQwMyBjIC0yLjg2MywtNS45NDEgLTEwLjAxNywtOC40MzIgLTE1Ljk2OSwtNS41NjEgbCAtNDkuNTUyLDIzLjkwMyBjIC01Ljk0MywyLjg3MSAtOC40NDMsMTAuMDIyIC01LjU3MSwxNS45NDYgbCAxMy41OTEsMjguMTc1IDcxLjA5MSwtMzQuMjk3IHoiIC8+PC9zdmc+" alt="" style="height: 1.5rem; margin: 0.25em 0;"> Crear una propuesta</a></div>
<div id="contributetext"><a href="https://github.com/gbif/doc-openrefine-guide"><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICBpZD0iZ2l0aHViLW1hcmsiCiAgIHZlcnNpb249IjEuMSIKICAgdmlld0JveD0iMCAwIDExLjQ5MjkgMTEuMjA5NDY2IgogICBoZWlnaHQ9IjExLjIwOTQ2Nm1tIgogICB3aWR0aD0iMTEuNDkyOW1tIj4KICA8cGF0aAogICAgIGlkPSJtYXJrIgogICAgIHN0eWxlPSJmaWxsOiMxYjE4MTc7c3Ryb2tlOm5vbmUiCiAgICAgZD0iTSA1Ljc0NjA0LDAgQyAyLjU3MjgxMDEsMCAwLDIuNTcyODA4IDAsNS43NDY3NSBjIDAsMi41Mzg5NDA4IDEuNjQ2NDEsNC42OTI2NSAzLjkyOTk0LDUuNDUyODg2IDAuMjg3NTIsMC4wNTI1NiAwLjM5MjI5LC0wLjEyNDg4NCAwLjM5MjI5LC0wLjI3NzI4NCAwLC0wLjEzNjE3MiAtMC4wMDUsLTAuNDk3NzY5IC0wLjAwOCwtMC45NzcxOTQyIC0xLjU5ODQzOTksMC4zNDcxMzMyIC0xLjkzNTY4OTksLTAuNzcwNDY3IC0xLjkzNTY4OTksLTAuNzcwNDY3IC0wLjI2MTQxLC0wLjY2MzU3NSAtMC42MzgxOCwtMC44NDAzMTYgLTAuNjM4MTgsLTAuODQwMzE2IC0wLjUyMTc2MDEsLTAuMzU2NjU5IDAuMDM5NSwtMC4zNDk2MDMgMC4wMzk1LC0wLjM0OTYwMyAwLjU3NjgsMC4wNDA5MiAwLjg4MDE5LDAuNTkyMzE0IDAuODgwMTksMC41OTIzMTQgMC41MTI1OCwwLjg3ODA2NCAxLjM0NTEzOTksMC42MjQ0MTYgMS42NzI1MDk5LDAuNDc3NjYxIDAuMDUyMiwtMC4zNzE0NzUgMC4yMDAzOCwtMC42MjQ3NjkgMC4zNjQ3OCwtMC43NjgzNSBDIDMuNDIxMzQwMSw4LjE0MTQwNDggMi4wNzk3MzAxLDcuNjQ4MjIyIDIuMDc5NzMwMSw1LjQ0NjE4MyBjIDAsLTAuNjI3MjM5IDAuMjI0MDEsLTEuMTQwMTc4IDAuNTkxNiwtMS41NDE5OTEgLTAuMDU5MywtMC4xNDUzNDUgLTAuMjU2NDcsLTAuNzI5NTQ1IDAuMDU2MSwtMS41MjA4MjYgMCwwIDAuNDgyNiwtMC4xNTQ1MTYgMS41ODA0Mzk5LDAuNTg5MTM5IEMgNC43NjYxMywyLjg0NTE1MyA1LjI1NzksMi43ODEzIDUuNzQ2NSwyLjc3OTE4MyA2LjIzNDM5LDIuNzgxMjgzIDYuNzI2MTYsMi44NDUxNTMgNy4xODUxMywyLjk3MjUwNSA4LjI4MjI2LDIuMjI4ODUgOC43NjM4MSwyLjM4MzM2NiA4Ljc2MzgxLDIuMzgzMzY2IGMgMC4zMTM2MSwwLjc5MTI4MSAwLjExNjQxLDEuMzc1NDgxIDAuMDU3MSwxLjUyMDgyNiAwLjM2ODMsMC40MDE4MTMgMC41OTA5LDAuOTE0NzUyIDAuNTkwOSwxLjU0MTk5MSAwLDIuMjA3NjgzIC0xLjM0MzczLDIuNjkzNDU3OCAtMi42MjM5NiwyLjgzNTYyNzggMC4yMDYzNywwLjE3NzQ0NyAwLjM5MDE3LDAuNTI4MTA4IDAuMzkwMTcsMS4wNjQzMyAwLDAuNzY3OTk4MiAtMC4wMDcsMS4zODc4MjgyIC0wLjAwNywxLjU3NjIxMTIgMCwwLjE1MzgxMiAwLjEwMzM2LDAuMzMyNjcgMC4zOTUxMSwwLjI3NjU3OCBDIDkuODQ3OSwxMC40MzcyODMgMTEuNDkyOSw4LjI4NDk4NTggMTEuNDkyOSw1Ljc0Njc1IDExLjQ5MjksMi41NzI4MDggOC45MTk3NCwwIDUuNzQ1OCwwIiAvPgo8L3N2Zz4K" alt="" style="height: 1.5rem; margin: 0.25em 0;"> Editar en GitHub</a></div>
<br><div id="toctitle">Tabla de Contenido</div>
<ul class="sectlevel1">
<li>
<a href="#colof%C3%B3n">Colof√≥n</a>
<ul class="sectlevel2">
<li><a href="#cita-bibliogr%C3%A1fica-sugerida">Cita bibliogr√°fica sugerida</a></li>
<li><a href="#autores">Autores</a></li>
<li><a href="#licencia">Licencia</a></li>
<li><a href="#uri-persistente">URI persistente</a></li>
<li><a href="#control-de-documentos">Control de documentos</a></li>
<li><a href="#imagen-de-la-portada">Imagen de la portada</a></li>
</ul>
</li>
<li>
<a href="#prefacio">Prefacio</a>
<ul class="sectlevel2">
<li><a href="#objetivo">Objetivo</a></li>
<li><a href="#c%C3%B3mo-usar-esta-gu%C3%ADa">C√≥mo usar esta gu√≠a</a></li>
</ul>
</li>
<li>
<a href="#primeros-pasos-datos-y-proyectos">1. Primeros pasos: datos y proyectos</a>
<ul class="sectlevel2">
<li><a href="#carga-de-datos-y-creaci%C3%B3n-de-un-proyecto">1.1. Carga de datos y creaci√≥n de un proyecto</a></li>
<li><a href="#abrir-un-proyecto-y-modificar-sus-metadatos">1.2. Abrir un proyecto y modificar sus metadatos</a></li>
<li><a href="#asignar-suficientes-recursos-al-programa">1.3. Asignar suficientes recursos al programa</a></li>
</ul>
</li>
<li>
<a href="#limpieza-de-datos">2. Limpieza de datos</a>
<ul class="sectlevel2">
<li><a href="#manejo-b%C3%A1sico-de-columnas">2.1. Manejo b√°sico de columnas</a></li>
<li><a href="#uso-de-facetas">2.2. Uso de Facetas</a></li>
<li><a href="#uso-de-filtros">2.3. Uso de Filtros</a></li>
<li><a href="#uso-de-agrupamientos">2.4. Uso de Agrupamientos</a></li>
<li><a href="#sect-2.5">2.5. Deshacer y rehacer cambios</a></li>
<li><a href="#Banderas-y-estrellas">2.6. Marcado de registros: banderas y estrellas</a></li>
</ul>
</li>
<li>
<a href="#guardado-y-exportaci%C3%B3n-de-datos-y-proyectos">3. Guardado y exportaci√≥n de datos y proyectos</a>
<ul class="sectlevel2">
<li><a href="#guardado-de-datos-y-proyectos">3.1. Guardado de datos y proyectos</a></li>
<li><a href="#sect-3.2">3.2. Exportaci√≥n de datos y proyectos</a></li>
</ul>
</li>
<li>
<a href="#sect-4">4. Consultas a servicios externos a trav√©s de URLs</a>
<ul class="sectlevel2">
<li><a href="#resoluci%C3%B3n-de-nombres-cient%C3%ADficos-usando-global-names-resolver">4.1. Resoluci√≥n de nombres cient√≠ficos usando Global Names Resolver</a></li>
<li><a href="#georreferenciaci%C3%B3n-usando-geolocate">4.2. Georreferenciaci√≥n usando GEOLocate</a></li>
<li><a href="#limpieza-de-fechas-utilizando-canadensys-date-parsing">4.3. Limpieza de fechas utilizando Canadensys Date Parsing</a></li>
</ul>
</li>
<li>
<a href="#rutinas-de-validaci%C3%B3n-de-la-calidad-de-los-datos">5. Rutinas de validaci√≥n de la calidad de los datos</a>
<ul class="sectlevel2">
<li><a href="#c%C3%B3mo-funcionan-las-rutinas">5.1. ¬øC√≥mo funcionan las rutinas?</a></li>
<li><a href="#validaci%C3%B3n-taxon%C3%B3mica-con-el-api-de-gbif">5.2. Validaci√≥n taxon√≥mica con el API de GBIF</a></li>
<li><a href="#validaci%C3%B3n-taxon%C3%B3mica-con-species-matching-de-gbif">5.3. Validaci√≥n taxon√≥mica con Species Matching de GBIF</a></li>
<li><a href="#validaci%C3%B3n-taxon%C3%B3mica-con-el-api-de-worms">5.4. Validaci√≥n taxon√≥mica con el API de WoRMS</a></li>
<li><a href="#validaci%C3%B3n-de-elevaciones-con-el-api-de-geonames">5.5. Validaci√≥n de elevaciones con el API de GeoNames.</a></li>
<li><a href="#transformaci%C3%B3n-de-fechas-con-el-api-de-canadensys">5.6. Transformaci√≥n de fechas con el API de Canadensys</a></li>
</ul>
</li>
<li>
<a href="#ep%C3%ADlogo">Ep√≠logo</a>
<ul class="sectlevel2">
<li><a href="#agradecimientos">Agradecimientos</a></li>
</ul>
</li>
<li>
<a href="#app-a">Ap√©ndice 1: instalaci√≥n de OpenRefine</a>
<ul class="sectlevel2">
<li><a href="#requerimientos">Requerimientos</a></li>
<li><a href="#instalaci%C3%B3n-en-ms-windows">Instalaci√≥n en MS Windows</a></li>
<li><a href="#instalaci%C3%B3n-en-mac">Instalaci√≥n en Mac</a></li>
<li><a href="#para-saber-m%C3%A1s">Para saber m√°s</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p></p>
<p class="translationLinks"><em>Este documento tambi√©n est√° disponible en <a hreflang="es" type="application/pdf" href="guia-para-la-limpieza-de-datos-sobre-biodiversidad-con-openrefine.es.pdf">formato PDF</a>.</em></p>
</div>
<div class="imageblock">
<div class="content">
<img src="../img/web/photo.jpg" alt="photo">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="colof√≥n">
<a class="anchor" href="#colof%C3%B3n"></a>Colof√≥n</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="cita-bibliogr√°fica-sugerida">
<a class="anchor" href="#cita-bibliogr%C3%A1fica-sugerida"></a>Cita bibliogr√°fica sugerida</h3>
<div class="paragraph">
<p>Zermoglio PF, Plata Corredor CA, Wieczorek JR, Ortiz Gallego R &amp; Buitrago L (2021) Gu√≠a para la limpieza de datos sobre biodiversidad con OpenRefine. Versi√≥n 3. Copenhagen: GBIF Secretariat. <a href="https://doi.org/10.15468/doc-gzjg-af18" class="bare">https://doi.org/10.15468/doc-gzjg-af18</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="autores">
<a class="anchor" href="#autores"></a>Autores</h3>
<div class="paragraph">
<p><a href="https://orcid.org/0000-0002-6056-5084">Paula F. Zermoglio</a>, <a href="https://orcid.org/0000-0002-1632-9818">Camila A. Plata Corredor</a>, <a href="https://orcid.org/0000-0003-1144-0290">John R. Wieczorek</a>, <a href="https://orcid.org/0000-0003-1070-1081">Ricardo Ortiz Gallego</a> &amp; <a href="https://orcid.org/0000-0002-0459-4024">Leonardo Buitrago</a></p>
</div>
</div>
<div class="sect2">
<h3 id="licencia">
<a class="anchor" href="#licencia"></a>Licencia</h3>
<div class="paragraph">
<p>El documento Gu√≠a para la limpieza de datos sobre biodiversidad con OpenRefine se publica bajo una licencia <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.es">Atribuci√≥n-CompartirIgual 4.0 Internacional</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="uri-persistente">
<a class="anchor" href="#uri-persistente"></a>URI persistente</h3>
<div class="paragraph">
<p><a href="https://doi.org/10.15468/doc-gzjg-af18" class="bare">https://doi.org/10.15468/doc-gzjg-af18</a></p>
</div>
</div>
<div class="sect2">
<h3 id="control-de-documentos">
<a class="anchor" href="#control-de-documentos"></a>Control de documentos</h3>
<div class="paragraph">
<p>Versi√≥n 3, Febrero 2021.</p>
</div>
<div class="paragraph">
<p>Este documento se basa en dos publicaciones anteriores producidas por los mismos autores de esta Gu√≠a.</p>
</div>
</div>
<div class="sect2">
<h3 id="imagen-de-la-portada">
<a class="anchor" href="#imagen-de-la-portada"></a>Imagen de la portada</h3>
<div class="paragraph">
<p>Una manada de guanaco (<em>Lama guanicoe</em>), Lago Argentino, Santa Cruz, Argentina. Foto 2016 Diego Car√∫s via <a href="https://www.gbif.org/occurrence/2005372769">iNaturalist Research-grade Observations</a>, licenciada bajo <a href="http://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC 4.0</a>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="prefacio">
<a class="anchor" href="#prefacio"></a>Prefacio</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="objetivo">
<a class="anchor" href="#objetivo"></a>Objetivo</h3>
<div class="paragraph">
<p>La presente gu√≠a ha sido construida con fines √∫nicamente pedag√≥gicos. El objetivo de esta gu√≠a es mostrar c√≥mo utilizar algunas de las funciones de OpenRefine que pueden utilizarse para evaluar y mejorar la calidad de datos de biodiversidad.</p>
</div>
</div>
<div class="sect2">
<h3 id="c√≥mo-usar-esta-gu√≠a">
<a class="anchor" href="#c%C3%B3mo-usar-esta-gu%C3%ADa"></a>C√≥mo usar esta gu√≠a</h3>
<div class="paragraph">
<p>En esta gu√≠a se muestra c√≥mo utilizar algunas funciones de OpenRefine para la evaluaci√≥n y mejoramiento de la calidad de un conjunto de datos de biodiversidad. Los ejemplos de uso presentados en esta gu√≠a constituyen s√≥lo algunas de las alternativas posibles para el tratamiento de datos en OpenRefine.</p>
</div>
<div class="paragraph">
<p>Para hacer un mejor uso de esta gu√≠a, se recomienda seguir los pasos utilizando el programa OpenRefine y el conjunto de datos modelo provisto junto con este documento. Todos los ejemplos presentados corresponden a un conjunto de datos de biodiversidad que ha sido espec√≠ficamente modificado por los autores.</p>
</div>
<div class="paragraph">
<p>En la Gu√≠a se utilizan los t√©rminos ‚Äòcampo‚Äô y ‚Äòcolumna‚Äô indistintamente.</p>
</div>
<div class="paragraph">
<p>En el texto se utiliza el siguiente formato para los <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">nombres de los campos originales</span><span class="delimiter">"</span></span></code></span>.</p>
</div>
<div class="sect3">
<h4 id="software">
<a class="anchor" href="#software"></a>Software</h4>
<div class="paragraph">
<p>La versi√≥n de OpenRefine utilizada para la confecci√≥n de esta gu√≠a es OpenRefine 3.3. Aunque no es la √∫ltima versi√≥n disponible, es la √∫ltima con la cual todos los pasos explicados en esta Gu√≠a han sido probados sin presentar problemas.</p>
</div>
<div class="paragraph">
<p>Para ver detalles sobre c√≥mo descargar e instalar OpenRefine en su computadora, ver el <a href="#app-a">Ap√©ndice 1</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="datos">
<a class="anchor" href="#datos"></a>Datos</h4>
<div class="paragraph">
<p>El conjunto de datos modelo utilizado en esta gu√≠a puede obtenerse aqu√≠: <a href="../data/EjercicioModelo_OpenRefine_Datos.csv">EjercicioModelo_OpenRefine_Datos.csv</a>. Descargar el archivo, y no manipularlo en otros programas (e.g., MS Excel) antes de abrirlo en OpenRefine, dado que ello puede cambiar los formatos y/o codificaci√≥n del archivo.</p>
</div>
<div class="paragraph">
<p>El conjunto de datos modelo fue derivado a partir de:</p>
</div>
<div class="paragraph">
<p><em>Williams J (2018). Colecci√≥n de Herbario. Version 3.1. Facultad de Ciencias Naturales y Museo - U.N.L.P.. Occurrence dataset <a href="https://doi.org/10.15468/i9bj5r" class="bare">https://doi.org/10.15468/i9bj5r</a> accessed via GBIF.org on 2019-04-18.</em></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="primeros-pasos-datos-y-proyectos">
<a class="anchor" href="#primeros-pasos-datos-y-proyectos"></a>1. Primeros pasos: datos y proyectos</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="carga-de-datos-y-creaci√≥n-de-un-proyecto">
<a class="anchor" href="#carga-de-datos-y-creaci%C3%B3n-de-un-proyecto"></a>1.1. Carga de datos y creaci√≥n de un proyecto</h3>
<div class="paragraph">
<p>Para comenzar a utilizar OpenRefine debe cargar sus datos en el programa y crear un proyecto. Para ello, siga los siguientes pasos:</p>
</div>
<div class="sidebarblock">
<div class="content">
<h3 id="paso-1" class="discrete">Paso 1</h3>
<div class="paragraph">
<p><strong>Abra la aplicaci√≥n OpenRefine</strong>. Si utiliza Windows, se abrir√° una ventana de comandos que mostrar√° las acciones que OpenRefine est√° realizando (<a href="#img-fig-01">Figura 1</a>). <strong><em>No cierre esta ventana mientras est√© trabajando con el programa.</em></strong></p>
</div>
<div id="img-fig-01" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-01.jpg" alt="es.figure 01">
</div>
<div class="title">Figura 1</div>
</div>
<div class="paragraph">
<p>OpenRefine se abrir√° en el navegador que usted utilice por defecto inmediatamente despu√©s de ejecutar la aplicaci√≥n (<a href="#img-fig-02">Figura 2</a>). Si OpenRefine no abre, puede acceder manualmente ingresando la siguiente URL en su navegador:</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="http://127.0.0.1:3333" class="bare">http://127.0.0.1:3333</a></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Si bien puede ejecutar el programa utilizando cualquier navegador, nuestra recomendaci√≥n es que utilice Google Chrome, pues otros navegadores suelen presentar diversos problemas, sobre todo cuando se intentan utilizar funciones m√°s complejas.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Nota"></i>
</td>
<td class="content">
Si bien OpenRefine utiliza la interfaz de un navegador para trabajar, todos los procesos (e.g., creaci√≥n de proyectos, carga de datos, procesamiento, etc.) se realizan localmente, es decir, en su computadora, sin subir datos en l√≠nea. Por tanto, para utilizar la mayor√≠a de las funciones del programa no hace falta una conexi√≥n a Internet. Algunas funciones, sin embargo, como las <a href="#sect-4">Consultas a servicios externos</a>, s√≠ requieren conexi√≥n.
</td>
</tr>
</table>
</div>
<div id="img-fig-02" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-02.jpg" alt="Figura 2" width="1061">
</div>
<div class="title">Figura 2</div>
</div>
<div class="paragraph">
<p>En el men√∫ de la izquierda tiene opciones para crear, abrir o importar proyectos. Si usted no tiene ning√∫n proyecto a√∫n, en la opci√≥n de ‚ÄúAbrir proyecto‚Äù ver√° una lista vac√≠a.</p>
</div>
<div class="paragraph">
<p>Adem√°s puede cambiar la configuraci√≥n de idioma. Para ello, haga click en ‚ÄúIdioma‚Äù y en la siguiente pantalla (<a href="#img-fig-03">Figura 3</a>) seleccione el idioma preferido. Acepte los cambios. En esta gu√≠a se utilizar√° el idioma Espa√±ol.</p>
</div>
<div id="img-fig-03" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-03.jpg" alt="Figura 3" width="805">
</div>
<div class="title">Figura 3</div>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<h3 id="paso-2" class="discrete">Paso 2</h3>
<div class="paragraph">
<p><strong>Cargue los datos</strong> (<a href="#img-fig-02">Figura 2</a>). Dentro de la opci√≥n ‚ÄúCrear proyecto‚Äù, escoja el archivo que desea cargar. Note que hay varios formatos posibles de archivos que se pueden subir (tsv, csv, xls, json, etc). Haga click en ‚ÄúSiguiente‚Äù.</p>
</div>
<div class="paragraph">
<p>Para seguir esta gu√≠a, cargue el archivo proporcionado, al que puede acceder a trav√©s del enlace provisto en la secci√≥n <a href="#datos">C√≥mo usar esta gu√≠a: Datos</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Nota"></i>
</td>
<td class="content">
Si sube archivos con formato .xls o .xlsx, tenga en cuenta que no podr√° modificar la codificaci√≥n, y que pueden encontrarse algunos errores en los datos (ejemplo: los tildes en las palabras se ver√°n como s√≠mbolos raros cuando cargue los datos). Para evitarse problemas, si trabaja con MS Excel es conveniente que exporte los datos como archivo .csv (de todas formas, tenga cuidado con la codificaci√≥n, ver m√°s abajo).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Ver√° entonces una pantalla como la que se muestra en la <a href="#img-fig-04">Figura 4</a>. All√≠ puede encontrar dos cuadros de texto arriba a la derecha, uno para indicar el nombre de su proyecto, y otro que permite asignar etiquetas (‚Äútags‚Äù) a su proyecto. Puede asignar tantas etiquetas como desee, escribi√©ndolas en el cuadro. Las etiquetas le ayudar√°n a organizar mejor sus proyectos, y podr√° verlas y editarlas a trav√©s del men√∫ ‚ÄúAbrir proyecto‚Äù junto al nombre de su proyecto (ver secci√≥n ‚ÄúAbrir un proyecto y modificar sus metadatos‚Äù m√°s abajo para m√°s detalles sobre c√≥mo agregar o cambiar etiquetas y otros elementos de los metadatos de los proyectos). Adem√°s, en esta pantalla puede ver una muestra de sus datos (tabla) y modificar varios aspectos de la carga de los datos al programa: codificaci√≥n, criterio para la separaci√≥n en columnas, inclusi√≥n o no de las primeras filas, etc.</p>
</div>
<div class="paragraph">
<p>OpenRefine sugiere algunas de las codificaciones m√°s utilizadas cuando se hace click en el cuadro de texto ‚ÄúCodificaci√≥n de caracteres‚Äù. Aseg√∫rese de escoger correctamente la codificaci√≥n. Si est√° utilizando el conjunto de datos de prueba proporcionado, escoja UTF-8 (<a href="#img-fig-05">Figura 5</a>).</p>
</div>
<div class="paragraph">
<p>OpenRefine presenta la opci√≥n de ‚ÄúDetectar y transformar texto en n√∫meros, fechas, ‚Ä¶‚Äù. Si esta opci√≥n es seleccionada, el programa tratar√° de interpretar ciertos campos transform√°ndolos a determinados formatos. Por ejemplo, si detecta campos de fecha, tratar√° de colocar los valores de las celdas de ese campo en formato de fecha est√°ndar. Dada la naturaleza de los datos sobre biodiversidad con los que solemos trabajar, estas interpretaciones pueden ser incorrectas e introducir m√°s errores. Aseg√∫rese entonces de desmarcar esta opci√≥n durante el paso de importaci√≥n de datos.</p>
</div>
<div id="img-fig-04" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-04.jpg" alt="Figura 4" width="1066">
</div>
<div class="title">Figura 4</div>
</div>
<div id="img-fig-05" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-05.jpg" alt="Figura 5" width="471">
</div>
<div class="title">Figura 5</div>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<h3 id="paso-3" class="discrete">Paso 3</h3>
<div class="paragraph">
<p><strong>Cree el proyecto</strong>. Una vez que haya seleccionado las opciones de carga de datos, haga click en el bot√≥n ‚ÄúCrear Proyecto‚Äù arriba a la derecha.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Nota"></i>
</td>
<td class="content">
Cuando se cargan datos en OpenRefine y se crea un proyecto, el programa hace una copia de los datos provistos. De esta forma, el archivo local original nunca se modifica, garantizando no perder los datos originales.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<h3 id="paso-4" class="discrete">Paso 4</h3>
<div class="paragraph">
<p><strong>¬°Felicitaciones!</strong> Ya tiene un proyecto (lo ver√° como en la <a href="#img-fig-06">Figura 6</a>).</p>
</div>
<div id="img-fig-06" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-06.jpg" alt="Figura 6" width="1061">
</div>
<div class="title">Figura 6</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Nota"></i>
</td>
<td class="content">
El n√∫mero total de filas cargadas se muestra en este momento arriba de la tabla en negrita (para el caso del conjunto de datos provisto, 24984 filas). Sin embargo, ver√° que el n√∫mero de filas mostradas en la tabla es limitado. No desespere, OpenRefine s√≥lo muestra hasta 50 filas. Las acciones que uno pueda tomar en la aplicaci√≥n, sin embargo, pueden tener efecto sobre otras filas aunque √©stas no sean mostradas.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="abrir-un-proyecto-y-modificar-sus-metadatos">
<a class="anchor" href="#abrir-un-proyecto-y-modificar-sus-metadatos"></a>1.2. Abrir un proyecto y modificar sus metadatos</h3>
<div class="paragraph">
<p>Una vez que ha creado uno o m√°s proyectos, podr√° acceder a ellos a trav√©s del men√∫ ‚ÄúAbrir proyecto‚Äù (<a href="#img-fig-03">Figura 3</a>. Cuando ingresa a este men√∫, ver√° listados todos sus proyectos, con una serie de metadatos b√°sicos que puede utilizar para ordenar su lista (<a href="#img-fig-07">Figura 7a</a>). Los metadatos mostrados incluyen el nombre del proyecto, la fecha de √∫ltima modificaci√≥n, las etiquetas asignadas (‚Äútags‚Äù), el n√∫mero de filas, etc.</p>
</div>
<div id="img-fig-07" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-07.jpg" alt="Figura 7" width="1071">
</div>
<div class="title">Figura 7</div>
</div>
<div class="paragraph">
<p>Si desea editar los metadatos, debe ingresar a la opci√≥n ‚ÄúAcerca de‚Äù, a la izquierda en la tabla de proyectos (<a href="#img-fig-07">Figura 7a</a>). Se abrir√° entonces una ventana como la mostrada en la <a href="#img-fig-07">Figura 7b</a>. Si desea modificar los distintos elementos de los metadatos, puede utilizar el bot√≥n ‚ÄúEditar‚Äù sobre cada par√°metro. Por ejemplo, si olvid√≥ colocar una etiqueta al crear un proyecto, puede hacerlo m√°s tarde desde este men√∫. Contar con buenos metadatos puede ayudarle a organizar sus proyectos, sobre todo lleva a cabo trabajo colaborativo.</p>
</div>
</div>
<div class="sect2">
<h3 id="asignar-suficientes-recursos-al-programa">
<a class="anchor" href="#asignar-suficientes-recursos-al-programa"></a>1.3. Asignar suficientes recursos al programa</h3>
<div class="paragraph">
<p>Para que OpenRefine pueda funcionar correctamente se requiere contar con suficiente memoria en la computadora asignada al programa. Especialmente si se trabajar√° con conjuntos de datos grandes, la memoria asignada afectar√° la velocidad de procesamiento e incluso podr√≠a limitar la capacidad para aplicar ciertas funciones.</p>
</div>
<div class="paragraph">
<p>Por defecto, el programa utiliza 1 gigabyte (GB, o 1024MB) de memoria, pero la cantidad de memoria asignada puede modificarse para optimizar el desempe√±o. Para conocer los detalles sobre c√≥mo modificar la memoria asignada en distintos sistemas operativos, vea la documentaci√≥n provista en el <a href="https://docs.openrefine.org/">Manual del Usuario de OpenRefine</a>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="limpieza-de-datos">
<a class="anchor" href="#limpieza-de-datos"></a>2. Limpieza de datos</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="manejo-b√°sico-de-columnas">
<a class="anchor" href="#manejo-b%C3%A1sico-de-columnas"></a>2.1. Manejo b√°sico de columnas</h3>
<div class="sect3">
<h4 id="renombrar-eliminar-y-mover-columnas">
<a class="anchor" href="#renombrar-eliminar-y-mover-columnas"></a>2.1.1. Renombrar, eliminar y mover columnas</h4>
<div class="paragraph">
<p>Veamos primero algunas funciones b√°sicas que se pueden aplicar sobre los campos:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Renombrar un campo.</strong></p>
<div class="paragraph">
<p>Hacer click en <span class="menuseq"><b class="menu">la ‚ñº azul del campo</b>¬†<i class="fa fa-angle-right caret"></i> <b class="submenu">Editar columnas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Renombrar esta columna</b></span></p>
</div>
</li>
<li>
<p><strong>Eliminar un campo.</strong></p>
<div class="paragraph">
<p>Hacer click en <span class="menuseq"><b class="menu">la ‚ñº azul del campo</b>¬†<i class="fa fa-angle-right caret"></i> <b class="submenu">Editar columnas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Eliminar esta columna</b></span></p>
</div>
</li>
<li>
<p><strong>Mover un campo.</strong></p>
<div class="paragraph">
<p>Hacer click en</p>
</div>
<div class="paragraph">
<p>‚Ä¶ <span class="menuseq"><b class="menu">la ‚ñº azul del campo</b>¬†<i class="fa fa-angle-right caret"></i> <b class="submenu">Editar columnas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Mover columna al principio</b></span></p>
</div>
<div class="paragraph">
<p>‚Ä¶ <span class="menuseq"><b class="menu">la ‚ñº azul del campo</b>¬†<i class="fa fa-angle-right caret"></i> <b class="submenu">Editar columnas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Mover columna al final</b></span></p>
</div>
<div class="paragraph">
<p>‚Ä¶ <span class="menuseq"><b class="menu">la ‚ñº azul del campo</b>¬†<i class="fa fa-angle-right caret"></i> <b class="submenu">Editar columnas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Mover columna a la izquierda</b></span></p>
</div>
<div class="paragraph">
<p>‚Ä¶ <span class="menuseq"><b class="menu">la ‚ñº azul del campo</b>¬†<i class="fa fa-angle-right caret"></i> <b class="submenu">Editar columnas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Mover columna a la derecha</b></span></p>
</div>
<div class="paragraph">
<p>Estas tres opciones pueden verse en la <a href="#img-fig-08">Figura 8</a>.</p>
</div>
<div id="img-fig-08" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-08.jpg" alt="Figura 8" width="375">
</div>
<div class="title">Figura 8</div>
</div>
</li>
<li>
<p><strong>Reordenar o eliminar varios campos a la vez.</strong></p>
<div class="paragraph">
<p>Para esta funci√≥n se utiliza el campo ‚ÄúTodo‚Äù, que se encuentra como primera columna de la tabla. Este campo no forma parte de los datos originales, es agregado por el programa para permitir llevar a cabo ciertas funciones.</p>
</div>
<div class="paragraph">
<p>Hacer click en <span class="menuseq"><b class="menu">la ‚ñº azul en el campo ‚ÄúTodo‚Äù</b>¬†<i class="fa fa-angle-right caret"></i> <b class="submenu">Editar columnas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Ordenar / Eliminar columnas‚Ä¶</b></span> (<a href="#img-fig-09">Figura 9a</a>).</p>
</div>
<div class="paragraph">
<p>Se abrir√° entonces una ventana como la que se muestra en la <a href="#img-fig-09">Figura 9b</a>. All√≠ puede ordenar los campos simplemente arrastr√°ndolos arriba o abajo en la lista, y eliminarlos arrastr√°ndolos hacia la parte derecha de la ventana. Una vez que termine de modificar el orden de los campos, haga click en ‚ÄúAceptar‚Äù.</p>
</div>
<div id="img-fig-09" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-09.jpg" alt="Figura 9" width="911">
</div>
<div class="title">Figura 9</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>En OpenRefine se considera que cualquiera de los cuatro cambios descriptos anteriormente son cambios a los datos, y por ende se registran como tales en el historial de cambios (ver m√°s abajo secci√≥n <a href="#sect-2.5">Deshacer y rehacer cambios</a>).</p>
</div>
</div>
<div class="sect3">
<h4 id="nuevas-columnas-vac√≠as">
<a class="anchor" href="#nuevas-columnas-vac%C3%ADas"></a>2.1.2. Nuevas columnas vac√≠as</h4>
<div class="paragraph">
<p>Se pueden crear nuevos campos en base a cero, uno o m√°s campos preexistentes.</p>
</div>
<div class="paragraph">
<p>Para crear un nuevo campo de cero, sobre cualquier columna preexistente siga la ruta:</p>
</div>
<div class="paragraph">
<p><span class="menuseq"><b class="menu">Editar columnas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Agregar columna basada en esta columna‚Ä¶</b></span></p>
</div>
<div class="paragraph">
<p>Se abrir√° una ventana como la que se muestra en la <a href="#img-fig-10">Figura 10</a>.</p>
</div>
<div class="paragraph">
<p>Arriba de todo, coloque el nombre del nuevo campo.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Importante"></i>
</td>
<td class="content">
Debe tener extremo cuidado al escoger los nombres que dar√° a las nuevas columnas. Considere que el nombre sea indicativo de lo que contiene (e.g., no utilice nombres tales como ‚ÄúColumna 1‚Äù o ‚ÄúTransformaci√≥n 3‚Äù). OpenRefine no le dejar√° utilizar nombres que ya hayan sido utilizados para nombrar otros campos dentro del proyecto. Considere qu√© otros campos tiene en su base de datos original y no utilice nombres que ya hayan sido utilizados, se evitar√° as√≠ importar datos a columnas equivocadas al volver a su base de datos.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Luego, en el cuadro de texto ‚ÄúExpresi√≥n‚Äù escriba: <span class="CodeRay highlight"><code data-lang="javascript"><span class="predefined-constant">null</span></code></span>. Ello quiere decir que se crear√° un campo con valores nulos. Luego oprima ‚ÄúAceptar‚Äù. Alternativamente, en vez de <span class="CodeRay highlight"><code data-lang="javascript"><span class="predefined-constant">null</span></code></span> puede colocar la expresi√≥n: <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="delimiter">"</span></span></code></span>, y el nuevo campo tendr√° valores en blanco.</p>
</div>
<div id="img-fig-10" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-10.jpg" alt="Figura 10" width="548">
</div>
<div class="title">Figura 10</div>
</div>
<div class="paragraph">
<p>El nuevo campo, con el nombre que le haya dado, aparecer√° a la derecha de aquel a partir del cual fue generado.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Importante"></i>
</td>
<td class="content">
Tenga en cuenta que las columnas nuevas que cree en la aplicaci√≥n no estar√°n en su base de datos original. Al importar los datos que han sido limpiados de regreso a su base de datos, dependiendo de c√≥mo est√© estructurada esa base de datos, es posible que estas nuevas columnas no sean importadas o que reciba un mensaje de error de importaci√≥n porque el n√∫mero de campos del archivo no coincide con el de la base de datos. En estos casos, debe asegurarse de agregar previamente los nuevos campos en su base de datos si desea importar todos los campos nuevos.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="nuevas-columnas-a-partir-transformaciones-simples-de-otras-columnas">
<a class="anchor" href="#nuevas-columnas-a-partir-transformaciones-simples-de-otras-columnas"></a>2.1.3. Nuevas columnas a partir transformaciones simples de otras columnas</h4>
<div class="paragraph">
<p>Muchas veces no queremos modificar los datos directamente en los campos (columnas) en que se presentan, dado que queremos mantener los valores originales y/o queremos proveer informaci√≥n adicional basada en ciertos campos. Por ejemplo, podr√≠amos tener como campos individuales el g√©nero y el ep√≠teto espec√≠fico y queremos agregar el campo nombre cient√≠fico como concatenaci√≥n de los dos; o viceversa: tenemos un √∫nico campo nombre cient√≠fico y queremos mantener ese campo y proveer otros dos campos adicionales para g√©nero y ep√≠teto, a partir de la divisi√≥n del anterior. Para estos casos es √∫til crear nuevos campos en nuevas columnas.</p>
</div>
<div class="paragraph">
<p>Veamos ahora c√≥mo crear nuevas columnas con datos modificados a partir de columnas preexistentes.</p>
</div>
<div class="sect4">
<h5 id="concatenaciones">
<a class="anchor" href="#concatenaciones"></a>Concatenaciones</h5>
<div class="paragraph">
<p>Si desea crear un campo que sea la concatenaci√≥n de otros dos campos separados puede seguir dos rutas, que se describen a continuaci√≥n, de acuerdo a la versi√≥n del programa que utilice. La primera ruta utiliza la funci√≥n ‚ÄúUnir columnas‚Äù (o ‚ÄúJoin columns‚Äù, como figura en el programa), y est√° disponible en la versi√≥n 3.3 y posteriores de OpenRefine. Las versiones anteriores del programa no tienen esta funci√≥n, pero el mismo resultado puede obtenerse siguiendo la segunda ruta descripta abajo utilizando cualquier versi√≥n del programa. Para ambas rutas utilizaremos como ejemplo la concatenaci√≥n de los campos <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">genus</span><span class="delimiter">"</span></span></code></span> y <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">specificEpithet</span><span class="delimiter">"</span></span></code></span>.</p>
</div>
<div class="paragraph">
<p><strong>Ruta 1: Funci√≥n ‚ÄúUnir columnas‚Äù</strong></p>
</div>
<div class="paragraph">
<p>Click en <span class="menuseq"><b class="menu">la ‚ñº azul del campo <code class="language-javascript" data-lang="javascript">"genus"</code></b>¬†<i class="fa fa-angle-right caret"></i> <b class="submenu">Editar columnas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Join columns‚Ä¶</b></span>
(Notar que el nombre de la funci√≥n y los men√∫es que se despliegan est√°n en ingl√©s en esta versi√≥n del programa).</p>
</div>
<div class="paragraph">
<p>Se abrir√° una nueva ventana (<a href="#img-fig-11">Figura 11</a>), donde puede seleccionar todas las columnas que desea unir.</p>
</div>
<div class="paragraph">
<p>El primer recuadro a la derecha le permite seleccionar qu√© separador utilizar entre los contenido de cada columna. Por ejemplo, puede utilizar un espacio " ".
Luego debe especificar qu√© hacer con los registros donde alguno de los campos a unir tiene valores nulos (por ejemplo, <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">genus</span><span class="delimiter">"</span></span></code></span> tiene un valor pero <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">specificEpithet</span><span class="delimiter">"</span></span></code></span> es nulo, o viceversa). Si elige la opci√≥n "Replace nulls with‚Ä¶‚Äã" ("Reemplazar nulos con‚Ä¶"), puede especificar con qu√© reemplazar esos valores nulos (por ejemplo, alg√∫n caracter), o dejar ese recuadro vac√≠o. Si, en cambio, escoge "Skip nulls" ("Saltear nulos"), para todos aquellos registros que tuvieran uno de los dos campos nulos no se llevar√° a cabo la uni√≥n.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Importante"></i>
</td>
<td class="content">
Nota: Al escoger reemplazar los valores nulos y dejar el cuadro vac√≠o (es decir, reemplazar por un caracter nulo), a√∫n se har√° la uni√≥n utilizando el separador indicado. Si el primer campo a unir tiene un valor no nulo y el segundo un valor nulo, el resultado ser√° el valor del primer campo m√°s el separador. Si el primer campo a unir tiene un valor nulo y el segundo un valor no nulo, el resultado ser√° s√≥lo el valor del segundo campo (sin separador). Para un ejemplo pr√°ctico, ver <a href="#table-join">Tabla 1</a> m√°s abajo.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Luego debe indicar si quiere los resultados sobre la misma columna sobre la que est√° actuando o en una columna nueva, y en ese caso, proveer un nombre para el nuevo campo. Puede llamar al nuevo campo "joint_scientificName", para indicar que se trata de la uni√≥n (note que ya hay un campo <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">scientificName</span><span class="delimiter">"</span></span></code></span> en los datos). Siempre es recomendable crear un nuevo campo, y en todo caso eliminar los campos innecesarios luego.</p>
</div>
<div class="paragraph">
<p>Por √∫ltimo, tiene la opci√≥n de eliminar las columnas que dieron origen a la uni√≥n ("Delete joined columns", "Eliminar columnas unidas"). Si desea conservarlas, como en este caso, aseg√∫rese de que esa opci√≥n est√° desmarcada.</p>
</div>
<div id="img-fig-11" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-11.jpg" alt="Figura 11" width="689">
</div>
<div class="title">Figura 11</div>
</div>
<div class="paragraph">
<p>Los resultados esperados de acuerdo a distintos par√°metros escogidos se resumen en la siguiente tabla (<a href="#table-join">Tabla 1</a>):</p>
</div>
<div id="table-join" class="paragraph">
<p>Tabla 1. Ejemplos de uni√≥n de dos columnas (‚Äúgenus‚Äù y ‚ÄúspecificEpithet‚Äù) en otra (‚Äújoint_scientificName), utilizando distintos separadores y tratamientos de nulos.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Separador</th>
<th class="tableblock halign-left valign-top">Tratamiento de nulos</th>
<th class="tableblock halign-left valign-top">genus</th>
<th class="tableblock halign-left valign-top">specificEpithet</th>
<th class="tableblock halign-left valign-top">joint_scientificName</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="12"><p class="tableblock">" "
(un espacio)</p></td>
<td class="tableblock halign-left valign-middle" rowspan="4">
<p class="tableblock">Reemplazar nulos con: ""</p>
<p class="tableblock">(sin especificar)</p>
</td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filago</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lasiocarpa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filago lasiocarpa</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filago</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
<td class="tableblock halign-left valign-top">
<p class="tableblock">Filago</p>
<p class="tableblock"><em>(con un espacio extra despu√©s del g√©nero)</em></p>
</td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lasiocarpa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lasiocarpa</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="4"><p class="tableblock">Reemplazar nulos con: "@"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filago</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lasiocarpa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filago lasiocarpa</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filago</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filago @</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lasiocarpa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">@ lasiocarpa</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">@ @</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="4"><p class="tableblock">Saltear nulos</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filago</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lasiocarpa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filago lasiocarpa</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filago</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lasiocarpa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="12">
<p class="tableblock">", "</p>
<p class="tableblock">(coma y espacio)</p>
</td>
<td class="tableblock halign-left valign-middle" rowspan="4">
<p class="tableblock">Reemplazar nulos con: ""</p>
<p class="tableblock">(sin especificar)</p>
</td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filago</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lasiocarpa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filago, lasiocarpa</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filago</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
<td class="tableblock halign-left valign-top">
<p class="tableblock">Filago,</p>
<p class="tableblock"><em>(con un espacio extra despu√©s de la coma)</em></p>
</td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lasiocarpa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lasiocarpa</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="4"><p class="tableblock">Reemplazar nulos con: "@"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filago</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lasiocarpa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filago, lasiocarpa</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filago</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filago, @</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lasiocarpa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">@, lasiocarpa</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">@, @</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="4"><p class="tableblock">Saltear nulos</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filago</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lasiocarpa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filago, lasiocarpa</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filago</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lasiocarpa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Si optamos por una opci√≥n que contiene en los resultados espacios en blanco no deseados, podemos aplicar luego una transformaci√≥n en las celdas de la columna resultado del tipo "Quitar espacios al inicio y al final" (ver <a href="#Facetas-y-espacios-en-blanco">secci√≥n 2.2.2</a>).</p>
</div>
<div class="paragraph">
<p><strong>Ruta 2: Concatenaci√≥n mediante expresiones regulares</strong></p>
</div>
<div class="paragraph">
<p>Click en <span class="menuseq"><b class="menu">la ‚ñº azul del campo <code class="language-javascript" data-lang="javascript">"genus"</code></b>¬†<i class="fa fa-angle-right caret"></i> <b class="submenu">Editar columnas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Agregar columna basada en esta columna‚Ä¶</b></span></p>
</div>
<div class="paragraph">
<p>Se abrir√° una nueva ventana (<a href="#img-fig-12">Figura 12</a>). Puede llamar al nuevo campo ‚Äúconcat_scientificName‚Äù, para indicar que se trata de la concatenaci√≥n (note que ya hay un campo <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">scientificName</span><span class="delimiter">"</span></span></code></span> en los datos).</p>
</div>
<div class="paragraph">
<p>En el cuadro de texto, pegue la siguiente expresi√≥n:</p>
</div>
<div class="paragraph">
<p>Expresi√≥n ejemplo:	<span class="CodeRay highlight"><code data-lang="javascript">cells[<span class="string"><span class="delimiter">"</span><span class="content">genus</span><span class="delimiter">"</span></span>].value + <span class="string"><span class="delimiter">"</span><span class="content"> </span><span class="delimiter">"</span></span> + cells[<span class="string"><span class="delimiter">"</span><span class="content">specificEpithet</span><span class="delimiter">"</span></span>].value</code></span> <em>(Expresi√≥n 1)</em><br>
Expresi√≥n general:	<span class="CodeRay highlight"><code data-lang="javascript">cells[<span class="string"><span class="delimiter">"</span><span class="content">campo1</span><span class="delimiter">"</span></span>].value + <span class="string"><span class="delimiter">"</span><span class="content"> </span><span class="delimiter">"</span></span> + cells[<span class="string"><span class="delimiter">"</span><span class="content">campo2</span><span class="delimiter">"</span></span>].value</code></span></p>
</div>
<div class="paragraph">
<p>La expresi√≥n ejemplo concatena (<code>+</code>) los valores del campo <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">genus</span><span class="delimiter">"</span></span></code></span> (<span class="CodeRay highlight"><code data-lang="javascript">cells[<span class="string"><span class="delimiter">"</span><span class="content">genus</span><span class="delimiter">"</span></span>].value</code></span>) y los del campo <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">specificEpithet</span><span class="delimiter">"</span></span></code></span> (<span class="CodeRay highlight"><code data-lang="javascript">cells[<span class="string"><span class="delimiter">"</span><span class="content">specificEpithet</span><span class="delimiter">"</span></span>].value</code></span>), con un espacio entre los valores ("<span class="CodeRay highlight"><code data-lang="javascript"> </code></span>").</p>
</div>
<div id="img-fig-12" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-12.jpg" alt="Figura 12" width="548">
</div>
<div class="title">Figura 12</div>
</div>
<div class="paragraph">
<p>Note que esta expresi√≥n funciona cuando ambos campos, <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">genus</span><span class="delimiter">"</span></span></code></span> y <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">specificEpithet</span><span class="delimiter">"</span></span></code></span>, tienen valores, es decir no son nulos. Si alguno de los dos campos tiene valores nulos, entonces no se lleva a cabo la concatenaci√≥n. Por ejemplo, si hay un valor para genus pero specificEpithet est√° vac√≠o, el campo de concatenaci√≥n aparecer√° vac√≠o. Esto se debe a que no se puede operar sobre valores nulos.</p>
</div>
<div class="paragraph">
<p>En este caso, puede sortear el problema utilizando en cambio la siguiente expresi√≥n:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="keyword">if</span>(isBlank(cells[<span class="string"><span class="delimiter">"</span><span class="content">genus</span><span class="delimiter">"</span></span>].value), <span class="string"><span class="delimiter">"</span><span class="delimiter">"</span></span>, cells[<span class="string"><span class="delimiter">"</span><span class="content">genus</span><span class="delimiter">"</span></span>].value) + <span class="string"><span class="delimiter">"</span><span class="content"> </span><span class="delimiter">"</span></span> + <span class="keyword">if</span>(isBlank(cells[<span class="string"><span class="delimiter">"</span><span class="content">specificEpithet</span><span class="delimiter">"</span></span>].value), <span class="string"><span class="delimiter">"</span><span class="delimiter">"</span></span>, cells[<span class="string"><span class="delimiter">"</span><span class="content">specificEpithet</span><span class="delimiter">"</span></span>].value)</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>(Expresi√≥n 2)</em></p>
</div>
<div class="paragraph">
<p>Lo que dicha expresi√≥n significa es: concatenar (<span class="CodeRay highlight"><code data-lang="javascript">+</code></span>) dos partes, cada una proviene de una sub-expresi√≥n <span class="CodeRay highlight"><code data-lang="javascript"><span class="keyword">if</span></code></span>, separadas por un espacio (<span class="CodeRay highlight"><code data-lang="javascript">+ <span class="string"><span class="delimiter">"</span><span class="content"> </span><span class="delimiter">"</span></span> +</code></span>). Cada una de estas sub-expresiones indica: si (<span class="CodeRay highlight"><code data-lang="javascript"><span class="keyword">if</span></code></span>) el valor del campo dado es nulo (<span class="CodeRay highlight"><code data-lang="javascript">isBlank(cells[<span class="string"><span class="delimiter">"</span><span class="content">genus</span><span class="delimiter">"</span></span>].value)</code></span>), colocar un blanco  (<span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="delimiter">"</span></span></code></span>), si no (<span class="CodeRay highlight"><code data-lang="javascript">,</code></span>), colocar el valor del campo (<span class="CodeRay highlight"><code data-lang="javascript">cells[<span class="string"><span class="delimiter">"</span><span class="content">genus</span><span class="delimiter">"</span></span>].value</code></span>). La otra sub-expresi√≥n es lo mismo pero para ep√≠teto espec√≠fico.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Nota"></i>
</td>
<td class="content">
Para evitar de modo m√°s general este problema de celdas nulas, cuando importa el conjunto de datos para crear su proyecto al principio del proceso, puede asegurarse de NO seleccionar la opci√≥n ‚ÄúStore blank cells as nulls‚Äù (ver <a href="#img-fig-04">Figura 4</a>).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>La f√≥rmula anterior (Expresi√≥n 2) resuelve el problema de tener valores nulos en la concatenaci√≥n, pero al aplicarla, si alguno de los campos es nulo, el resultado tendr√° espacios en blanco extra no deseados. Por ejemplo, si el valor de <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">genus</span><span class="delimiter">"</span></span></code></span> es nulo, el valor resultante en el campo concatenado ser√° " ep√≠teto", con un espacio en blanco antes del ep√≠teto; si el valor de <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">specificEpithet</span><span class="delimiter">"</span></span></code></span> es nulo, el valor resultante ser√° "genus ", con un espacio en blanco despu√©s del g√©nero; y si los valores de ambos son campos son nulos, el valor resultante ser√° " ", un espacio en blanco.
Para resolver este problema, se puede: 1) aplicar una transformaci√≥n en las celdas de la columna resultado del tipo "Quitar espacios al inicio y al final" (ver <a href="#Facetas-y-espacios-en-blanco">secci√≥n 2.2.2</a>), o 2) incluir en la expresi√≥n la quita de espacios al inicio y al final. Siguiendo la segunda opci√≥n, la expresi√≥n final ser√≠a:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">Trim(<span class="keyword">if</span>(isBlank(cells[<span class="string"><span class="delimiter">"</span><span class="content">genus</span><span class="delimiter">"</span></span>].value), <span class="string"><span class="delimiter">"</span><span class="delimiter">"</span></span>, cells[<span class="string"><span class="delimiter">"</span><span class="content">genus</span><span class="delimiter">"</span></span>].value) + <span class="string"><span class="delimiter">"</span><span class="content"> </span><span class="delimiter">"</span></span> + <span class="keyword">if</span>(isBlank(cells[<span class="string"><span class="delimiter">"</span><span class="content">specificEpithet</span><span class="delimiter">"</span></span>].value), <span class="string"><span class="delimiter">"</span><span class="delimiter">"</span></span>, cells[<span class="string"><span class="delimiter">"</span><span class="content">specificEpithet</span><span class="delimiter">"</span></span>].value))</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>(Expresi√≥n 3)</em>
donde se ha aplicado la funci√≥n "Trim", que quita espacios en blanco no deseados al inicio y al final del valor de las celdas.</p>
</div>
<div class="paragraph">
<p>Los resultados esperados utilizando cada una de las tres f√≥rmulas se resumen en la siguiente tabla (<a href="#table-concat">Tabla 2</a>):</p>
</div>
<div id="table-concat" class="paragraph">
<p>Tabla 2. Ejemplos de concatenaci√≥n de dos columnas (‚Äúgenus‚Äù y ‚ÄúspecificEpithet‚Äù) en otra (‚Äúconcat_scientificName), utilizando distintas expresiones (ver texto m√°s arriba).</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Expresi√≥n</th>
<th class="tableblock halign-left valign-top">genus</th>
<th class="tableblock halign-left valign-top">specificEpithet</th>
<th class="tableblock halign-left valign-top">concat_scientificName</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="4"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filago</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lasiocarpa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filago lasiocarpa</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filago</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lasiocarpa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="4"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filago</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lasiocarpa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filago lasiocarpa</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filago</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
<td class="tableblock halign-left valign-top">
<p class="tableblock">Filago</p>
<p class="tableblock"><em>(con un espacio en blanco despu√©s del g√©nero)</em></p>
</td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lasiocarpa</p></td>
<td class="tableblock halign-left valign-top">
<p class="tableblock">lasiocarpa</p>
<p class="tableblock"><em>(con un espacio en blanco antes del ep√≠teto)</em></p>
</td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(con un espacio en blanco)</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="4"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filago</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lasiocarpa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filago lasiocarpa</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filago</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filago</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lasiocarpa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lasiocarpa</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>null</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="Divisi√≥n-de-columnas">
<a class="anchor" href="#Divisi%C3%B3n-de-columnas"></a>Divisiones</h5>
<div class="paragraph">
<p>Si desea crear campos separados a partir de los valores en un √∫nico campo, siga la siguiente ruta:</p>
</div>
<div class="paragraph">
<p>Utilizaremos como ejemplo la divisi√≥n del campo <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">eventDate</span><span class="delimiter">"</span></span></code></span> para agregar tres campos: a√±o, mes y d√≠a (year, month y day)</p>
</div>
<div class="paragraph">
<p>Click en <span class="menuseq"><b class="menu">la ‚ñº azul del campo <code class="language-javascript" data-lang="javascript">"eventDate"</code></b>¬†<i class="fa fa-angle-right caret"></i> <b class="submenu">Editar columnas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Dividir en varias columnas‚Ä¶</b></span></p>
</div>
<div class="paragraph">
<p>Se abrir√° una nueva ventana (<a href="#img-fig-13">Figura 13</a>). All√≠ debe escoger si se dividir√° por separador o por longitud de caracteres, y en el primer caso qu√© tipo de separador se utilizar√° (puede ser espacio, caracter de tabulaci√≥n, coma, punto y coma, gui√≥n, etc.).</p>
</div>
<div class="paragraph">
<p>En este caso, si exploramos los datos del campo original veremos que a√±o, mes y d√≠a est√°n separados por barras oblicuas (‚Äú/‚Äù), de modo que elegiremos esta barra como separador.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Importante"></i>
</td>
<td class="content">
<strong>Desmarque la opci√≥n ‚ÄúEliminar esta columna‚Äù a la derecha</strong>. Si la deja seleccionada, perder√° el campo original y s√≥lo tendr√° los tres nuevos campos.
</td>
</tr>
</table>
</div>
<div id="img-fig-13" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-13.jpg" alt="Figura 13" width="470">
</div>
<div class="title">Figura 13</div>
</div>
<div class="paragraph">
<p>Una vez que oprima Aceptar, se crear√°n las nuevas columnas a la derecha del campo <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">eventDate</span><span class="delimiter">"</span></span></code></span>. OpenRefine las nombra autom√°ticamente agregando n√∫meros al final del nombre (en este caso: eventDate1, eventDate2 y eventDate3). Cambie los nombres de las columnas por los que corresponda (<span class="menuseq"><b class="menu">la ‚ñº azul</b>¬†<i class="fa fa-angle-right caret"></i> <b class="submenu">Editar columnas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Renombrar esta columna</b></span>). En este caso, n√≥mbrelos ‚Äúyear‚Äù, ‚Äúmonth‚Äù y ‚Äúday‚Äù seg√∫n corresponda.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Importante"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Cuando efect√∫e este tipo de divisiones de campos utilizando como criterio ya sea separadores o longitud de caracteres, aseg√∫rese de que en el campo original no haya distintos formatos para diferentes registros. Vea el siguiente ejemplo:</p>
</div>
<div class="paragraph">
<p>Se quiere separar un campo nombrado ‚Äúcoordenadas‚Äù que contiene datos de latitud y longitud separados por coma, del tipo: ‚Äú-32.04588990, -54.98789901‚Äù, para obtener dos campos distintos, latitud y longitud.</p>
</div>
<div class="paragraph">
<p>Si todos los campos tienen el mismo formato, obtendr√° dos campos nuevos de la siguiente forma:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="notjavascript">campo 1: -32.04588990
campo 2: -54.98789901</code></pre>
</div>
</div>
<div class="paragraph">
<p>En cambio, si en alg√∫n registro los valores dentro del campo coordenadas no est√°n en formato decimal, entonces tendr√° problemas al dividir el campo. Suponga como ejemplo que uno o m√°s registros tienen valores con formato ‚Äú34¬∞ 20‚Äô 15,2‚Äô‚Äô S, 54¬∞ 49‚Äô 13‚Äô‚Äô O‚Äù. En ese caso, la separaci√≥n le dar√° 3 campos en vez de dos, con la latitud incorrectamente separada:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="notjavascript">campo 1: 34¬∞ 20‚Äô 15
campo 2: 2‚Äô‚Äô S
campo 3: 54¬∞ 49¬¥ 13¬¥¬¥ O</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="uso-de-facetas">
<a class="anchor" href="#uso-de-facetas"></a>2.2. Uso de Facetas</h3>
<div class="paragraph">
<p>La funci√≥n ‚ÄúFacetas‚Äù es una forma de visualizaci√≥n de los datos, que permite el tratamiento en bloque de grupos de registros. Las facetas se pueden aplicar a celdas que contengan cualquier tipo de texto, n√∫meros o fechas.</p>
</div>
<div class="sect3">
<h4 id="facetas-de-texto">
<a class="anchor" href="#facetas-de-texto"></a>2.2.1. Facetas de texto</h4>
<div class="paragraph">
<p>Ubique la columna <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">kingdom</span><span class="delimiter">"</span></span></code></span> y haga click sobre <b class="menuref">la ‚ñº azul</b>. Dentro de ‚ÄúFacetas‚Äù, escoja ‚ÄúFaceta de texto‚Äù, como se muestra a continuaci√≥n (<a href="#img-fig-14">Figura 14a</a>). Se abrir√° entonces a la izquierda una ventana con la faceta (<a href="#img-fig-14">Figura 14b</a>).</p>
</div>
<div id="img-fig-14" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-14.jpg" alt="Figura 14" width="700">
</div>
<div class="title">Figura 14</div>
</div>
<div class="paragraph">
<p>En dicha ventana de faceta, puede ordenar los valores alfab√©ticamente (haciendo click sobre ‚ÄúA-Z‚Äù) o seg√∫n el n√∫mero de registros asociados a cada valor (haciendo click sobre ‚Äúconteo‚Äù).</p>
</div>
<div class="paragraph">
<p>En la lista de valores podemos ver que hay algunos errores. Para corregirlos coloque el cursor sobre el valor que desea modificar y haga click en ‚Äúeditar‚Äù. Se abrir√° entonces una peque√±a ventana donde puede cambiar el valor (<a href="#img-fig-15">Figura 15</a>).  Para guardar el cambio haga click en ‚ÄúAplicar‚Äù, ello aplicar√° el cambio a todos aquellos registros que ten√≠an el valor dado.</p>
</div>
<div class="paragraph">
<p>Corrija los valores ‚ÄúPlante‚Äù y ‚ÄúPlants‚Äù. Cuando lo haga, habr√° corregido todos los registros que conten√≠an esos valores, y se modificar√° entonces el n√∫mero de registros que tiene el valor ‚ÄúPlantae‚Äù.</p>
</div>
<div id="img-fig-15" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-15.jpg" alt="Figura 15" width="700">
</div>
<div class="title">Figura 15</div>
</div>
</div>
<div class="sect3">
<h4 id="Facetas-y-espacios-en-blanco">
<a class="anchor" href="#Facetas-y-espacios-en-blanco"></a>2.2.2. Facetas y espacios en blanco</h4>
<div class="sect4">
<h5 id="espacios-en-blanco-extra-al-principio-o-al-final-de-una-cadena-de-texto">
<a class="anchor" href="#espacios-en-blanco-extra-al-principio-o-al-final-de-una-cadena-de-texto"></a>Espacios en blanco extra al principio o al final de una cadena de texto</h5>
<div class="paragraph">
<p>Una vez que haya corregido los valores en el punto anterior, notar√° que a√∫n aparecen 3 valores ‚ÄúPlantae‚Äù, aparentemente iguales (<a href="#img-fig-16">Figura 16</a>). Sin embargo, estos valores s√≠ son diferentes: tienen espacios adicionales al final del valor de texto.</p>
</div>
<div id="img-fig-16" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-16.jpg" alt="Figura 16" width="300">
</div>
<div class="title">Figura 16</div>
</div>
<div class="paragraph">
<p>Para corregir estos errores, aseg√∫rese de que ninguno de los valores en la faceta est√°n seleccionados y de que el n√∫mero de registros que se muestra arriba de la tabla es el total (24984). Sobre la columna <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">kingdom</span><span class="delimiter">"</span></span></code></span>, haga click sobre <b class="menuref">la ‚ñº azul</b> y siga las siguientes opciones (<a href="#img-fig-17">Figura 17</a>):</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><span class="menuseq"><b class="menu">Editar celdas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="submenu">Transformaciones comunes</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Quitar espacios al inicio y final</b></span></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Esta funci√≥n permite eliminar espacios en blanco que puedan aparecer al principio y al final de cadenas de texto. Cuando termine este paso, los 24,984 registros deber√≠an tener el valor ‚ÄúPlantae‚Äù en la columna <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">kingdom</span><span class="delimiter">"</span></span></code></span>.</p>
</div>
<div id="img-fig-17" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-17.jpg" alt="Figura 17" width="588">
</div>
<div class="title">Figura 17</div>
</div>
</div>
<div class="sect4">
<h5 id="espacios-en-blanco-extra-entre-palabras-en-una-cadena-de-texto">
<a class="anchor" href="#espacios-en-blanco-extra-entre-palabras-en-una-cadena-de-texto"></a>Espacios en blanco extra entre palabras en una cadena de texto</h5>
<div class="paragraph">
<p>A veces en campos que contienen cadenas de texto con varias palabras puede haber espacios en blanco extra entre palabras. Para ver un ejemplo, ubique la columna <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">stateProvince</span><span class="delimiter">"</span></span></code></span> en el conjunto de datos. Arme una faceta de texto para dicha columna (click sobre <span class="menuseq"><b class="menu">la ‚ñº azul</b>¬†<i class="fa fa-angle-right caret"></i> <b class="submenu">Facetas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Faceta de texto</b></span>). Luego, en la faceta, ordene los valores por n√∫mero de registros asociados (seleccionando ‚Äúconteo‚Äù). Ver√° entonces los valores que se encuentran en este campo como se muestra en la <a href="#img-fig-18">Figura 18</a>.</p>
</div>
<div class="paragraph">
<p>Note que en primer y tercer lugar figura aparentemente el mismo valor, ‚ÄúBuenos Aires‚Äù. La diferencia entre ambos valores es que uno de ellos tiene un doble espacio entre las palabras.</p>
</div>
<div id="img-fig-18" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-18.jpg" alt="Figura 18" width="300">
</div>
<div class="title">Figura 18</div>
</div>
<div class="paragraph">
<p>Para corregir este error, sobre la columna <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">stateProvince</span><span class="delimiter">"</span></span></code></span>, haga click sobre <b class="menuref">la ‚ñº azul</b> y siga la siguiente ruta (<a href="#img-fig-19">Figura 19</a>):</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><span class="menuseq"><b class="menu">Editar celdas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="submenu">Transformaciones Comunes</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Contraer espacios consecutivos</b></span></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Esta funci√≥n le permite convertir m√∫ltiples espacios en blanco en un √∫nico espacio en blanco.</p>
</div>
<div id="img-fig-19" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-19.jpg" alt="Figura 19" width="582">
</div>
<div class="title">Figura 19</div>
</div>
<div class="paragraph">
<p>Una vez que haya removido los espacios en blanco extra, en la faceta s√≥lo ver√° un valor para ‚ÄúBuenos Aires‚Äù, con un n√∫mero de registros que es la suma de los valores anteriores. Tenga en cuenta que si hab√≠a otros valores con el mismo problema de dobles espacios entre palabras en esta misma columna, la modificaci√≥n se aplicar√° a todos ellos, y no s√≥lo a ‚ÄúBuenos Aires‚Äù. Puede comprobar cu√°ntos valores se han modificado comparando el n√∫mero de valores disponibles en la faceta antes y despu√©s de la transformaci√≥n.</p>
</div>
</div>
<div class="sect4">
<h5 id="espacios-en-blanco-extra-en-todo-el-conjunto-de-datos">
<a class="anchor" href="#espacios-en-blanco-extra-en-todo-el-conjunto-de-datos"></a>Espacios en blanco extra en todo el conjunto de datos</h5>
<div class="paragraph">
<p>Habiendo visto c√≥mo eliminar espacios en blanco extra, al principio, final o en medio de una cadena de texto, en campos determinados, existe una manera de realizar todas estas acciones al mismo tiempo sobre todos los campos de conjunto de datos.
Para ello, se debe ir a la columna ‚ÄúTodo‚Äù, hacer click sobre "la ‚ñº azul &gt; Transformar.</p>
</div>
<div class="paragraph">
<p>Se abrir√° entonces una ventana, y en el cuadro de texto debe pegarse la siguiente expresi√≥n:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">value.trim().replace(<span class="regexp"><span class="delimiter">/</span><span class="char">\s</span><span class="content">+</span><span class="delimiter">/</span></span>,<span class="string"><span class="delimiter">'</span><span class="content"> </span><span class="delimiter">'</span></span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Al hacer click en ‚ÄúAceptar‚Äù se eliminar√°n los espacios en blanco extra en todo el conjunto de datos. Los cambios ser√°n registrados columna a columna en el historial de cambios (ver m√°s abajo secci√≥n <a href="#sect-2.5">Deshacer y rehacer cambios</a>).</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="inclusi√≥n-y-exclusi√≥n-de-registros-usando-facetas">
<a class="anchor" href="#inclusi%C3%B3n-y-exclusi%C3%B3n-de-registros-usando-facetas"></a>2.2.3. Inclusi√≥n y exclusi√≥n de registros usando facetas</h4>
<div class="sect4">
<h5 id="inclusi√≥n-de-registros-con-valores-determinados-para-un-campo-dado">
<a class="anchor" href="#inclusi%C3%B3n-de-registros-con-valores-determinados-para-un-campo-dado"></a>Inclusi√≥n de registros con valores determinados para un campo dado</h5>
<div class="paragraph">
<p>Las facetas pueden utilizarse para trabajar sobre registros con uno o m√°s valores de inter√©s en un campo en cuesti√≥n.
Para trabajar sobre un ejemplo, arme una faceta de texto sobre el campo <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">phylum</span><span class="delimiter">"</span></span></code></span> (click sobre <span class="menuseq"><b class="menu">la ‚ñº azul</b>¬†<i class="fa fa-angle-right caret"></i> <b class="submenu">Facetas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Faceta de texto</b></span>). Ver√° que la faceta tiene varios valores.
Para seleccionar solo los registros que tienen como phylum, por ejemplo, ‚ÄúLycopodiophyta‚Äù, debe hacer click sobre el valor mismo dentro de la faceta o sobre la opci√≥n ‚Äúinclude‚Äù que se muestra a su derecha (<a href="#img-fig-20">Figura 20a</a>).</p>
</div>
<div id="img-fig-20" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-20.jpg" alt="Figura 20" width="1042">
</div>
<div class="title">Figura 20</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Importante"></i>
</td>
<td class="content">
Al seleccionar un valor dentro de una faceta, cualquier acci√≥n que tome a continuaci√≥n s√≥lo ser√° aplicada a los registros incluidos bajo esa selecci√≥n.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Puede seleccionar tantos valores como desee dentro de una faceta, utilizando ‚Äúinclude‚Äù sucesivamente sobre cada uno de ellos.</p>
</div>
</div>
<div class="sect4">
<h5 id="exclusi√≥n-de-registros-con-valores-determinados-para-un-campo-dado">
<a class="anchor" href="#exclusi%C3%B3n-de-registros-con-valores-determinados-para-un-campo-dado"></a>Exclusi√≥n de registros con valores determinados para un campo dado</h5>
<div class="paragraph">
<p>Para deseleccionar registros previamente seleccionados a trav√©s de una faceta, simplemente haga click sobre el valor nuevamente, o sobre la opci√≥n ‚Äúexclude‚Äù que se muestra a su derecha (<a href="#img-fig-20">Figura 20b</a>). Puede deseleccionar tantos valores como desee utilizando ‚Äúexclude‚Äù sucesivamente sobre cada uno de ellos.</p>
</div>
<div class="paragraph">
<p>En ocasiones las facetas pueden contener muchos valores de inter√©s diferentes sobre los que quisi√©ramos trabajar. En estos casos, puede ser muy engorroso seleccionar todos los valores de inter√©s uno a uno. En cambio, se puede utilizar la funci√≥n ‚Äúinvertir‚Äù selecci√≥n. Para aplicar esta funci√≥n, deben seleccionarse los valores que <em>no</em> son de inter√©s. Una vez seleccionados, en la parte superior de la faceta aparece la opci√≥n ‚Äúinvertir‚Äù (<a href="#img-fig-20">Figura 20b</a>). Haciendo click el programa nos brindar√° la selecci√≥n inversa, incluyendo entonces los valores que <em>s√≠</em> nos interesan.</p>
</div>
<div class="paragraph">
<p>Por ejemplo, para el campo <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">phylum</span><span class="delimiter">"</span></span></code></span> del ejemplo anterior, nos interesan todos los valores menos ‚ÄúPinophyta‚Äù. Seleccionamos entonces ‚ÄúPinophyta‚Äù haciendo click en ‚Äúinclude‚Äù para este valor. Luego hacemos click en ‚Äúinvertir‚Äù, y como resultado habremos seleccionado todos los registros salvo aquellos que tienen el valor ‚ÄúPinophyta‚Äù (<a href="#img-fig-20">Figura 20c</a>).</p>
</div>
<div class="paragraph">
<p>Para revertir la inversi√≥n puede hacerse click en ‚Äúinvertir‚Äù nuevamente, volviendo entonces a los valores seleccionados inicialmente.</p>
</div>
</div>
<div class="sect4">
<h5 id="selecci√≥n-de-registros-sin-valores-para-un-campo-dado">
<a class="anchor" href="#selecci%C3%B3n-de-registros-sin-valores-para-un-campo-dado"></a>Selecci√≥n de registros sin valores para un campo dado</h5>
<div class="paragraph">
<p>En muchas ocasiones resulta muy √∫til poder identificar los registros que tienen un campo de inter√©s vac√≠o, sin valores. Utilizando facetas se pueden reconocer esos registros f√°cilmente, pues figuran dentro de la faceta con valor ‚Äú(blank)‚Äù (ver por ejemplo este valor en la faceta compuesta para el apartado anterior, sobre el campo <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">phylum</span><span class="delimiter">"</span></span></code></span>, <a href="#img-fig-20">Figura 20</a>) .
El valor ‚Äú(blank)‚Äù se puede tratar como cualquier otro dentro de la faceta, es decir, se puede incluir, excluir, y editar, facilitando la evaluaci√≥n y el mejoramiento de los registros.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="facetas-num√©ricas">
<a class="anchor" href="#facetas-num%C3%A9ricas"></a>2.2.4. Facetas num√©ricas</h4>
<div class="paragraph">
<p>Las facetas tambi√©n pueden aplicarse a campos num√©ricos, y en ese caso son muy √∫tiles para, por ejemplo, detectar valores fuera de rangos de inter√©s.</p>
</div>
<div class="paragraph">
<p>A modo de ejemplo, armaremos una faceta num√©rica sobre el campo <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">day</span><span class="delimiter">"</span></span></code></span> que hemos creado m√°s arriba. Para ello, hacer click en <b class="menuref">la ‚ñº azul</b> del campo y seguir la ruta:</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><span class="menuseq"><b class="menu">Facetas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Faceta num√©rica</b></span></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Ver√° entonces una nueva ventana, la faceta, como se muestra en la <a href="#img-fig-21">Figura 21</a>.</p>
</div>
<div id="img-fig-21" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-21.jpg" alt="Figura 21" width="300">
</div>
<div class="title">Figura 21</div>
</div>
<div class="paragraph">
<p>All√≠ se puede ver que el rango de d√≠as abarca desde 1 a 35 inclusive. Es decir, algunos n√∫meros est√°n fuera de rango, puesto que como m√°ximo puede haber hasta d√≠a 31 en algunos meses.</p>
</div>
<div class="paragraph">
<p>Se pueden seleccionar los registros con los valores superiores desplazando el bot√≥n a la izquierda del rango hacia la derecha. Ello incluir√° en la tabla los registros por encima del rango seleccionado y, si no desmarca la opci√≥n ‚ÄúBlank‚Äù, tambi√©n los blancos, como se muestra en la <a href="#img-fig-22">Figura 22</a> (en el ejemplo, tres filas en total: un caso con d√≠a 32, un caso con d√≠a 35 y un caso con d√≠a vac√≠o). Si hubiera valores en el campo que no son num√©ricos, tambi√©n podr√≠a verlos utilizando esta faceta.</p>
</div>
<div id="img-fig-22" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-22.jpg" alt="Figura 22" width="734">
</div>
<div class="title">Figura 22</div>
</div>
<div class="paragraph">
<p>Los tres errores encontrados deben ser consultados con la informaci√≥n original de los ejemplares en la colecci√≥n, y los campos de fecha estrictamente deber√≠an quedar vac√≠os para estos registros. Una opci√≥n es marcar estos registros para revisar m√°s adelante, usando estrellas o banderas (ver secci√≥n sobre <a href="#Banderas-y-estrellas">uso de estrellas y banderas</a>).</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Importante"></i>
</td>
<td class="content">
Si el campo sobre el que desea armar la faceta no es un campo con formato num√©rico (e.g., tiene formato texto, o fecha, etc.), la faceta num√©rica no le mostrar√° valores. En cambio, dir√° que el campo no ten√≠a valores num√©ricos (‚ÄúNo numeric value present.‚Äù). Para poder armar una faceta num√©rica tendr√° entonces primero que transformar los datos de la columna de inter√©s a formato num√©rico. Para ello, siga la ruta: click sobre <span class="menuseq"><b class="menu">la ‚ñº azul del campo</b>¬†<i class="fa fa-angle-right caret"></i> <b class="submenu">Editar celdas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="submenu">Transformaciones comunes</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">A n√∫mero</b></span>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="facetas-y-duplicados">
<a class="anchor" href="#facetas-y-duplicados"></a>2.2.5. Facetas y duplicados</h4>
<div class="paragraph">
<p>Las facetas tambi√©n permiten la detecci√≥n y correcci√≥n de duplicados.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Nota"></i>
</td>
<td class="content">
Cuando hablamos aqu√≠ de duplicados, nos referimos a valores duplicados dentro de una columna, no necesariamente a registros enteros duplicados, o a duplicados en el sentido biol√≥gico/de colecciones. Por ello, tenga especial cuidado a la hora de actuar sobre estos valores duplicados, pues podr√≠an tener efectos a diferentes niveles.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Veremos un ejemplo de duplicados en la columna <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">catalogNumber</span><span class="delimiter">"</span></span></code></span>. Para ello, haga click en <b class="menuref">la ‚ñº azul</b> y luego siga la siguiente ruta:</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><span class="menuseq"><b class="menu">Facetas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="submenu">Facetas personalizadas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Faceta por duplicados</b></span></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Ver√° entonces una ventana con la faceta, como se muestra en la <a href="#img-fig-23">Figura 23</a>, donde ‚Äútrue‚Äù (‚Äúverdadero‚Äù) refiere a los valores duplicados.</p>
</div>
<div id="img-fig-23" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-23.jpg" alt="Figura 23" width="300">
</div>
<div class="title">Figura 23</div>
</div>
<div class="paragraph">
<p>Si hace click en ‚Äútrue‚Äù, la pantalla principal le mostrar√° los registros que tienen n√∫mero de cat√°logo duplicado (<a href="#img-fig-24">Figura 24</a>). Observe por ejemplo los siguientes registros:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>el primer y quinto registros tienen el mismo n√∫mero de cat√°logo, 5567</p>
</li>
<li>
<p>el tercer registro (y otros m√°s abajo que no son visibles entre los 25 primeros) no tiene n√∫mero de cat√°logo (el valor nulo es lo que est√° duplicado).</p>
</li>
<li>
<p>etc.</p>
</li>
</ul>
</div>
<div id="img-fig-24" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-24.jpg" alt="Figura 24" width="550">
</div>
<div class="title">Figura 24</div>
</div>
<div class="paragraph">
<p>Corrija los n√∫meros de cat√°logo. Para hacerlo, edite las celdas individualmente: sobre la celda haga click en el bot√≥n ‚Äúeditar‚Äù, modifique el valor y haga click en ‚ÄúAplicar‚Äù (<a href="#img-fig-25">Figura 25</a>).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Nota"></i>
</td>
<td class="content">
En la pr√°ctica la correcci√≥n de los n√∫meros de cat√°logo s√≥lo debe hacerse una vez que los n√∫meros y los datos asociados han sido comprobados con las etiquetas de los espec√≠menes.
</td>
</tr>
</table>
</div>
<div id="img-fig-25" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-25.jpg" alt="Figura 25" width="500">
</div>
<div class="title">Figura 25</div>
</div>
</div>
<div class="sect3">
<h4 id="l√≠mite-en-el-n√∫mero-de-opciones-de-las-facetas">
<a class="anchor" href="#l%C3%ADmite-en-el-n%C3%BAmero-de-opciones-de-las-facetas"></a>2.2.6. L√≠mite en el n√∫mero de opciones de las Facetas</h4>
<div class="paragraph">
<p>En OpenRefine existe un l√≠mite para el n√∫mero de elecciones de faceta que se muestran (‚Äúchoices‚Äù). Muchas veces dicho n√∫mero est√° pre-configurado a un valor de 2000. Ello quiere decir que s√≥lo podr√° ver 2000 opciones dentro de la faceta de inter√©s.</p>
</div>
<div class="paragraph">
<p>Por ejemplo, si tiene configurado el valor a 2000 y trata de armar una faceta de texto en el campo <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">specificEpithet</span><span class="delimiter">"</span></span></code></span>, ver√° que a la derecha la faceta no muestra los valores esperados sino un mensaje que dice que hay demasiados valores para mostrar (<a href="#img-fig-26">Figura 26a</a>).</p>
</div>
<div id="img-fig-26" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-26.jpg" alt="Figura 26" width="550">
</div>
<div class="title">Figura 26</div>
</div>
<div class="paragraph">
<p>Haciendo click en ‚ÄúFije un l√≠mite‚Äù, se abrir√° otra ventana donde puede cambiar el l√≠mite al valor preferido (<a href="#img-fig-26">Figura 26b</a>).</p>
</div>
<div class="paragraph">
<p>Una vez que haya cambiado el valor l√≠mite, y si este valor es lo suficientemente grande, podr√° ver todos los valores en la faceta del campo de inter√©s (en el ejemplo anterior, el campo <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">specificEpithet</span><span class="delimiter">"</span></span></code></span>).</p>
</div>
<div class="paragraph">
<p>Alternativamente, para modificar en cualquier momento el l√≠mite en el n√∫mero de valores que se pueden desplegar por faceta, puede ir a la siguiente direcci√≥n en su navegador web:</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><a href="http://127.0.0.1:3333/preferences" class="bare">http://127.0.0.1:3333/preferences</a></p>
</div>
</div>
</div>
<div class="paragraph">
<p>El navegador mostrar√° una ventana con ciertas opciones (<a href="#img-fig-27">Figura 27a</a>). All√≠, establezca el l√≠mite preferido para las facetas editando la clave ‚Äúui.browsing.listFacet.limit‚Äù. Para ello haga click en ‚Äúcore-index/edit‚Äù, y en la ventana que se abre, coloque el nuevo valor l√≠mite y oprima ‚ÄúOK‚Äù (<a href="#img-fig-27">Figura 27b</a>).</p>
</div>
<div id="img-fig-27" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-27.jpg" alt="Figura 27" width="897">
</div>
<div class="title">Figura 27</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="uso-de-filtros">
<a class="anchor" href="#uso-de-filtros"></a>2.3. Uso de Filtros</h3>
<div class="sect3">
<h4 id="filtros-simples">
<a class="anchor" href="#filtros-simples"></a>2.3.1. Filtros simples</h4>
<div class="paragraph">
<p>OpenRefine permite el uso de filtros sobre campos particulares, funci√≥n que puede ser muy √∫til para la limpieza de datos. Veremos un ejemplo a continuaci√≥n.</p>
</div>
<div class="paragraph">
<p>Ubique el campo <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">specificEpithet</span><span class="delimiter">"</span></span></code></span> y cree una faceta de texto (haga click en <span class="menuseq"><b class="menu">la ‚ñº azul</b>¬†<i class="fa fa-angle-right caret"></i> <b class="submenu">Facetas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Faceta de texto</b></span>). Luego vaya nuevamente a <b class="menuref">la ‚ñº azul</b> y cree un filtro de texto (‚ÄúFiltro de texto‚Äù). Sobre el men√∫ de la izquierda se abrir√° una ventana como la que se muestra en la <a href="#img-fig-28">Figura 28</a>.</p>
</div>
<div id="img-fig-28" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-28.jpg" alt="Figura 28" width="300">
</div>
<div class="title">Figura 28</div>
</div>
<div class="paragraph">
<p>En el cuadro de texto puede escribir el valor sobre el cual desea filtrar.</p>
</div>
<div class="paragraph">
<p>Por ejemplo, pruebe escribiendo ‚Äúsp.‚Äù.</p>
</div>
<div class="paragraph">
<p>En el men√∫ de la izquierda, dentro de la faceta se mostrar√° el valor que usted busc√≥, y en la pantalla principal se mostrar√°n los registros asociados que tienen dicho valor en el campo <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">specificEpithet</span><span class="delimiter">"</span></span></code></span> (<a href="#img-fig-29">Figura 29</a>).</p>
</div>
<div id="img-fig-29" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-29.jpg" alt="Figura 29" width="700">
</div>
<div class="title">Figura 29</div>
</div>
<div class="paragraph">
<p>Note que ver√° dos valores, uno en letras min√∫sculas y otro en letras may√∫sculas. Si s√≥lo desea ver los valores escritos con min√∫scula, en el filtro debe seleccionar ‚ÄúDistingue may√∫sculas y min√∫sculas‚Äù, o puede seleccionar ‚Äúsp.‚Äù directamente sobre la faceta de <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">specificEpithet</span><span class="delimiter">"</span></span></code></span>.</p>
</div>
<div class="paragraph">
<p>Corrija los valores ‚Äúsp.‚Äù y ‚ÄúSP.‚Äù utilizando la funci√≥n ‚Äúeditar‚Äù sobre los valores en la faceta (el valor correcto deber√≠a ser nulo).</p>
</div>
<div class="paragraph">
<p>Cierre el filtro y la faceta de <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">specificEpithet</span><span class="delimiter">"</span></span></code></span>.</p>
</div>
<div class="paragraph">
<p>Abra una faceta de texto y un filtro para el campo <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">scientificName</span><span class="delimiter">"</span></span></code></span>. En el filtro, busque el valor ‚Äúsp.‚Äù. Ver√° entonces varios valores para ese campo que incluyen ‚Äúsp.‚Äù, como se muestra en la <a href="#img-fig-30">Figura 30</a>.</p>
</div>
<div id="img-fig-30" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-30.jpg" alt="Figura 30" width="600">
</div>
<div class="title">Figura 30</div>
</div>
<div class="paragraph">
<p>Debe corregir esos nombres, sacando ‚Äúsp.‚Äù y dejando solamente el nombre del g√©nero. Para no tener que hacerlo uno por uno, puede seguir los siguientes pasos.</p>
</div>
<div class="paragraph">
<p>Haga click sobre <span class="menuseq"><b class="menu">la ‚ñº azul en <code class="language-javascript" data-lang="javascript">"scientificName"</code></b>¬†<i class="fa fa-angle-right caret"></i> <b class="submenu">Editar celdas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Transformar‚Ä¶</b></span> (<a href="#img-fig-31">Figura 31</a>).</p>
</div>
<div id="img-fig-31" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-31.jpg" alt="Figura 31" width="400">
</div>
<div class="title">Figura 31</div>
</div>
<div class="paragraph">
<p>Se abrir√° entonces una ventana como la mostrada en la (<a href="#img-fig-32">Figura 32</a>). En el cuadro de texto, pegue la siguiente expresi√≥n:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">value.replace(<span class="string"><span class="delimiter">"</span><span class="content"> sp.</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="delimiter">"</span></span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dicha expresi√≥n tiene la funci√≥n de reemplazar lo que est√° entre las primeras comillas por aquello que est√° entre las segundas comillas, es decir, la porci√≥n <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content"> sp.</span><span class="delimiter">"</span></span></code></span> (<code>[espacio]sp.</code>) por <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="delimiter">"</span></span></code></span> (nada).</p>
</div>
<div class="paragraph">
<p>En la <a href="#img-fig-32">Figura 32</a> puede observar c√≥mo se ver√≠a el resultado del cambio en la pesta√±a ‚ÄúVista previa‚Äù.</p>
</div>
<div id="img-fig-32" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-32.jpg" alt="Figura 32" width="800">
</div>
<div class="title">Figura 32</div>
</div>
<div class="paragraph">
<p>Oprima ‚ÄúAceptar‚Äù para ejecutar la transformaci√≥n, y ver√° que en la faceta que ha sido filtrada ya no hay registros que contengan ‚Äúsp.‚Äù como parte del valor en el campo <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">scientificName</span><span class="delimiter">"</span></span></code></span>.</p>
</div>
<div class="paragraph">
<p>Cierre la faceta y el filtro del campo <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">scientificName</span><span class="delimiter">"</span></span></code></span>.</p>
</div>
</div>
<div class="sect3">
<h4 id="filtros-con-expresiones-regulares">
<a class="anchor" href="#filtros-con-expresiones-regulares"></a>2.3.2. Filtros con expresiones regulares</h4>
<div class="paragraph">
<p>Los filtros se pueden utilizar tambi√©n incluyendo expresiones regulares, que permiten buscar ciertos patrones en los valores de los campos. Por ejemplo, se pueden buscar palabras que comiencen con ciertas letras, o que comiencen con may√∫scula o min√∫scula, etc.</p>
</div>
<div class="paragraph">
<p>A modo de ejemplo, buscaremos valores en el campo <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">genus</span><span class="delimiter">"</span></span></code></span> que comiencen con min√∫scula. Para ello, abra una faceta y un filtro de texto para el campo <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">genus</span><span class="delimiter">"</span></span></code></span>. En el filtro coloque la siguiente expresi√≥n en el cuadro de texto: <span class="CodeRay highlight"><code data-lang="javascript">^[a-z]</code></span>, y seleccione las opciones ‚ÄúDistingue may√∫sculas y min√∫sculas‚Äù y ‚Äúregex‚Äù (<a href="#img-fig-33">Figura 33a</a>). Con dicha expresi√≥n se pueden buscar los valores en los que la primera letra es min√∫scula.</p>
</div>
<div id="img-fig-33" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-33.jpg" alt="Figura 33" width="550">
</div>
<div class="title">Figura 33</div>
</div>
<div class="paragraph">
<p>Siguiendo estos pasos, deber√≠a poder ver dos valores (<a href="#img-fig-33">Figura 33b</a>). Corrija estos valores filtrados, dado que el g√©nero debe comenzar con may√∫scula.</p>
</div>
<div class="paragraph">
<p>OpenRefine acepta un lenguaje de expresiones regulares Java, que puede consultar aqu√≠: <a href="http://docs.oracle.com/javase/tutorial/essential/regex/" class="bare">http://docs.oracle.com/javase/tutorial/essential/regex/</a>. Algunas expresiones que pueden ser √∫tiles como filtros para diversos campos son:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>^[A-C]</code></p>
<div class="paragraph">
<p>Busca las cadenas de texto que comienzan (<code>^</code>) con may√∫scula de la A a la C (<code>[A-C]</code>)</p>
</div>
</li>
<li>
<p><code>^[^a-d]</code></p>
<div class="paragraph">
<p>Busca las cadenas de texto que comienzan (<code>^</code>) con cualquier car√°cter en min√∫scula salvo de la a a la d (<code>[^a-d]</code>) ‚Äì el <code>^</code> dentro del <code>[]</code> indica negaci√≥n.</p>
</div>
</li>
<li>
<p><code>^\w</code></p>
<div class="paragraph">
<p>Busca las cadenas de texto alfanum√©ricas que comienzan (<code>^</code>) con un n√∫mero o una letra (<code>\w</code>) ‚Äìde 0 a 9 o de la a a la z, may√∫scula o min√∫scula, o el car√°cter '_'.</p>
</div>
</li>
<li>
<p><code>^\s</code></p>
<div class="paragraph">
<p>Busca las cadenas de texto que comienzan (<code>^</code>) con un espacio en blanco (<code>\s</code>).</p>
</div>
</li>
<li>
<p><code>^\d</code></p>
<div class="paragraph">
<p>Busca las cadenas de texto que comienzan (<code>^</code>) con un d√≠gito (<code>\d</code>).</p>
</div>
</li>
<li>
<p><code>^\D</code></p>
<div class="paragraph">
<p>Busca las cadenas de texto que comienzan (<code>^</code>) con un car√°cter no d√≠gito (<code>\D</code>). Equivalente a la expresi√≥n con negaci√≥n <code>^[^0-9]</code>.</p>
</div>
</li>
<li>
<p><code>\d{4}</code></p>
<div class="paragraph">
<p>Busca cadenas de texto que contengan d√≠gitos (<code>\d</code>), en particular 4 d√≠gitos (<code>{4}</code>).</p>
</div>
</li>
<li>
<p><code>^\w.*\d$</code></p>
<div class="paragraph">
<p>Busca las cadenas de texto que comiencen (<code>^</code>) un car√°cter alfanum√©rico o el car√°cter '_' (<code>\w</code>), sigan (<code>.</code>) con cualquier car√°cter (<code>*</code>) y terminen (<code>$</code>) con un d√≠gito (<code>\d</code>).</p>
</div>
</li>
<li>
<p><code>^[A-Z].*\s[A-Z]</code></p>
<div class="paragraph">
<p>Busca las cadenas de texto que comienzan (<code>^</code>) con may√∫scula (<code>[A-Z]</code>) ‚Äìcualquier may√∫scula de la A a la Z‚Äì seguidas de (<code>.</code>) cualquier car√°cter (<code>*</code>), luego un espacio (<code>\s</code>), luego otra letra may√∫scula (<code>[A-Z]</code>).</p>
</div>
</li>
<li>
<p><code>[√Ä-√ñ√ò-√∂√∏-√ø]</code></p>
<div class="paragraph">
<p>Busca las cadenas de texto que contengan al menos un car√°cter especial ([√Ä-√ñ√ò-√∂√∏-√ø]) ‚Äìdentro de los rangos de caracteres Unicode √Ä-√ñ o √ò-√∂ o √∏-√ø, por ejemplo caracteres con diacr√≠ticos (acentos graves, agudos, circunflejos, di√©resis, virguillas, cedilla, etc.)</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Pruebe el uso de algunas de esas expresiones en distintos campos.</p>
</div>
<div class="paragraph">
<p><em>Para m√°s ejemplos y usos, puede <a href="https://github.com/OpenRefine/OpenRefine/wiki">consultar el repositorio de OpenRefine</a> en GitHub.</em></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="uso-de-agrupamientos">
<a class="anchor" href="#uso-de-agrupamientos"></a>2.4. Uso de Agrupamientos</h3>
<div class="sect3">
<h4 id="agrupamientos-simples">
<a class="anchor" href="#agrupamientos-simples"></a>2.4.1. Agrupamientos simples</h4>
<div class="paragraph">
<p>Los agrupamientos permiten, como su nombre lo indica, agrupar valores de acuerdo a diferentes criterios. Por ejemplo, pueden agruparse valores de acuerdo al grado de similitud en cuanto a las letras que los componen o en cuanto a la fon√©tica asociada. Esta funci√≥n es muy √∫til para detectar y corregir errores de ortograf√≠a y variaciones en los datos.</p>
</div>
<div class="paragraph">
<p>Ubique el campo <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">stateProvince</span><span class="delimiter">"</span></span></code></span> y arme una faceta de texto para este campo.</p>
</div>
<div class="paragraph">
<p>En la ventana de la faceta, haga click en el bot√≥n ‚ÄúAgrupar‚Äù. Se abrir√° entonces una ventana como la mostrada en la <a href="#img-fig-34">Figura 34</a>.</p>
</div>
<div class="paragraph">
<p>All√≠ ver√° que algunos valores que son similares han sido agrupados por un algoritmo. El m√©todo y la funci√≥n utilizados se muestran y se pueden modificar arriba de la lista de valores.</p>
</div>
<div class="paragraph">
<p>La ventana tambi√©n muestra el tama√±o del cl√∫ster (‚ÄúN√∫mero de valores‚Äù agrupados), cu√°ntos registros hay por cluster (‚ÄúN√∫mero de filas‚Äù) y por valor (entre par√©ntesis junto a los valores en ‚ÄúValores en la agrupaci√≥n‚Äù).</p>
</div>
<div id="img-fig-34" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-34.jpg" alt="Figura 34" width="820">
</div>
<div class="title">Figura 34</div>
</div>
<div class="paragraph">
<p>Adem√°s, para cada cluster ver√° una opci√≥n para fusionar los valores (‚Äú¬øUnir?‚Äù) y un recuadro donde se captura el nuevo valor que se asignar√° a todos los registros del cluster (‚ÄúNuevo valor de las celdas‚Äù).</p>
</div>
<div class="paragraph">
<p>OpenRefine asigna de forma predeterminada como nuevo valor aquel que presenta mayor n√∫mero de registros asociados. Esto no es necesariamente correcto. Por ejemplo, en el caso ‚ÄúCorcega‚Äù y ‚ÄúC√≥rcega‚Äù el valor correcto lleva tilde. Puede modificar el nuevo valor al que se unificar√° el agrupamiento haciendo click en el valor deseado si est√° listado o, en caso de ser diferente, editando directamente el recuadro ‚ÄúNuevo valor de las celdas‚Äù. Recuerde que todos los valores dentro de un agrupamiento dado se unificar√°n al valor escogido. Por ejemplo, en el caso de que los valores agrupados sean ‚ÄúNINGUNO‚Äù y ‚Äúninguno‚Äù, podr√≠a agrupar a un nuevo valor vac√≠o (pues ‚Äúninguno‚Äù no es un valor v√°lido para una provincia).</p>
</div>
<div class="paragraph">
<p>Explore los valores agrupados por el algoritmo y corrija los que considere apropiados, seleccionando el valor correcto y marcando la casilla ‚Äú¬øUnir?‚Äù.</p>
</div>
<div class="paragraph">
<p>Haga click sobre ‚ÄúUnir seleccionados y reagrupar‚Äù.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Importante"></i>
</td>
<td class="content">
Cuando se agrupan valores se debe tener mucho cuidado a la hora de corregir registros. Esto es particularmente cierto para los nombres cient√≠ficos, dado que variaciones en los nombres que podr√≠an verse como aparentes errores (por ejemplo, si se eval√∫a el campo ep√≠teto espec√≠fico, pueden tenerse dos palabras iguales con diferente terminaci√≥n ‚Äìum, ‚Äìus), no necesariamente lo sean (por ejemplo, si se eval√∫a tambi√©n el campo g√©nero podr√≠a encontrarse que esos ep√≠tetos se aplican a g√©neros distintos, y que ambos son v√°lidos). Por ello, si tiene dudas, consulte los registros completos. Y si a√∫n tiene dudas, consulte en la colecci√≥n. Otro ejemplo en que debe tenerse extremo cuidado es cuando se agrupan valores que difieren en el orden de las palabras. Un ejemplo t√≠pico se da en el campo de colectores. A√∫n cuando los agrupamientos pueden sugerir que ‚ÄúColector A y Colector B‚Äù es lo mismo que ‚ÄúColector B y Colector A‚Äù, ello puede no ser cierto, y el orden de los colectores puede tener en s√≠ un valor particular. Nuevamente, antes de unificar, es fundamental consultar con la colecci√≥n.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Una vez resueltos los agrupamientos, si ha decidido no agrupar algunas de las opciones, las ver√° nuevamente en el re-agrupamiento; en caso contrario, el programa le indicar√° que no se han encontrado agrupaciones con el m√©todo seleccionado. Puede cambiar el m√©todo y la funci√≥n que se utiliza para agrupar escogiendo entre las opciones del men√∫, como se muestra en la <a href="#img-fig-35">Figura 35</a>.</p>
</div>
<div id="img-fig-35" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-35.jpg" alt="Figura 35" width="800">
</div>
<div class="title">Figura 35</div>
</div>
<div class="paragraph">
<p>Pruebe agrupamientos con distintos m√©todos para limpiar los datos.</p>
</div>
<div class="paragraph">
<p>Para conocer los detalles de cada m√©todo de agrupamiento, puede <a href="https://github.com/OpenRefine/OpenRefine/wiki/Clustering-In-Depth">consultar el repositorio de OpenRefine</a> en GitHub.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sect-2.5">
<a class="anchor" href="#sect-2.5"></a>2.5. Deshacer y rehacer cambios</h3>
<div class="paragraph">
<p>Ahora que ya ha acumulado una serie de modificaciones al conjunto de datos, veamos c√≥mo se pueden deshacer y rehacer cambios.</p>
</div>
<div class="paragraph">
<p>En el men√∫ de arriba a la izquierda, abra la pesta√±a ‚ÄúDeshacer/Rehacer‚Äù, que est√° asociada a un n√∫mero que indica el n√∫mero de cambios acumulados hasta ahora. Ver√° entonces una lista de pasos realizados, como se muestra en la <a href="#img-fig-36">Figura 36a</a>.</p>
</div>
<div class="paragraph">
<p>Note que el paso resaltado en azul en la figura es el que determina el estado de los datos. Todos los pasos hasta el resaltado, inclusive, han sido aplicados a los datos. Todos aquellos pasos ubicados despu√©s del paso resaltado no han sido aplicados.</p>
</div>
<div class="sect3">
<h4 id="deshacer-pasos">
<a class="anchor" href="#deshacer-pasos"></a>2.5.1. Deshacer pasos</h4>
<div class="paragraph">
<p>Si quiere deshacer todo lo posterior a alg√∫n paso, simplemente haga click sobre el paso inmediatamente anterior. Por ejemplo, si quiere deshacer los √∫ltimos pasos a partir del paso 5, haga click en el paso 5, y los todos los posteriores se revertir√°n autom√°ticamente (<a href="#img-fig-36">Figura 36b</a>).</p>
</div>
<div id="img-fig-36" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-36.jpg" alt="Figura 36" width="551">
</div>
<div class="title">Figura 36</div>
</div>
<div class="paragraph">
<p>Para rehacer un paso luego de haberlo deshecho, simplemente haga click en ese paso, teniendo en cuenta que entonces se llevar√°n a cabo todos los pasos intermedios tambi√©n.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Importante"></i>
</td>
<td class="content">
El hacer y deshacer en OpenRefine trabaja sobre ‚Äúestados‚Äù. Eso quiere decir que se puede ir y volver a estados determinados, por ejemplo, el estado de los datos una vez que se han hecho ciertas modificaciones. Ello implica que si se vuelve a un estado anterior y luego se realiza una nueva modificaci√≥n a partir de ese estado, entonces perder√° los pasos originales y no podr√° recuperarlos. En el ejemplo de la <a href="#img-fig-36">Figura 36</a>, si se vuelve al paso 5 y luego realiza sobre los datos alguna otra operaci√≥n, no podr√° volver a los pasos 6 a 11 previos.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="guardar-pasos-para-rehacer-luego">
<a class="anchor" href="#guardar-pasos-para-rehacer-luego"></a>2.5.2. Guardar pasos para rehacer luego</h4>
<div class="paragraph">
<p>Es importante entonces que guarde sus pasos, especialmente para aquellos procesos m√°s complejos. Para ello, en la pesta√±a ‚ÄúDeshacer/Rehacer‚Äù, haga click en el bot√≥n ‚ÄúExtraer‚Ä¶‚Äù. Se abrir√° una nueva ventana, como se muestra en la <a href="#img-fig-37">Figura 37</a>, donde puede seleccionar los pasos que desea guardar. Los pasos est√°n dados en formato JSON  en el panel de la derecha.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p>JSON (Java Script Object Notation) es un formato que utiliza texto legible para los humanos para transmitir datos en la forma de pares de atributo:valor y de matrices de datos.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Puede marcar y desmarcar pasos en el panel de la izquierda para seleccionar los pasos de inter√©s. Copie las expresiones de los pasos de inter√©s que se muestran a la derecha a un procesador de texto (e.g., Notepad, MS Word, etc.) y gu√°rdelas para uso posterior (en caso de que no est√© familiarizado con el formato JSON, recuerde tomar nota de qu√© cambios representan esas expresiones).</p>
</div>
<div id="img-fig-37" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-37.jpg" alt="Figura 37" width="627">
</div>
<div class="title">Figura 37</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Importante"></i>
</td>
<td class="content">
Los cambios hechos a celdas particulares no tienen la opci√≥n de guardar expresiones. En el ejemplo anterior, <a href="#img-fig-37">Figura 37</a>, note que el cambio en una celda √∫nica del n√∫mero de cat√°logo figura en gris y no puede ser seleccionado. Esto es una limitaci√≥n actual de OpenRefine, por lo que si va a deshacer un cambio de esta naturaleza pero quiere rehacerlo luego, deber√° tomar nota usted mismo de cu√°l fue el cambio y en qu√© celda de forma separada (e.g, ‚ÄúCambi√© el n√∫mero de cat√°logo del registro X, de ‚Äú1234‚Äù a ‚Äú1236‚Äù‚Äù).
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rehacer-pasos-guardados">
<a class="anchor" href="#rehacer-pasos-guardados"></a>2.5.3. Rehacer pasos guardados</h4>
<div class="paragraph">
<p>Si desea rehacer pasos que tenga guardados (en formato JSON), dentro de la pesta√±a ‚ÄúDeshacer/Rehacer‚Äù haga click en el bot√≥n ‚ÄúAplicar‚Ä¶‚Äù. Se abrir√° entonces una ventana como la que se muestra en la <a href="#img-fig-38">Figura 38</a>, pero vac√≠a.</p>
</div>
<div class="paragraph">
<p>Pegue en el cuadro de texto la expresi√≥n deseada (copie y pegue lo que guard√≥ en su procesador de texto en el apartado anterior) y haga click en ‚ÄúEjecutar Operaciones‚Äù.</p>
</div>
<div id="img-fig-38" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-38.jpg" alt="Figura 38" width="626">
</div>
<div class="title">Figura 38</div>
</div>
<div class="paragraph">
<p>De este modo, puede rehacer pasos particulares o toda una rutina de trabajo, sobre el mismo conjunto de datos, o sobre otros conjuntos de datos (siempre y cuando las columnas sean las mismas).</p>
</div>
</div>
<div class="sect3">
<h4 id="reutilizar-expresiones-regulares">
<a class="anchor" href="#reutilizar-expresiones-regulares"></a>2.5.4. Reutilizar expresiones regulares</h4>
<div class="paragraph">
<p>En las secciones anteriores de esta gu√≠a (y en las siguientes), muchas funciones involucran utilizar expresiones regulares. Si bien el guardado de pasos es muy √∫til para repetir procesos, OpenRefine tambi√©n brinda un simple historial de expresiones regulares que se han utilizado previamente. Se puede acceder a esta lista de expresiones en cualquier ventana que uno abra a partir de una columna, si en dicha ventana se espera el uso de una expresi√≥n.</p>
</div>
<div class="paragraph">
<p>Por ejemplo, al armar una nueva columna a partir del campo <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">kingdom</span><span class="delimiter">"</span></span></code></span> (click en <span class="menuseq"><b class="menu">la ‚ñº azul en el campo</b>¬†<i class="fa fa-angle-right caret"></i> <b class="submenu">Editar columnas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Agregar columna basada en esta columna‚Ä¶</b></span> se abre una ventana como la mostrada en la (<a href="#img-fig-39">Figura 39a</a>).</p>
</div>
<div class="paragraph">
<p>All√≠, en la pesta√±a ‚ÄúHistorial‚Äù pueden verse listadas las expresiones regulares que se han utilizado sobre este o cualquier otro campo. Para reutilizar las expresiones simplemente hacer click en ‚ÄúReusar‚Äù.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Importante"></i>
</td>
<td class="content">
Las expresiones ser√°n incorporadas a los cuadros de texto tal cual fueron utilizadas antes, es decir, podr√≠an contener referencias a otros campos o par√°metros no pertinentes. Siempre debe revisar las expresiones para asegurarse de que la funci√≥n actuar√° sobre los campos y con los par√°metros deseados antes de ejecutar la acci√≥n.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Las distintas expresiones pueden ser destacadas haciendo click sobre la estrella que est√° a su izquierda (que se pintar√° de color amarillo, <a href="#img-fig-39">Figura 39a</a>). Las expresiones a las que se han asignado estrellas se listar√°n tambi√©n bajo el men√∫ ‚ÄúCon estrella‚Äù (<a href="#img-fig-39">Figura 39b</a>). Esta funci√≥n es muy √∫til cuando la lista de expresiones utilizadas es muy larga y dentro de ella quiere resaltar expresiones de uso m√°s frecuente.</p>
</div>
<div id="img-fig-39" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-39.jpg" alt="Figura 39" width="1180">
</div>
<div class="title">Figura 39</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Nota"></i>
</td>
<td class="content">
La lista de expresiones utilizadas se mantiene en el programa, de modo que puede volver a utilizarlas en el futuro a partir del historial o del men√∫ ‚ÄúCon estrella‚Äù.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="Banderas-y-estrellas">
<a class="anchor" href="#Banderas-y-estrellas"></a>2.6. Marcado de registros: banderas y estrellas</h3>
<div class="paragraph">
<p>OpenRefine ofrece la opci√≥n de marcar los distintos registros con banderas (flags) y/o estrellas (stars). Esta opci√≥n es a veces muy √∫til para reconocer registros o grupos de registros r√°pidamente.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Importante"></i>
</td>
<td class="content">
Las banderas y estrellas NO forman parte de los datos. Son solamente una herramienta que facilita el trabajo dentro del programa. Por ello, aunque el marcado se registra como un cambio en el historial de cambios del proyecto, cuando exporte los datos NO ver√° las columnas que corresponden a estas funciones. Es decir, si usted marc√≥ alg√∫n registro con una bandera, por ejemplo, no ver√° esa bandera ni ninguna otra marca indicadora de su existencia en los datos exportados.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="marcado-con-banderas-y-estrellas">
<a class="anchor" href="#marcado-con-banderas-y-estrellas"></a>2.6.1. Marcado con banderas y estrellas</h4>
<div class="paragraph">
<p>Las banderas y estrellas se encuentran dentro del campo ‚ÄúTodo‚Äù. Para marcar un registro con una bandera o estrella, simplemente haga click sobre el √≠cono correspondiente en ese registro (que se pondr√° de color amarillo).</p>
</div>
<div class="paragraph">
<p>Para desmarcar el registro, haga click nuevamente sobre el √≠cono (que volver√° a su color blanco original).</p>
</div>
<div class="paragraph">
<p>Tambi√©n puede marcar o desmarcar conjuntos de varios registros.</p>
</div>
<div class="paragraph">
<p>Para ello escoja alg√∫n criterio que los agrupe. Por ejemplo, si quiere marcar todos los registros del g√©nero Acacia, arme una faceta sobre el campo <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">genus</span><span class="delimiter">"</span></span></code></span> (haga click sobre <span class="menuseq"><b class="menu">la ‚ñº azul del campo</b>¬†<i class="fa fa-angle-right caret"></i> <b class="submenu">Facetas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Faceta de texto</b></span>).</p>
</div>
<div class="paragraph">
<p>En la faceta, seleccione el valor ‚ÄúAcacia‚Äù haciendo click en el valor (ver√° que en la ventana principal s√≥lo se mostrar√°n esos registros).</p>
</div>
<div class="paragraph">
<p>Para marcar todos esos registros con una bandera, haga click en <b class="menuref">la ‚ñº azul del campo ‚ÄúTodo‚Äù</b> y siga la siguiente ruta (<a href="#img-fig-40">Figura 40</a>):</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><span class="menuseq"><b class="menu">Editar filas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Marcar filas con bandera</b></span></p>
</div>
</div>
</div>
<div id="img-fig-40" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-40.jpg" alt="Figura 40" width="300">
</div>
<div class="title">Figura 40</div>
</div>
<div class="paragraph">
<p>Una vez que lo haya hecho, ver√° que todos los registros seleccionados est√°n marcados ahora con una bandera.</p>
</div>
<div class="paragraph">
<p>Para desmarcar todos esos registros, puede hacer click en <b class="menuref">la ‚ñº azul del campo ‚ÄúTodo‚Äù</b> y seguir la ruta:</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><span class="menuseq"><b class="menu">Editar filas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Desmarcar filas con bandera</b></span></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Para marcar y desmarcar registros con estrellas, siga el mismo procedimiento con ‚Äúestrellas‚Äù en lugar de ‚Äúbanderas‚Äù.</p>
</div>
</div>
<div class="sect3">
<h4 id="conservaci√≥n-de-banderas-y-estrellas-en-la-exportaci√≥n">
<a class="anchor" href="#conservaci%C3%B3n-de-banderas-y-estrellas-en-la-exportaci%C3%B3n"></a>2.6.2. Conservaci√≥n de banderas y estrellas en la exportaci√≥n</h4>
<div class="paragraph">
<p>Si desea marcar los registros de modo que al exportar se conserven las marcas, deber√° crear un nuevo campo que capture esa informaci√≥n. Puede, por ejemplo, hacer lo siguiente:</p>
</div>
<div class="paragraph">
<p>Cree un nuevo campo: sobre cualquier campo haga click en <span class="menuseq"><b class="menu">la ‚ñº azul</b>¬†<i class="fa fa-angle-right caret"></i> <b class="submenu">Editar columnas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Agregar columna basada en esta columna‚Ä¶</b></span></p>
</div>
<div class="paragraph">
<p>Se abrir√° una ventana como la mostrada en la <a href="#img-fig-41">Figura 41</a>. Asigne un nombre al campo. Por ejemplo, si sus banderas significan que ha detectado errores en los registros, puede llamarlo ‚ÄútieneError‚Äù.</p>
</div>
<div class="paragraph">
<p>En el cuadro de texto pegue la siguiente expresi√≥n:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="keyword">if</span>(row.flagged, <span class="string"><span class="delimiter">"</span><span class="content">yes</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">no</span><span class="delimiter">"</span></span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Esta expresi√≥n har√° que el campo nuevo tenga como valor ‚Äúyes‚Äù si usted ha asignado una bandera al registro y ‚Äúno‚Äù si no ha asignado una bandera.</p>
</div>
<div class="paragraph">
<p>Al oprimir ‚ÄúAceptar‚Äù su campo se habr√° creado. Verifique los valores que toma asignando a algunos registros una bandera.</p>
</div>
<div id="img-fig-41" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-41.jpg" alt="Figura 41" width="548">
</div>
<div class="title">Figura 41</div>
</div>
<div class="paragraph">
<p>Puede repetir el proceso creando otro campo para las estrellas, usando la expresi√≥n:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="keyword">if</span>(row.starred, <span class="string"><span class="delimiter">"</span><span class="content">yes</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">no</span><span class="delimiter">"</span></span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Para ver los pasos de exportaci√≥n de datos, vea la secci√≥n de <a href="#sect-3.2">Exportaci√≥n de datos y proyectos</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="uso-de-banderas-y-estrellas-para-eliminar-registros">
<a class="anchor" href="#uso-de-banderas-y-estrellas-para-eliminar-registros"></a>2.6.3. Uso de banderas y estrellas para eliminar registros</h4>
<div class="paragraph">
<p>Las banderas y estrellas se pueden utilizar para eliminar grupos de registros. Para ello, siga los siguientes pasos:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Marque con una bandera (o estrella) los registros deseados. Puede hacerlo uno por uno o en grupos a trav√©s del marcado dentro de facetas (ver m√°s arriba).</p>
</li>
<li>
<p>Cree una faceta para la bandera. Haga click en <span class="menuseq"><b class="menu">la ‚ñº azul sobre el campo ‚ÄúTodo‚Äù</b>¬†<i class="fa fa-angle-right caret"></i> <b class="submenu">Facetas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Faceta por bandera</b></span> (<a href="#img-fig-42">Figura 42a</a>).</p>
</li>
<li>
<p>En esta nueva faceta, a la izquierda, seleccione la opci√≥n ‚Äútrue‚Äù haciendo click sobre ella. Ello le mostrar√° los registros a los que se ha asignado una bandera.</p>
</li>
<li>
<p>Haga click nuevamente sobre <span class="menuseq"><b class="menu">la ‚ñº azul del campo ‚ÄúTodo‚Äù</b>¬†<i class="fa fa-angle-right caret"></i> <b class="submenu">Editar filas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Eliminar todas las filas que encajen</b></span> (<a href="#img-fig-42">Figura 42b</a>).</p>
</li>
</ol>
</div>
<div id="img-fig-42" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-42.jpg" alt="Figura 42" width="777">
</div>
<div class="title">Figura 42</div>
</div>
<div class="paragraph">
<p>De esta forma habr√° eliminado todos los registros que fueron marcados con una bandera.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="guardado-y-exportaci√≥n-de-datos-y-proyectos">
<a class="anchor" href="#guardado-y-exportaci%C3%B3n-de-datos-y-proyectos"></a>3. Guardado y exportaci√≥n de datos y proyectos</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Debe tener en cuenta que lo que guarda al usar el programa es el proyecto, y que ello no implica en ning√∫n caso que los cambios que realice vayan a verse reflejados autom√°ticamente en su base de datos original. Para ello, deber√° exportar los datos desde OpenRefine e importarlos nuevamente a su base de datos.</p>
</div>
<div class="sect2">
<h3 id="guardado-de-datos-y-proyectos">
<a class="anchor" href="#guardado-de-datos-y-proyectos"></a>3.1. Guardado de datos y proyectos</h3>
<div class="paragraph">
<p>Los proyectos con los que trabaja usando OpenRefine son guardados en su propia computadora de forma autom√°tica. En otras palabras, no existe un bot√≥n o un comando ‚ÄúGuardar‚Äù.</p>
</div>
<div class="paragraph">
<p>Los directorios en que se guardan los proyectos se listan a continuaci√≥n:</p>
</div>
<div class="paragraph">
<p><strong>Windows</strong>: dependiendo de la versi√≥n de Windows que utilice, los datos se encontrar√°n en uno de estos directorios:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>C:\Documents and Settings\(user id)\Local Settings\Application Data\OpenRefine</p>
</li>
<li>
<p>C:\Users\(user id)\AppData\Roaming\OpenRefine</p>
</li>
<li>
<p>C:\Users\(user id)\AppData\Local\OpenRefine</p>
</li>
<li>
<p>C:\Users\(user id)\OpenRefine</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>MacOS</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>~/Library/Application Support/OpenRefine/</p>
</li>
<li>
<p>~/Library/Application Support/Google/Refine/ (versions de Google Refine m√°s antiguas)</p>
</li>
<li>
<p>Ingreso a trav√©s de /var/log/daemon.log - grep para com.google.refine.Refine</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Linux</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>~/.local/share/openrefine/</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sect-3.2">
<a class="anchor" href="#sect-3.2"></a>3.2. Exportaci√≥n de datos y proyectos</h3>
<div class="paragraph">
<p>OpenRefine ofrece varias opciones para exportar los datos y proyectos. Se puede acceder a estas opciones en la esquina superior derecha de la ventana del programa, haciendo click en el bot√≥n ‚ÄúExportar‚Äù (<a href="#img-fig-43">Figura 43</a>).</p>
</div>
<div class="paragraph">
<p>Note que la primera opci√≥n, ‚ÄúExportar proyecto‚Äù, permite exportar el proyecto completo, mientras que otras opciones (e.g., delimitado por‚Ä¶ , Excel, etc.) permiten exportar los datos.</p>
</div>
<div id="img-fig-43" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-43.jpg" alt="Figura 43" width="251">
</div>
<div class="title">Figura 43</div>
</div>
<div class="paragraph">
<p>La exportaci√≥n de proyectos es √∫til cuando uno quiere abrir el mismo proyecto en OpenRefine en otra computadora.</p>
</div>
<div class="paragraph">
<p>Haciendo click en ‚ÄúExportar proyecto‚Äù se abrir√° una ventana en la que puede escoger si exportar como archivo local o si exportar a Google Drive (<a href="#img-fig-44">Figura 44</a>).</p>
</div>
<div id="img-fig-44" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-44.jpg" alt="Figura 44" width="393">
</div>
<div class="title">Figura 44</div>
</div>
<div class="paragraph">
<p>Escoja la opci√≥n deseada y haga click en ‚ÄúExportar‚Äù. El archivo exportado tendr√° una extensi√≥n .tar.gz, que s√≥lo puede ser abierto por el programa (no se descarga un archivo de datos que pueda abrir en un procesador de textos ni en una planilla de c√°lculo).</p>
</div>
<div class="paragraph">
<p>Para exportar los datos y poder abrirlos en otro programa, puede seguir cualquiera de las otras opciones, que resultar√°n en un archivo con uno de los formatos disponibles.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Importante"></i>
</td>
<td class="content">
La exportaci√≥n de datos se realizar√° teniendo en cuenta las facetas y filtros aplicados. Esto implica que si usted tiene abierta por ejemplo una faceta, s√≥lo los datos correspondientes a dicha faceta ser√°n exportados. Por lo tanto, para asegurarse de exportar todos los datos, recuerde cerrar todos los filtros y facetas antes de hacer la exportaci√≥n.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Para una exportaci√≥n m√°s personalizada, en el men√∫ ‚ÄúExportar‚Äù escoja ‚ÄúConfigurar exportaci√≥n‚Ä¶‚Äù. Se abrir√° una ventana como la mostrada en la <a href="#img-fig-45">Figura 45</a>, en la cual puede escoger una serie de opciones.</p>
</div>
<div id="img-fig-45" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-45.jpg" alt="Figura 45" width="626">
</div>
<div class="title">Figura 45</div>
</div>
<div class="paragraph">
<p>En la pesta√±a ‚ÄúContenido‚Äù puede elegir qu√© campos exportar y modificar ciertos par√°metros para cada campo individualmente.</p>
</div>
<div class="paragraph">
<p>Observe que en esta pesta√±a tambi√©n puede escoger ignorar todas las facetas y filtros al exportar, lo cual es muy √∫til en caso de que haya olvidado cerrar alguna.</p>
</div>
<div class="paragraph">
<p>Para descargar los datos, vaya a la pesta√±a ‚ÄúDescarga‚Äù, como se ve en la <a href="#img-fig-46">Figura 46</a>.</p>
</div>
<div id="img-fig-46" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-46.jpg" alt="Figura 46" width="627">
</div>
<div class="title">Figura 46</div>
</div>
<div class="paragraph">
<p>En esta pesta√±a puede seleccionar el formato de los datos para la descarga. Escoja el que prefiera y haga click en ‚ÄúDescargar‚Äù. Inmediatamente comenzar√° la descarga de los datos.</p>
</div>
<div class="paragraph">
<p>Tambi√©n, para ver una vista previa de los datos que descargar√°, puede hacer click en ‚ÄúVista previa‚Äù, y se abrir√° otra ventana en su navegador web donde podr√° ver una muestra de los datos a descargar.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sect-4">
<a class="anchor" href="#sect-4"></a>4. Consultas a servicios externos a trav√©s de URLs</h2>
<div class="sectionbody">
<div class="paragraph">
<p>OpenRefine ofrece la posibilidad de consultar fuentes externas, una funci√≥n que es muy √∫til cuando se intenta mejorar la calidad de los datos. Para el caso particular de datos sobre biodiversidad, permite, por ejemplo, validar nombres taxon√≥micos y geogr√°ficos contra fuentes de informaci√≥n que se consideren confiables, completar rangos taxon√≥micos y campos de geograf√≠a administrativa, georreferenciar, incorporar enlaces a im√°genes almacenadas en sitios web, entre otros.</p>
</div>
<div class="paragraph">
<p>En OpenRefine las consultas externas pueden realizarse por dos v√≠as: a trav√©s de URLs, o a trav√©s de servicios de reconciliaci√≥n. En esta gu√≠a s√≥lo se incluyen los m√©todos referidos a las consultas a trav√©s de URLs. Para ver explicaciones referidas al uso de algunos servicios de reconciliaci√≥n consultar versiones anteriores de este documento; tener en cuenta que esos servicios no han sido actualizados en concordancia con las actualizaciones de OpenRefine, y muchos no funcionan a partir de la versi√≥n 2.8 de OpenRefine.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Nota"></i>
</td>
<td class="content">
Debe recordarse que para poder realizar consultas a servicios que se encuentran en l√≠nea se requiere conexi√≥n a Internet.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Nota"></i>
</td>
<td class="content">
La velocidad a la que se obtienen los resultados de las consultas depende de la velocidad de respuesta del servicio en particular. De esta forma, si se quiere obtener informaci√≥n para muchos registros, el tiempo de la operaci√≥n ser√° prolongado. Para acortar tiempos, se pueden hacer comparaciones de registros contra el servicio deseado dentro de facetas, es decir, en fracciones particulares de los registros.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Nos referimos a consultas a trav√©s de URLs cuando el proceso implica proveer a OpenRefine con la direcci√≥n web (URL) de un determinado servicio y ciertos par√°metros m√≠nimos para obtener de dicho servicio un resultado.</p>
</div>
<div class="sect2">
<h3 id="resoluci√≥n-de-nombres-cient√≠ficos-usando-global-names-resolver">
<a class="anchor" href="#resoluci%C3%B3n-de-nombres-cient%C3%ADficos-usando-global-names-resolver"></a>4.1. Resoluci√≥n de nombres cient√≠ficos usando Global Names Resolver</h3>
<div class="paragraph">
<p>En el ejemplo siguiente, compararemos los nombres cient√≠ficos (contenidos en el campo <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">scientificName</span><span class="delimiter">"</span></span></code></span>) contra el servicio <a href="http://resolver.globalnames.org">Global Names Resolver</a> (de aqu√≠ en m√°s "GNR").</p>
</div>
<div class="paragraph">
<p>Para acortar el tiempo de consulta, cree una faceta para el campo <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">genus</span><span class="delimiter">"</span></span></code></span> (click en <span class="menuseq"><b class="menu">la ‚ñº azul</b>¬†<i class="fa fa-angle-right caret"></i> <b class="submenu">Facetas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Faceta de texto</b></span>) y dentro de ella escoja el g√©nero Cinna. En el conjunto de datos utilizado Cinna tiene 3 especies asociadas: <em>C. lateralis</em> (1 registro), <em>C. arundinacea</em> (6 registros) y <em>C. latifolia</em> (3 registros); puede verlas listadas en el campo <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">scientificName</span><span class="delimiter">"</span></span></code></span>.</p>
</div>
<div class="paragraph">
<p>Para comparar los nombres contra el GNR, haremos un llamado al servicio y capturaremos los resultados en un nuevo campo:</p>
</div>
<div class="paragraph">
<p>A partir del campo <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">scientificName</span><span class="delimiter">"</span></span></code></span>, cree una nueva columna a partir de una direcci√≥n URL haciendo click en <b class="menuref">la ‚ñº azul del campo</b> y siguiendo la siguiente ruta (<a href="#img-fig-47">Figura 47</a>):</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><span class="menuseq"><b class="menu">Editar columnas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Agregar columna accediendo a URLs‚Ä¶</b></span></p>
</div>
</div>
</div>
<div id="img-fig-47" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-47.jpg" alt="Figura 47" width="375">
</div>
<div class="title">Figura 47</div>
</div>
<div class="paragraph">
<p>Se abrir√° una ventana como la mostrada en la <a href="#img-fig-48">Figura 48</a>. All√≠, d√© un nombre al nuevo campo (por ejemplo, GNR_Json_sciName), y en el cuadro de texto coloque la siguiente expresi√≥n:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">http://resolver.globalnames.org/name_resolvers.json?names=</span><span class="delimiter">"</span></span> +
  escape(cells[<span class="string"><span class="delimiter">"</span><span class="content">scientificName</span><span class="delimiter">"</span></span>].value,<span class="string"><span class="delimiter">"</span><span class="content">url</span><span class="delimiter">"</span></span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dicha expresi√≥n indica que se har√° una consulta en el GNR utilizando como valores de comparaci√≥n aquellos que se encuentran en el campo <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">scientificName</span><span class="delimiter">"</span></span></code></span>. Es importante que el nombre del campo que utiliza en la expresi√≥n sea id√©ntico al nombre del campo del cual tomar√° los valores originales, o de otro modo el llamado ser√° infructuoso.</p>
</div>
<div id="img-fig-48" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-48.jpg" alt="Figura 48" width="549">
</div>
<div class="title">Figura 48</div>
</div>
<div class="paragraph">
<p>Note que en esta ventana, arriba a la derecha, tiene una opci√≥n para modificar el ‚ÄúTiempo de retraso‚Äù. Este valor indica el tiempo que transcurre entre llamados o consultas sucesivas que se hacen al servicio en cuesti√≥n. Por defecto, el valor es de 5000 milisegundos. Puede reducir este tiempo para acelerar el proceso de comparaci√≥n. Tenga en cuenta, sin embargo, que muchos servicios bloquean los llamados si √©stos ocurren muy cercanos en el tiempo, pues consideran que puede tratarse de un ataque. El m√°ximo n√∫mero de consultas que se pueden realizar por unidad de tiempo depende de cada servicio en particular.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Nota"></i>
</td>
<td class="content">
La expresi√≥n utilizada es muy general, y devolver√° los valores de todos los par√°metros que GNR provee respecto de un nombre cient√≠fico. Puede consultar dichos par√°metros en <a href="http://resolver.globalnames.org/api" class="bare">http://resolver.globalnames.org/api</a>. Si no quiere obtener en el resultado todos los valores, puede modificar la expresi√≥n especificando valores para todos o algunos de los par√°metros. Por ejemplo: GNR resuelve los nombres consultando diferentes fuentes, a las que asigna identificadores (data_source_id); si s√≥lo quiere obtener los resultados provenientes de la fuente Catalogue of Life (que en GNR tiene id=1), puede utilizar la siguiente expresi√≥n:
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">http://resolver.globalnames.org/name_resolvers.json?names=</span><span class="delimiter">"</span></span> +
  escape(cells[<span class="string"><span class="delimiter">"</span><span class="content">scientificName</span><span class="delimiter">"</span></span>].value,<span class="string"><span class="delimiter">"</span><span class="content">url</span><span class="delimiter">"</span></span>) +
  <span class="string"><span class="delimiter">"</span><span class="content">&amp;data_source_ids=1</span><span class="delimiter">"</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Una vez que haya creado el nuevo campo con la expresi√≥n general, ver√° que contiene, en formato JSON, los resultados de la consulta en GNR para cada nombre, con todos los par√°metros y valores que GNR reporta.</p>
</div>
<div class="paragraph">
<p>Para poder trabajar con esto m√°s c√≥modamente, debemos extraer de all√≠ los valores de inter√©s.</p>
</div>
<div class="paragraph">
<p>Dado que GNR consulta varias fuentes de nombres taxon√≥micos, nos interesa saber cu√°l es el nombre cient√≠fico que figura en cada fuente. Algunas fuentes pueden tener listado el nombre pero considerarlo inv√°lido y proveer el nombre correcto. Entonces, extraeremos del resultado en JSON, en un nuevo campo, los siguientes valores:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Fuente consultada: "data_source_title"</p>
</li>
<li>
<p>Nombre encontrado en la fuente: "name_string"</p>
</li>
<li>
<p>Nombre aceptado por la fuente: "current_name_string"</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Para ello, a partir del campo en JSON (en el ejemplo, GNR_Json_sciName), cree un nuevo campo (haga click en <span class="menuseq"><b class="menu">la ‚ñº azul</b>¬†<i class="fa fa-angle-right caret"></i> <b class="submenu">Editar columnas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Agregar columna basada en esta columna</b></span>).</p>
</div>
<div class="paragraph">
<p>D√© un nombre al nuevo campo (por ejemplo, GNR_sciName_options) y en el cuadro de texto, coloque la siguiente expresi√≥n (<a href="#img-fig-49">Figura 49</a>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">forEach(value.parseJson().get(<span class="string"><span class="delimiter">"</span><span class="content">data</span><span class="delimiter">"</span></span>)[<span class="integer">0</span>].get(<span class="string"><span class="delimiter">"</span><span class="content">results</span><span class="delimiter">"</span></span>), v,
  v.get(<span class="string"><span class="delimiter">"</span><span class="content">data_source_title</span><span class="delimiter">"</span></span>) + <span class="string"><span class="delimiter">"</span><span class="content">; </span><span class="delimiter">"</span></span> +
  v.get(<span class="string"><span class="delimiter">"</span><span class="content">name_string</span><span class="delimiter">"</span></span>) + <span class="string"><span class="delimiter">"</span><span class="content">; </span><span class="delimiter">"</span></span> +
  <span class="keyword">if</span>(isBlank(v.get(<span class="string"><span class="delimiter">"</span><span class="content">current_name_string</span><span class="delimiter">"</span></span>)), <span class="string"><span class="delimiter">"</span><span class="delimiter">"</span></span>, v.get(<span class="string"><span class="delimiter">"</span><span class="content">current_name_string</span><span class="delimiter">"</span></span>)))
.join(<span class="string"><span class="delimiter">"</span><span class="content"> | </span><span class="delimiter">"</span></span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dicha expresi√≥n analiza la cadena en formato JSON, que tiene dentro de su estructura secciones ‚Äúdata‚Äù y dentro de esta ‚Äúresults‚Äù ‚Äìun ‚Äúresult‚Äù proveniente de cada fuente consultada (por ejemplo, un ‚Äúresult‚Äù de Catalogue of Life). Dentro de cada secci√≥n ‚Äúresults‚Äù extrae los valores de inter√©s (‚Äúdata_source_title‚Äù, ‚Äúname_string‚Äù y ‚Äúcurrent_name_string‚Äù) y los separa con un ‚Äú;‚Äù. Como no todas las fuentes proveen un nombre aceptado (‚Äúcurrent_name_string‚Äù), la expresi√≥n <span class="CodeRay highlight"><code data-lang="javascript"><span class="keyword">if</span></code></span> especifica que si ese par√°metro es nulo debe dejarse el espacio vac√≠o (<span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="delimiter">"</span></span></code></span>), y si no, colocar el valor extra√≠do. Por √∫ltimo, une los grupos de valores extra√≠dos en una √∫nica cadena de texto, separados por un <span class="CodeRay highlight"><code data-lang="javascript"><span class="error">¬†</span>|<span class="error">¬†</span></code></span>.</p>
</div>
<div id="img-fig-49" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-49.jpg" alt="Figura 49" width="548">
</div>
<div class="title">Figura 49</div>
</div>
<div class="paragraph">
<p>Una vez que haya creado el campo, ver√° que contiene los valores de inter√©s extra√≠dos de GNR separados por ' | '. Por ejemplo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>uBio NameBank; Cinna lateralis; | Catalogue of Life; Cinna lateralis Walter; Andropogon virginicus L. | ITIS; Cinna lateralis Walter; Andropogon virginicus L. | GBIF Backbone Taxonomy; Cinna lateralis Walter; Andropogon virginicus L. | EOL; Cinna lateralis Walter; | Tropicos - Missouri Botanical Garden; Cinna lateralis Walter; | The International Plant Names Index; Cinna lateralis Walter; | uBio NameBank; Cinna lateralis Walter; | uBio NameBank; Cinna lateralis Walter, 1788; | Arctos; Cinna lateralis Walter;</pre>
</div>
</div>
<div class="paragraph">
<p>Note que algunas fuentes encuentran el nombre pero no proveen un nombre aceptado, por ejemplo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>uBio NameBank; Cinna lateralis;</pre>
</div>
</div>
<div class="paragraph">
<p>no tiene un valor en el tercer lugar, mientras que:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Catalogue of Life; Cinna lateralis Walter; Andropogon virginicus L.</pre>
</div>
</div>
<div class="paragraph">
<p>provee el nombre encontrado y el nombre v√°lido.</p>
</div>
<div class="paragraph">
<p>Note adem√°s que algunas fuentes tienen m√°s de una variante asociada al nombre, por ejemplo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>uBio NameBank; Cinna lateralis;
uBio NameBank; Cinna lateralis Walter;
uBio NameBank; Cinna lateralis Walter, 1788;</pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Importante"></i>
</td>
<td class="content">
No todos los nombres ser√°n necesariamente encontrados en todas las fuentes consultadas, por lo que el n√∫mero de fuentes variar√° de un nombre al otro. En consecuencia, la ubicaci√≥n de las fuentes en la cadena de texto no ser√° homog√©nea de un registro al otro. Una consecuencia de esto es que si usted quiere luego separar el contenido en campos distintos de acuerdo a la fuente consultada (e.g., un campo para ITIS, uno para Catalogue of Life, etc.), no podr√° hacerlo de modo que cada nuevo campo tenga los datos de una misma y √∫nica fuente.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>En este caso, le conviene en cambio hacer varios llamados a GNR separados, cada uno especificando una fuente determinada. Como se menciona m√°s arriba, si quiere por ejemplo s√≥lo consultar los valores dados por Catalogue of Life, use la expresi√≥n siguiente:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">http://resolver.globalnames.org/name_resolvers.json?names=</span><span class="delimiter">"</span></span> +
  escape(cells[<span class="string"><span class="delimiter">"</span><span class="content">scientificName</span><span class="delimiter">"</span></span>].value,<span class="string"><span class="delimiter">"</span><span class="content">url</span><span class="delimiter">"</span></span>) +
  <span class="string"><span class="delimiter">"</span><span class="content">&amp;data_source_ids=1</span><span class="delimiter">"</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>y luego arme un nuevo campo extrayendo los resultados de inter√©s, usando la expresi√≥n:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">forEach(value.parseJson().get(<span class="string"><span class="delimiter">"</span><span class="content">data</span><span class="delimiter">"</span></span>)[<span class="integer">0</span>].get(<span class="string"><span class="delimiter">"</span><span class="content">results</span><span class="delimiter">"</span></span>), v,
  v.get(<span class="string"><span class="delimiter">"</span><span class="content">data_source_title</span><span class="delimiter">"</span></span>) + <span class="string"><span class="delimiter">"</span><span class="content">; </span><span class="delimiter">"</span></span> +
  v.get(<span class="string"><span class="delimiter">"</span><span class="content">name_string</span><span class="delimiter">"</span></span>) + <span class="string"><span class="delimiter">"</span><span class="content">; </span><span class="delimiter">"</span></span> +
  <span class="keyword">if</span>(isBlank(v.get(<span class="string"><span class="delimiter">"</span><span class="content">current_name_string</span><span class="delimiter">"</span></span>)), <span class="string"><span class="delimiter">"</span><span class="delimiter">"</span></span>, v.get(<span class="string"><span class="delimiter">"</span><span class="content">current_name_string</span><span class="delimiter">"</span></span>)))
.join(<span class="string"><span class="delimiter">"</span><span class="content"> | </span><span class="delimiter">"</span></span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>A partir de los resultados obtenidos, puede extraer los nombres separando la nueva columna en columnas distintas utilizando separadores apropiados (ver <a href="#Divisi%C3%B3n-de-columnas">Divisiones</a> en la secci√≥n 2.1.3).</p>
</div>
</div>
<div class="sect2">
<h3 id="georreferenciaci√≥n-usando-geolocate">
<a class="anchor" href="#georreferenciaci%C3%B3n-usando-geolocate"></a>4.2. Georreferenciaci√≥n usando GEOLocate</h3>
<div class="paragraph">
<p>En este ejemplo, para facilitar la explicaci√≥n y reducir el tiempo de consulta al servicio, construiremos previamente dos facetas. La primera sobre el campo <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">country</span><span class="delimiter">"</span></span></code></span>, dentro de la cual seleccionaremos el valor ‚ÄúArgentina‚Äù. La segunda faceta ser√° sobre el campo <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">genus</span><span class="delimiter">"</span></span></code></span>, dentro de la cual seleccionaremos el valor ‚ÄúAcacia‚Äù. Una vez aplicadas ambas facetas y escogidos los valores, ver√° que en la ventana principal s√≥lo se muestra un subconjunto de registros que cumplen estas condiciones simult√°neamente.</p>
</div>
<div class="paragraph">
<p>Llevaremos a cabo la georreferenciaci√≥n a partir del campo <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">locality</span><span class="delimiter">"</span></span></code></span>. Para ello, cree un nuevo campo a partir de √©ste siguiendo la ruta: click en <span class="menuseq"><b class="menu">la ‚ñº azul</b>¬†<i class="fa fa-angle-right caret"></i> <b class="submenu">Editar columnas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Agregar columna accediendo a URLs‚Ä¶</b></span>.</p>
</div>
<div class="paragraph">
<p>Se abrir√° una nueva ventana (<a href="#img-fig-50">Figura 50</a>). All√≠ d√© un nombre al nuevo campo, por ejemplo ‚ÄúGeoLocate_Json_georref‚Äù, y pegue en el cuadro de texto la siguiente expresi√≥n:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">http://www.geo-locate.org/webservices/geolocatesvcv2/glcwrap.aspx?Country=Argentina&amp;fmt=json&amp;Locality=</span><span class="delimiter">"</span></span> +
  escape(value,<span class="string"><span class="delimiter">'</span><span class="content">url</span><span class="delimiter">'</span></span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>En esta expresi√≥n, <code>fmt</code> indica el formato en el que el resultado ser√° devuelto por el servicio. GEOLocate ofrece dos posibles formatos, JSON y GeoJSON.</p>
</div>
<div id="img-fig-50" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-50.jpg" alt="Figura 50" width="548">
</div>
<div class="title">Figura 50</div>
</div>
<div class="paragraph">
<p>Una vez que haya creado el nuevo campo con la expresi√≥n general, ver√° que contiene, en formato JSON, los resultados de la consulta en GEOLocate para cada localidad, con todos los par√°metros y valores que este servicio reporta.</p>
</div>
<div class="paragraph">
<p>En los resultados puede tener tres casos:</p>
</div>
<div class="paragraph">
<p><strong>Caso 1)</strong> Ning√∫n resultado encontrado. Ello quiere decir que GEOLocate no ha podido ubicar la localidad de inter√©s. En la celda correspondiente ver√° lo siguiente:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">{
  <span class="key"><span class="delimiter">"</span><span class="content">engineVersion</span><span class="delimiter">"</span></span> : <span class="string"><span class="delimiter">"</span><span class="content">GLC:7.0|U:1.01374|eng:1.0</span><span class="delimiter">"</span></span>,
  <span class="key"><span class="delimiter">"</span><span class="content">numResults</span><span class="delimiter">"</span></span> : <span class="integer">0</span>, <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="key"><span class="delimiter">"</span><span class="content">executionTimems</span><span class="delimiter">"</span></span> : <span class="float">578.1462</span>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td>
<i class="conum" data-value="1"></i><b>1</b>
</td>
<td>Ning√∫n resultado encontrado.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Caso 2)</strong> Un √∫nico resultado encontrado. En la celda correspondiente ver√°, por ejemplo, lo siguiente:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">{
  <span class="key"><span class="delimiter">"</span><span class="content">engineVersion</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">GLC:7.0|U:1.01374|eng:1.0</span><span class="delimiter">"</span></span>,
  <span class="key"><span class="delimiter">"</span><span class="content">numResults</span><span class="delimiter">"</span></span>: <span class="integer">1</span>,
  <span class="key"><span class="delimiter">"</span><span class="content">executionTimems</span><span class="delimiter">"</span></span>: <span class="float">484.3969</span>,
  <span class="key"><span class="delimiter">"</span><span class="content">resultSet</span><span class="delimiter">"</span></span>: {
    <span class="key"><span class="delimiter">"</span><span class="content">type</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">FeatureCollection</span><span class="delimiter">"</span></span>,
    <span class="key"><span class="delimiter">"</span><span class="content">features</span><span class="delimiter">"</span></span>: [
      {
        <span class="key"><span class="delimiter">"</span><span class="content">type</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">Feature</span><span class="delimiter">"</span></span>,
        <span class="key"><span class="delimiter">"</span><span class="content">geometry</span><span class="delimiter">"</span></span>: {
          <span class="key"><span class="delimiter">"</span><span class="content">type</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">Point</span><span class="delimiter">"</span></span>,
          <span class="key"><span class="delimiter">"</span><span class="content">coordinates</span><span class="delimiter">"</span></span>: [ -<span class="float">64.471941</span>, -<span class="float">23.643418</span> ] <i class="conum" data-value="1"></i><b>(1)</b>
        },
        <span class="key"><span class="delimiter">"</span><span class="content">properties</span><span class="delimiter">"</span></span>: {
          <span class="key"><span class="delimiter">"</span><span class="content">parsePattern</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">YUTO</span><span class="delimiter">"</span></span>, <i class="conum" data-value="2"></i><b>(2)</b>
          <span class="key"><span class="delimiter">"</span><span class="content">precision</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">High</span><span class="delimiter">"</span></span>,
          <span class="key"><span class="delimiter">"</span><span class="content">score</span><span class="delimiter">"</span></span>: <span class="integer">79</span>,
          <span class="key"><span class="delimiter">"</span><span class="content">uncertaintyRadiusMeters</span><span class="delimiter">"</span></span>: <span class="integer">3036</span>, <i class="conum" data-value="3"></i><b>(3)</b>
          <span class="key"><span class="delimiter">"</span><span class="content">uncertaintyPolygon</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">Unavailable</span><span class="delimiter">"</span></span>, <i class="conum" data-value="4"></i><b>(4)</b>
          <span class="key"><span class="delimiter">"</span><span class="content">displacedDistanceMiles</span><span class="delimiter">"</span></span>: <span class="integer">0</span>, <i class="conum" data-value="5"></i><b>(5)</b>
          <span class="key"><span class="delimiter">"</span><span class="content">displacedHeadingDegrees</span><span class="delimiter">"</span></span>: <span class="integer">0</span>,
          <span class="key"><span class="delimiter">"</span><span class="content">debug</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">:GazPartMatch=False|:inAdm=True|:Adm=JUJUY|:NPExtent=5040|:NP=YUTO|:KFID=|YUTO</span><span class="delimiter">"</span></span> <i class="conum" data-value="6"></i><b>(6)</b>
        }
      }
    ],
    <span class="key"><span class="delimiter">"</span><span class="content">crs</span><span class="delimiter">"</span></span>: { <span class="key"><span class="delimiter">"</span><span class="content">type</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">EPSG</span><span class="delimiter">"</span></span>, <span class="key"><span class="delimiter">"</span><span class="content">properties</span><span class="delimiter">"</span></span>: { <span class="key"><span class="delimiter">"</span><span class="content">code</span><span class="delimiter">"</span></span>: <span class="integer">4326</span> } }
  }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td>
<i class="conum" data-value="1"></i><b>1</b>
</td>
<td>Las coordenadas: <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">coordinates</span><span class="delimiter">"</span></span>: [-<span class="float">64.471941</span>, -<span class="float">23.643418</span>]</code></span>
</td>
</tr>
<tr>
<td>
<i class="conum" data-value="2"></i><b>2</b>
</td>
<td>Las localidad original que consult√≥: <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">parsePattern</span><span class="delimiter">"</span></span> : <span class="string"><span class="delimiter">"</span><span class="content">YUTO</span><span class="delimiter">"</span></span></code></span>
</td>
</tr>
<tr>
<td>
<i class="conum" data-value="3"></i><b>3</b>
</td>
<td>El radio de incerteza en metros: <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">uncertaintyRadiusMeters</span><span class="delimiter">"</span></span> : <span class="integer">3036</span></code></span>
</td>
</tr>
<tr>
<td>
<i class="conum" data-value="4"></i><b>4</b>
</td>
<td>El pol√≠gono de incerteza asociado: <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">uncertaintyPolygon</span><span class="delimiter">"</span></span> : <span class="string"><span class="delimiter">"</span><span class="content">Unavailable</span><span class="delimiter">"</span></span></code></span>, en este caso no disponible.</td>
</tr>
<tr>
<td>
<i class="conum" data-value="5"></i><b>5</b>
</td>
<td>Los desplazamientos: distancia en millas y grados en una direcci√≥n: <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">displacedDistanceMiles</span><span class="delimiter">"</span></span> : <span class="integer">0</span>, <span class="key"><span class="delimiter">"</span><span class="content">displacedHeadingDegrees</span><span class="delimiter">"</span></span> : <span class="integer">0</span></code></span>, en este caso con valores <code>0</code> porque no se especifica desplazamiento de ning√∫n tipo en la localidad (e.g., 45km de Yuto, o 45km N Yuto).</td>
</tr>
<tr>
<td>
<i class="conum" data-value="6"></i><b>6</b>
</td>
<td>La correspondencia en el gacetero consultado: <code>GazPartMatch</code>, y en √©ste la divisi√≥n administrativa bajo la cual se encontr√≥ la localidad: <code>|:Adm=JUJUY|</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Caso 3)</strong> Varios resultados encontrados para un mismo valor de localidad. Esto sucede com√∫nmente cuando no se especifican en la consulta niveles administrativos por debajo de pa√≠s (e.g., podr√≠a haber en un mismo pa√≠s varios lugares con el mismo nombre). Un ejemplo ser√≠a:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">{
  <span class="key"><span class="delimiter">"</span><span class="content">engineVersion</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">GLC:7.0|U:1.01374|eng:1.0</span><span class="delimiter">"</span></span>,
  <span class="key"><span class="delimiter">"</span><span class="content">numResults</span><span class="delimiter">"</span></span>: <span class="integer">3</span>, <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="key"><span class="delimiter">"</span><span class="content">executionTimems</span><span class="delimiter">"</span></span>: <span class="float">468.7555</span>,
  <span class="key"><span class="delimiter">"</span><span class="content">resultSet</span><span class="delimiter">"</span></span>: {
    <span class="key"><span class="delimiter">"</span><span class="content">type</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">FeatureCollection</span><span class="delimiter">"</span></span>,
    <span class="key"><span class="delimiter">"</span><span class="content">features</span><span class="delimiter">"</span></span>: [
      {
        <span class="key"><span class="delimiter">"</span><span class="content">type</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">Feature</span><span class="delimiter">"</span></span>,
        <span class="key"><span class="delimiter">"</span><span class="content">geometry</span><span class="delimiter">"</span></span>: {
          <span class="key"><span class="delimiter">"</span><span class="content">type</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">Point</span><span class="delimiter">"</span></span>,
          <span class="key"><span class="delimiter">"</span><span class="content">coordinates</span><span class="delimiter">"</span></span>: [ -<span class="float">64.158097</span>, -<span class="float">26.21252</span> ] <i class="conum" data-value="2"></i><b>(2)</b>
        },
        <span class="key"><span class="delimiter">"</span><span class="content">properties</span><span class="delimiter">"</span></span>: {
          <span class="key"><span class="delimiter">"</span><span class="content">parsePattern</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">TARTAGAL</span><span class="delimiter">"</span></span>, <i class="conum" data-value="3"></i><b>(3)</b>
          <span class="key"><span class="delimiter">"</span><span class="content">precision</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">High</span><span class="delimiter">"</span></span>,
          <span class="key"><span class="delimiter">"</span><span class="content">score</span><span class="delimiter">"</span></span>: <span class="integer">83</span>,
          <span class="key"><span class="delimiter">"</span><span class="content">uncertaintyRadiusMeters</span><span class="delimiter">"</span></span>: <span class="integer">301</span>,
          <span class="key"><span class="delimiter">"</span><span class="content">uncertaintyPolygon</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">Unavailable</span><span class="delimiter">"</span></span>,
          <span class="key"><span class="delimiter">"</span><span class="content">displacedDistanceMiles</span><span class="delimiter">"</span></span>: <span class="integer">0</span>,
          <span class="key"><span class="delimiter">"</span><span class="content">displacedHeadingDegrees</span><span class="delimiter">"</span></span>: <span class="integer">0</span>,
          <span class="key"><span class="delimiter">"</span><span class="content">debug</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">:GazPartMatch=False|:inAdm=True|:Adm=SANTIAGO DEL ESTERO|:NPExtent=500|:NP=TARTAGAL|:KFID=|TARTAGAL</span><span class="delimiter">"</span></span> <i class="conum" data-value="4"></i><b>(4)</b>
        }
      },
      {
        <span class="key"><span class="delimiter">"</span><span class="content">type</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">Feature</span><span class="delimiter">"</span></span>,
        <span class="key"><span class="delimiter">"</span><span class="content">geometry</span><span class="delimiter">"</span></span>: {
          <span class="key"><span class="delimiter">"</span><span class="content">type</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">Point</span><span class="delimiter">"</span></span>,
          <span class="key"><span class="delimiter">"</span><span class="content">coordinates</span><span class="delimiter">"</span></span>: [ -<span class="float">59.846115</span>, -<span class="float">28.671732</span> ] <i class="conum" data-value="2"></i><b>(2)</b>
        },
        <span class="key"><span class="delimiter">"</span><span class="content">properties</span><span class="delimiter">"</span></span>: {
          <span class="key"><span class="delimiter">"</span><span class="content">parsePattern</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">TARTAGAL</span><span class="delimiter">"</span></span>, <i class="conum" data-value="3"></i><b>(3)</b>
          <span class="key"><span class="delimiter">"</span><span class="content">precision</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">High</span><span class="delimiter">"</span></span>,
          <span class="key"><span class="delimiter">"</span><span class="content">score</span><span class="delimiter">"</span></span>: <span class="integer">83</span>,
          <span class="key"><span class="delimiter">"</span><span class="content">uncertaintyRadiusMeters</span><span class="delimiter">"</span></span>: <span class="integer">3036</span>,
          <span class="key"><span class="delimiter">"</span><span class="content">uncertaintyPolygon</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">Unavailable</span><span class="delimiter">"</span></span>,
          <span class="key"><span class="delimiter">"</span><span class="content">displacedDistanceMiles</span><span class="delimiter">"</span></span>: <span class="integer">0</span>,
          <span class="key"><span class="delimiter">"</span><span class="content">displacedHeadingDegrees</span><span class="delimiter">"</span></span>: <span class="integer">0</span>,
          <span class="key"><span class="delimiter">"</span><span class="content">debug</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">:GazPartMatch=False|:inAdm=True|:Adm=SANTA FE|:NPExtent=5040|:NP=TARTAGAL|:KFID=|TARTAGAL</span><span class="delimiter">"</span></span> <i class="conum" data-value="4"></i><b>(4)</b>
        }
      },
      {
        <span class="key"><span class="delimiter">"</span><span class="content">type</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">Feature</span><span class="delimiter">"</span></span>,
        <span class="key"><span class="delimiter">"</span><span class="content">geometry</span><span class="delimiter">"</span></span>: {
          <span class="key"><span class="delimiter">"</span><span class="content">type</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">Point</span><span class="delimiter">"</span></span>,
          <span class="key"><span class="delimiter">"</span><span class="content">coordinates</span><span class="delimiter">"</span></span>: [ -<span class="float">63.801314</span>, -<span class="float">22.516365</span> ] <i class="conum" data-value="2"></i><b>(2)</b>
        },
        <span class="key"><span class="delimiter">"</span><span class="content">properties</span><span class="delimiter">"</span></span>: {
          <span class="key"><span class="delimiter">"</span><span class="content">parsePattern</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">TARTAGAL</span><span class="delimiter">"</span></span>, <i class="conum" data-value="3"></i><b>(3)</b>
          <span class="key"><span class="delimiter">"</span><span class="content">precision</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">High</span><span class="delimiter">"</span></span>,
          <span class="key"><span class="delimiter">"</span><span class="content">score</span><span class="delimiter">"</span></span>: <span class="integer">83</span>,
          <span class="key"><span class="delimiter">"</span><span class="content">uncertaintyRadiusMeters</span><span class="delimiter">"</span></span>: <span class="integer">3036</span>,
          <span class="key"><span class="delimiter">"</span><span class="content">uncertaintyPolygon</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">Unavailable</span><span class="delimiter">"</span></span>,
          <span class="key"><span class="delimiter">"</span><span class="content">displacedDistanceMiles</span><span class="delimiter">"</span></span>: <span class="integer">0</span>,
          <span class="key"><span class="delimiter">"</span><span class="content">displacedHeadingDegrees</span><span class="delimiter">"</span></span>: <span class="integer">0</span>,
          <span class="key"><span class="delimiter">"</span><span class="content">debug</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">:GazPartMatch=False|:inAdm=True|:Adm=SALTA|:NPExtent=5040|:NP=TARTAGAL|:KFID=|TARTAGAL</span><span class="delimiter">"</span></span> <i class="conum" data-value="4"></i><b>(4)</b>
        }
      }
    ],
    <span class="key"><span class="delimiter">"</span><span class="content">crs</span><span class="delimiter">"</span></span>: { <span class="key"><span class="delimiter">"</span><span class="content">type</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">EPSG</span><span class="delimiter">"</span></span>, <span class="key"><span class="delimiter">"</span><span class="content">properties</span><span class="delimiter">"</span></span>: { <span class="key"><span class="delimiter">"</span><span class="content">code</span><span class="delimiter">"</span></span>: <span class="integer">4326</span> } }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note que los tres resultados del ejemplo corresponden a provincias distintas en las que se encuentra una localidad ‚ÄúTartagal‚Äù, puede comparar las coordenadas para cada una.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Nota"></i>
</td>
<td class="content">
<div class="title">Visualizando JSON</div>
<div class="paragraph">
<p>Para visualizar la estructura de los resultados en JSON de modo m√°s amigable, puede probar copiando el resultado de alguna celda en un analizador de JSON en l√≠nea. Existen muchas opciones, una de ellas es <a href="http://json.parser.online.fr/" class="bare">http://json.parser.online.fr/</a>. All√≠, seleccionando distintas opciones arriba a la derecha podr√° distinguir mejor la estructura, cu√°les son los objetos, los arreglos y las cadenas de texto y c√≥mo est√°n relacionados unos con otros (<a href="#img-fig-51">Figura 51</a>). Esto puede ser muy √∫til a la hora de armar expresiones para desglosar el contenido de los campos en nuevos campos sin perder informaci√≥n.</p>
</div>
</td>
</tr>
</table>
</div>
<div id="img-fig-51" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-51.png" alt="Figura 51" width="900">
</div>
<div class="title">Figura 51</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Nota"></i>
</td>
<td class="content">
La expresi√≥n utilizada es muy simple y s√≥lo le pide al servicio que resuelva la georreferenciaci√≥n en base al campo localidad y teniendo como valor fijo ‚ÄúArgentina‚Äù para el campo pa√≠s, pero sin especificar los valores de otros campos geogr√°ficos. Sin embargo, todos los campos se pueden incluir en la expresi√≥n para obtener resultados m√°s espec√≠ficos. Ello puede hacerse de dos maneras:
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Establecer los valores de los campos como valores fijos, como hicimos con el pa√≠s, agregando luego por ejemplo: <code>&amp;state=VALOR</code> donde VALOR es el valor fijo que uno establece (e.g., ‚ÄúC√≥rdoba‚Äù). Esto restringir√° los resultados en funci√≥n de esos par√°metros.</p>
</li>
<li>
<p>Incluir los campos como valores a consultar, en cuyo caso para cada campo hay que incluir como valor: <span class="CodeRay highlight"><code data-lang="javascript">escape(cells.NOMBREDELCAMPO.value,<span class="string"><span class="delimiter">'</span><span class="content">url</span><span class="delimiter">'</span></span>)</code></span></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>La expresi√≥n con todos los campos se ver√° entonces como:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">http://www.geo-locate.org/webservices/geolocatesvcv2/glcwrap.aspx?country=Argentina&amp;state=</span><span class="delimiter">"</span></span> +
  escape(cells.stateProvince.value,<span class="string"><span class="delimiter">'</span><span class="content">url</span><span class="delimiter">'</span></span>)+<span class="string"><span class="delimiter">"</span><span class="content">&amp;locality=</span><span class="delimiter">"</span></span>+escape(cells.locality.value,<span class="string"><span class="delimiter">'</span><span class="content">url</span><span class="delimiter">'</span></span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note que el nombre del campo ser√° el que tiene en su base de datos. Note tambi√©n que en la base de datos dada para este ejercicio no hay un campo correspondiente a <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">county</span><span class="delimiter">"</span></span></code></span>, pero GEOLocate permite incluirlo si lo hubiera.</p>
</div>
<div class="paragraph">
<p>Para poder trabajar con estos resultados m√°s c√≥modamente, debemos extraer de all√≠ los valores de inter√©s. En este paso debe tener cuidado. Debido a que no especificamos todos los campos geogr√°ficos en la consulta a GEOLocate, recuerde que los registros pueden tener m√°s de un resultado posible, y que cada resultado tiene sus propios par√°metros de georreferenciaci√≥n.</p>
</div>
<div class="paragraph">
<p>A modo de ejemplo, extraeremos en nuevos campos los valores de las coordenadas. (El conjunto de datos provisto para realizar los ejercicios de esta gu√≠a contiene campos originales de latitud y longitud provistos por la fuente, puede utilizarlos para contrastar los resultados obtenidos utilizando GEOLocate).</p>
</div>
<div class="paragraph">
<p>Para extraer las coordenadas puede seguir dos m√©todos: 1) extraer latitud y longitud conjuntamente y luego separar; o 2) extraer latitud y longitud de modo independiente.</p>
</div>
<div class="paragraph">
<p><strong>M√©todo 1:</strong> extraer latitud y longitud conjuntamente</p>
</div>
<div class="paragraph">
<p>Haga click en <span class="menuseq"><b class="menu">la ‚ñº azul del campo <code class="language-javascript" data-lang="javascript">"GeoLocate_Json_georref"</code></b>¬†<i class="fa fa-angle-right caret"></i> <b class="submenu">Editar columnas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Agregar columna basada en esta columna</b></span>.</p>
</div>
<div class="paragraph">
<p>De un nombre al nuevo campo, por ejemplo, GeoLocate_parseCoord, y en el cuadro de texto pegue la siguiente expresi√≥n:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">forEach(filter(value.parseJson().resultSet.features, v, isNonBlank(v.geometry)), w,
  w.geometry.coordinates.join(<span class="string"><span class="delimiter">"</span><span class="content">; </span><span class="delimiter">"</span></span>))
.join(<span class="string"><span class="delimiter">"</span><span class="content">|</span><span class="delimiter">"</span></span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Esta expresi√≥n es un poco m√°s compleja que las que hemos estado utilizando, debido a que se requiere extraer informaci√≥n de una estructura JSON particular Objeto ‚Üí Arreglo ‚Üí Objeto ‚Üí Arreglo. (Puede visualizar la estructura en JSON como se menciona en la nota de la <a href="#img-fig-51">Figura 51</a>).</p>
</div>
<div class="paragraph">
<p>El nuevo campo tendr√° valores como los siguientes, por ejemplo, para un registro cuya consulta devolvi√≥ tres resultados:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="notjavascript">-64.158097; -26.21252|-59.846115; -28.671732|-63.801314; -22.516365</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Importante"></i>
</td>
<td class="content">
Note que GEOLocate provee como primer valor de coordenadas la longitud y como segundo valor la latitud.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Dividiremos ahora este campo en tres partes, una para cada resultado:</p>
</div>
<div class="paragraph">
<p>Haga click en <span class="menuseq"><b class="menu">la ‚ñº azul del campo</b>¬†<i class="fa fa-angle-right caret"></i> <b class="submenu">Editar columnas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Dividir en varias columnas</b></span>.</p>
</div>
<div class="paragraph">
<p>Escoja como separador <code>|</code>. Desmarque la opci√≥n ‚ÄúEliminar esta columna‚Äù si quiere mantener el campo original (esto es recomendable, siempre puede eliminar los campos despu√©s).</p>
</div>
<div class="paragraph">
<p>Tendr√° entonces ahora una serie de campos con valores del tipo: <code>-64.158097; -26.21252</code>. Sobre cada uno, puede realizar una nueva separaci√≥n utilizando como separador <code>;</code>.</p>
</div>
<div class="paragraph">
<p><strong>M√©todo 2:</strong> extraer latitud y longitud independientemente</p>
</div>
<div class="paragraph">
<p>Haga click en <span class="menuseq"><b class="menu">la ‚ñº azul del campo <code class="language-javascript" data-lang="javascript">"GeoLocate_Json_georref"</code></b>¬†<i class="fa fa-angle-right caret"></i> <b class="submenu">Editar columnas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Agregar columna basada en esta columna</b></span>.</p>
</div>
<div class="paragraph">
<p>De un nombre al nuevo campo, por ejemplo, GeoLocate_parseLong, y en el cuadro de texto pegue la siguiente expresi√≥n:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">forEach(filter(value.parseJson().resultSet.features, v, isNonBlank(v.geometry)), w,
  w.geometry.coordinates[<span class="integer">0</span>]).join(<span class="string"><span class="delimiter">"</span><span class="content">; </span><span class="delimiter">"</span></span>))</code></pre>
</div>
</div>
<div class="paragraph">
<p>Esta expresi√≥n es diferente a la usada anteriormente en que se especifica qu√© valor del arreglo coordenadas se desea obtener: <code>[0]</code>. En OpenRefine, el primer valor se indica con 0, el segundo con 1, y as√≠ sucesivamente. Dado que en los resultados de la consulta se indica primero la longitud, √©sta ser√° el valor <code>[0]</code>, y la latitud ser√° el valor <code>[1]</code> dentro del arreglo ‚Äúcoordinates‚Äù.</p>
</div>
<div class="paragraph">
<p>El nuevo campo creado tendr√° valores como los siguientes: <code>-64.158097; -59.846115; -63.801314</code> cada uno correspondiente a una longitud de uno de los resultados obtenidos de la consulta a GEOLocate para un determinado registro.</p>
</div>
<div class="paragraph">
<p>Puede repetir el proceso para obtener las latitudes, cambiando en la expresi√≥n anterior <code>[0]</code> por <code>[1]</code>, y luego separar los campos por resultado, utilizando como separador <code>;</code>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Importante"></i>
</td>
<td class="content">
Debe tener en cuenta que, como se mencion√≥ antes, cuantos m√°s datos se provean al servicio de GEOLocate en la consulta m√°s sencillo ser√° desglosar los resultados despu√©s. El proceso de desglose puede ser muy engorroso y requiere que sea muy meticuloso/a a la hora de nombrar campos y separar contenido. Si no est√° familiarizado/a con el uso de JSON, es preferible que realice el desglose ‚Äúpasito a pasito‚Äù para evitar perder o mezclar informaci√≥n. Por ejemplo, puede crear un documento con el flujo de trabajo donde enumere los pasos a seguir con todos los detalles necesarios (incluya all√≠ el tipo de resultados que espera ver y c√≥mo se ver√≠an en los campos).
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Importante"></i>
</td>
<td class="content">
A la hora de agregar datos de georreferenciaci√≥n, contraste siempre los resultados contra los campos geogr√°ficos que tiene. En el caso de tener varios resultados posibles, no siempre el primer resultado es el correcto. Recuerde reportar cu√°l fue el proceso de georreferenciaci√≥n utilizado y todos los par√°metros posibles asociados. Para consultar en qu√© campos de Darwin Core se reporta cada par√°metro, puede referirse a: <a href="https://dwc.tdwg.org/terms/#location" class="bare">https://dwc.tdwg.org/terms/#location</a>, y consultar: <a href="https://github.com/tdwg/dwc-qa/wiki/Georeferences" class="bare">https://github.com/tdwg/dwc-qa/wiki/Georeferences</a>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Nota"></i>
</td>
<td class="content">
Para conocer m√°s acerca de georreferenciaci√≥n y las mejores pr√°cticas asociadas, consulte <a href="https://docs.gbif.org/georeferencing-best-practices/1.0/en/">Georeferencing Best Practices (Chapman &amp; Wieczorek 2020)</a>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="limpieza-de-fechas-utilizando-canadensys-date-parsing">
<a class="anchor" href="#limpieza-de-fechas-utilizando-canadensys-date-parsing"></a>4.3. Limpieza de fechas utilizando Canadensys Date Parsing</h3>
<div class="sect3">
<h4 id="breve-introducci√≥n">
<a class="anchor" href="#breve-introducci%C3%B3n"></a>4.3.1. Breve introducci√≥n</h4>
<div class="paragraph">
<p>Uno de los campos sobre el que se puede corroborar la calidad de los datos es el campo de fecha: <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">eventDate</span><span class="delimiter">"</span></span></code></span>.</p>
</div>
<div class="paragraph">
<p>Recordemos primero la <a href="http://rs.tdwg.org/dwc/terms/index.htm#eventDate"><strong>definici√≥n de <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">eventDate</span><span class="delimiter">"</span></span></code></span> en el est√°ndar Darwin Core</strong></a>:</p>
</div>
<div class="quoteblock">
<blockquote>
The date-time or interval during which an Event occurred. For occurrences, this is the date-time when the event was recorded. Not suitable for a time in a geological context. Recommended best practice is to use a date that conforms to ISO 8601-1:2019.
</blockquote>
</div>
<div class="paragraph">
<p>Si piensa en un ejemplar de museo, <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">eventDate</span><span class="delimiter">"</span></span></code></span> refiere a cu√°ndo fue colectado el ejemplar. Si piensa en una observaci√≥n, <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">eventDate</span><span class="delimiter">"</span></span></code></span> refiere a cu√°ndo fue realizada esa observaci√≥n.</p>
</div>
<div class="paragraph">
<p>Darwin Core sugiere que se utilice para capturar la informaci√≥n de fecha el est√°ndar <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601-1:2019</a>. Para fechas √∫nicas, este est√°ndar tiene el siguiente formato:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="notjavascript">AAAA-MM-DDTHH:mmX</code></pre>
</div>
</div>
<div class="paragraph">
<p>Donde:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>AAAA</code>: a√±o, con cuatro d√≠gitos.</p>
</li>
<li>
<p><code>MM</code>: mes, con dos d√≠gitos. E.g.: mayo ser√≠a 05.</p>
</li>
<li>
<p><code>DD</code>: d√≠a, con dos d√≠gitos. E.g.: segundo d√≠a de un mes ser√≠a 02.</p>
</li>
<li>
<p><code>T</code>: indica que lo que viene a continuaci√≥n es la hora.</p>
</li>
<li>
<p><code>HH</code>: horas, con dos d√≠gitos, en formato de 24 hs.</p>
</li>
<li>
<p><code>mm</code>: minutos, con dos d√≠gitos.</p>
</li>
<li>
<p><code>X</code>: indica la zona horaria. La zona horaria se determina tomando como base UTC (Coordinated Universal Time). Si uno est√° justo sobre la zona horaria UTC, X se reemplaza por ‚ÄúZ‚Äù. Si uno est√° en otra zona horaria, debe reemplazarse X por la diferencia horaria correspondiente.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Por ejemplo, Argentina es UTC-3, o sea, 03horas00minutos al oeste (-) de UTC, por lo cual X debe reemplazarse por ‚Äú-0300‚Äù.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Nota"></i>
</td>
<td class="content">
De este formato, uno puede utilizar tanto el formato completo (incluyendo la hora) como s√≥lo la primera parte, AAAA-MM-DD.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Nota"></i>
</td>
<td class="content">
Este formato tambi√©n puede utilizarse para expresar rangos de fecha de manera estandarizada. Para ello, se usa el mismo formato y se separan las fechas con barras ‚Äú/‚Äù, ver ejemplos abajo (<a href="#table-date-examples">Tabla 3</a>).
</td>
</tr>
</table>
</div>
<div id="table-date-examples" class="paragraph">
<p>Tabla 3. Ejemplos de formatos de fechas y su versi√≥n estandarizada.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Fecha original</th>
<th class="tableblock halign-left valign-top">Fecha estandarizada</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12 Feb 1809</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1809-02-12</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12/02/1809</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1809-02-12</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jun 1906</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1906-06</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1971</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1971</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">20 Feb 2009 8:40am UTC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2009-02-20T08:40Z</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8 Mar 1963 2:07pm, en la zona horaria 6 horas m√°s temprano que UTC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1963-03-08T14:07-0600</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13-15 Nov 2007</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2007-11-13/15</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 Mar 2007 1pm UTC ‚Äì 11 May 2008 3:30pm UTC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2007-03-01T13:00:00Z/2008-05-11T15:30:00Z</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="limpieza-de-fechas">
<a class="anchor" href="#limpieza-de-fechas"></a>4.3.2. Limpieza de fechas</h4>
<div class="paragraph">
<p>Muchas veces, a pesar de lo que indica el est√°ndar Darwin Core, encontramos en el campo <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">eventDate</span><span class="delimiter">"</span></span></code></span> fechas que no siguen el formato sugerido. Para estandarizarlas, puede hacer uso de la herramienta que ofrece <a href="https://data.canadensys.net/tools/dates">Canadensys: Date Parsing</a>.</p>
</div>
<div class="paragraph">
<p>Esta herramienta permite interpretar fechas, devolvi√©ndolas en formato est√°ndar. Ejemplos de los tipos de valores que puede interpretar son:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Jun 13, 2008</p>
</li>
<li>
<p>15 Jan 2011</p>
</li>
<li>
<p>2009 IV 02</p>
</li>
<li>
<p>2 VII 1986</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Algunas fechas, sin embargo no las interpreta, veamos el siguiente ejemplo (<a href="#img-fig-52">Figura 52</a>):</p>
</div>
<div id="img-fig-52" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-52.jpg" alt="Figura 52" width="500">
</div>
<div class="title">Figura 52</div>
</div>
<div class="paragraph">
<p>En las dos l√≠neas inferiores, ‚Äú13‚Äù s√≥lo puede referir a d√≠as, pues no hay un mes ‚Äú13‚Äù.</p>
</div>
<div class="paragraph">
<p>En las dos l√≠neas superiores, en cambio, ‚Äú2‚Äù y ‚Äú4‚Äù pueden ambos referir a mes y d√≠a. Como en distintas partes del mundo se utilizan sistemas distintos (primero se pone d√≠a y luego mes, o viceversa), la herramienta no puede determinar inequ√≠vocamente cu√°l es cu√°l, y por ende no hace la interpretaci√≥n.</p>
</div>
<div class="paragraph">
<p>Debe tener esto en cuenta cuando utilice la herramienta para limpiar los datos.</p>
</div>
<div class="paragraph">
<p>Ahora s√≠, invocaremos Date Parsing desde OpenRefine. Para ello, primero seleccione algunas fechas mediante una faceta, para reducir el tiempo de consulta. Luego, sobre la columna <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">eventDate</span><span class="delimiter">"</span></span></code></span> haga click en <span class="menuseq"><b class="menu">la ‚ñº azul</b>¬†<i class="fa fa-angle-right caret"></i> <b class="submenu">Editar columna</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Agregar columna accediendo a URLs‚Ä¶</b></span> (<a href="#img-fig-53">Figura 53</a>). En la ventana que aparece, nombre la nueva columna (por ejemplo ‚ÄúCanadensys_eventDate‚Äù) y pegue en el cuadro de texto la siguiente expresi√≥n:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">http://data.canadensys.net/tools/dates.json?data=</span><span class="delimiter">"</span></span>+escape(cells[<span class="string"><span class="delimiter">"</span><span class="content">eventDate</span><span class="delimiter">"</span></span>].value,<span class="string"><span class="delimiter">"</span><span class="content">url</span><span class="delimiter">"</span></span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Esta expresi√≥n le indica a la herramienta que eval√∫e los valores del campo <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">eventDate</span><span class="delimiter">"</span></span></code></span> y que devuelva los resultados en formato JSON.</p>
</div>
<div id="img-fig-53" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-53.jpg" alt="Figura 53" width="547">
</div>
<div class="title">Figura 53</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Nota"></i>
</td>
<td class="content">
La limpieza puede tomar bastante tiempo, incluso horas, sea paciente‚Ä¶ v√°yase a almorzar, o incluso a dormir y lo revisa al d√≠a siguiente‚Ä¶ Cuando vuelva, encontrar√° el nuevo campo con los valores estandarizados! En formato JSON‚Ä¶ (<a href="#img-fig-54">Figura 54</a>).
</td>
</tr>
</table>
</div>
<div id="img-fig-54" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-54.jpg" alt="Figura 54" width="520">
</div>
<div class="title">Figura 54</div>
</div>
<div class="paragraph">
<p>F√≠jese que en el primer caso de la figura, Canadensys ha podido resolver la fecha, mientras que en el segundo caso no ha podido, dado que no puede interpretar inequ√≠vocamente ‚Äú6‚Äù y ‚Äú4‚Äù como d√≠a y mes o viceversa (como se explica m√°s arriba).
Ahora que tiene el resultado en formato JSON, extraeremos de all√≠ los valores de inter√©s. Podr√≠a extraer s√≥lo la fecha en formato ISO, o tambi√©n a√±o, mes y d√≠a en campos separados. Para ello, a partir de la columna que tiene el resultado en JSON, cree nuevas columnas: <span class="menuseq"><b class="menu">Editar columnas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Agregar columna basada en esta columna</b></span> (<a href="#img-fig-55">Figura 55</a>).</p>
</div>
<div class="paragraph">
<p>Para extraer s√≥lo la fecha en formato ISO, en la ventana nombre la nueva columna (por ejemplo, "ISO_eventDate") y en el cuadro de texto pegue la siguiente expresi√≥n:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">forEach(value.parseJson().get(<span class="string"><span class="delimiter">"</span><span class="content">data</span><span class="delimiter">"</span></span>).get(<span class="string"><span class="delimiter">"</span><span class="content">results</span><span class="delimiter">"</span></span>),v,v.get(<span class="string"><span class="delimiter">"</span><span class="content">iso8601</span><span class="delimiter">"</span></span>))[<span class="integer">0</span>])</code></pre>
</div>
</div>
<div id="img-fig-55" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-55.jpg" alt="Figura 55" width="547">
</div>
<div class="title">Figura 55</div>
</div>
<div class="paragraph">
<p>Para extraer el a√±o, mes o d√≠a, pegue en cambio una de las siguientes expresiones:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A√±o: <span class="CodeRay highlight"><code data-lang="javascript">forEach(value.parseJson().get(<span class="string"><span class="delimiter">"</span><span class="content">data</span><span class="delimiter">"</span></span>).get(<span class="string"><span class="delimiter">"</span><span class="content">results</span><span class="delimiter">"</span></span>),v,v.get(<span class="string"><span class="delimiter">"</span><span class="content">year</span><span class="delimiter">"</span></span>))[<span class="integer">0</span>])</code></span></p>
</li>
<li>
<p>Mes: <span class="CodeRay highlight"><code data-lang="javascript">forEach(value.parseJson().get(<span class="string"><span class="delimiter">"</span><span class="content">data</span><span class="delimiter">"</span></span>).get(<span class="string"><span class="delimiter">"</span><span class="content">results</span><span class="delimiter">"</span></span>),v,v.get(<span class="string"><span class="delimiter">"</span><span class="content">month</span><span class="delimiter">"</span></span>))[<span class="integer">0</span>])</code></span></p>
</li>
<li>
<p>D√≠a: <span class="CodeRay highlight"><code data-lang="javascript">forEach(value.parseJson().get(<span class="string"><span class="delimiter">"</span><span class="content">data</span><span class="delimiter">"</span></span>).get(<span class="string"><span class="delimiter">"</span><span class="content">results</span><span class="delimiter">"</span></span>),v,v.get(<span class="string"><span class="delimiter">"</span><span class="content">day</span><span class="delimiter">"</span></span>))[<span class="integer">0</span>])</code></span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ver√° que algunos de los resultados ser√°n nulos, √©stos corresponden a los casos que Canadensys no ha podido resolver (como se explica m√°s arriba) (<a href="#img-fig-56">Figura 56</a>).</p>
</div>
<div id="img-fig-56" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-56.jpg" alt="Figura 56" width="607">
</div>
<div class="title">Figura 56</div>
</div>
<div class="paragraph">
<p>Para terminar de limpiar las fechas, entonces, tendr√° que revisar los valores que no hayan sido estandarizados por la herramienta. Para ello, sobre el campo ISO_eventDate puede armar una faceta y seleccionar el valor ‚Äúblank‚Äù. Luego, arme una faceta sobre el campo <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">eventDate</span><span class="delimiter">"</span></span></code></span> (el que ten√≠a los valores originales) y si estos son pocos, puede hacer un chequeo manual y completar el campo ISO_eventDate.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Nota"></i>
</td>
<td class="content">
<div class="title">Transformaci√≥n de fechas usando expresiones regulares</div>
<div class="paragraph">
<p>La consulta del servicio de Canadensys Date Parsing es particularmente √∫til cuando se tienen en un mismo campo fechas con distintos formatos, pues permite resolverlas todas utilizando un √∫nico proceso.
En cambio, si todas las fechas est√°n dadas en un √∫nico formato, resulta m√°s r√°pido realizar transformaciones utilizando expresiones regulares. Para ello, a partir de la columna con fechas a estandarizar, por ejemplo <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">eventDate</span><span class="delimiter">"</span></span></code></span>,
Hacer click en <span class="menuseq"><b class="menu">la ‚ñº azul en el campo</b>¬†<i class="fa fa-angle-right caret"></i> <b class="submenu">Editar columnas</b>¬†<i class="fa fa-angle-right caret"></i> <b class="menuitem">Agregar columna basada en esta columna‚Ä¶</b></span>.
En la ventana que se abre, dar nombre al nuevo campo (por ejemplo ‚Äústandard_eventDate‚Äù), y en el cuadro de texto utilizar una expresi√≥n como la siguiente, que convierte el formato original a una cadena de texto con formato ‚Äúa√±o-mes-d√≠a‚Äù:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">value.toDate(<span class="string"><span class="delimiter">"</span><span class="content">formato_original</span><span class="delimiter">"</span></span>).toString(<span class="string"><span class="delimiter">"</span><span class="content">yyyy-MM-dd</span><span class="delimiter">"</span></span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>donde en lugar de ‚Äúformato_original‚Äù debe colocar el formato utilizado en el campo a estandarizar, considerando el orden en que aparecen el a√±o, mes y d√≠a, el n√∫mero de d√≠gitos de cada uno y los separadores utilizados (e.g., gui√≥n, barra, etc.).
Por ejemplo, si las fechas originales est√°n todas escritas de la forma ‚Äúmes/d√≠a/a√±o‚Äù, la expresi√≥n a utilizar ser√≠a:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">value.toDate(<span class="string"><span class="delimiter">"</span><span class="content">MM/dd/yyyy</span><span class="delimiter">"</span></span>).toString(<span class="string"><span class="delimiter">"</span><span class="content">yyyy-MM-dd</span><span class="delimiter">"</span></span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Con el formato especificado arriba, la expresi√≥n convertir√° por ejemplo una fecha ‚Äú04/25/1989‚Äù a ‚Äú1989-04-25‚Äù.</p>
</div>
<div class="paragraph">
<p>Recordar que esta opci√≥n solo ser√° √∫til aplicada a una columna si <strong>todas</strong> las fechas en esa columna tienen <strong>el mismo formato</strong>.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rutinas-de-validaci√≥n-de-la-calidad-de-los-datos">
<a class="anchor" href="#rutinas-de-validaci%C3%B3n-de-la-calidad-de-los-datos"></a>5. Rutinas de validaci√≥n de la calidad de los datos</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A partir del uso de servicios o archivos externos (<a href="#sect-4">ver secci√≥n 4</a>) y la posibilidad que ofrece OpenRefine de guardar y rehacer pasos (<a href="#guardar-pasos-para-rehacer-luego">ver secci√≥n 2.5.2</a>) es posible crear rutinas para ejecutar de manera autom√°tica varias acciones de validaci√≥n de calidad.</p>
</div>
<div class="paragraph">
<p>Aprovechando las m√∫ltiples herramientas de calidad de datos ya existentes en la red de GBIF es posible abordar de manera semi-automatizada a trav√©s de OpenRefine los retos y problemas m√°s comunes de calidad que se presentan a nivel taxon√≥mico y geogr√°fico en un conjunto de datos. Ac√° se presentan diferentes rutinas que validan la calidad de los datos contrastando un conjunto de datos contra dichos servicios externos agilizando la obtenci√≥n de resultados y asegurando una metodolog√≠a de validaci√≥n replicable.</p>
</div>
<div class="sect2">
<h3 id="c√≥mo-funcionan-las-rutinas">
<a class="anchor" href="#c%C3%B3mo-funcionan-las-rutinas"></a>5.1. ¬øC√≥mo funcionan las rutinas?</h3>
<div class="paragraph">
<p>Las rutinas comparan la informaci√≥n documentada en el conjunto de datos contra diferentes fuentes de referencia, y a partir de dicha comparaci√≥n crean columnas de validaci√≥n donde se puede identificar la correspondencia entre el archivo original y la fuente de referencia a trav√©s de operadores l√≥gicos, unos (1) y ceros (0), que funcionan como indicadores de validaci√≥n.</p>
</div>
<div class="paragraph">
<p>Los <strong>indicadores de validaci√≥n</strong> se interpretan as√≠:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>0</strong>: El valor documentado en el conjunto de datos NO coincide con la fuente de referencia, el valor debe ser revisado y ajustado <strong>en caso de ser necesario</strong>.</p>
</li>
<li>
<p><strong>1</strong>: El valor documentado en el conjunto de datos coincide con la fuente de referencia, no es necesario tomar acciones adicionales.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Observe el ejemplo de la <a href="#img-fig-57">Figura 57</a>, en la primera fila el valor original de la columna <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">family</span><span class="delimiter">"</span></span></code></span> no coincide con la columna <code>"familySuggested"</code> ya que tiene un error de tipeo, por lo tanto el indicador de validaci√≥n (columna <code>"familyValidation"</code>) es cero (0). Note que en las filas donde s√≠ hay coincidencia el indicador de validaci√≥n (<code>"familyValidation"</code>) es uno (1).</p>
</div>
<div id="img-fig-57" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-57.jpg" alt="Figura 57" width="400">
</div>
<div class="title">Figura 57</div>
</div>
<div class="paragraph">
<p>Las rutinas utilizan como fuentes de validaci√≥n API‚Äôs (Interfaces de Programaci√≥n de Aplicaciones) de repositorios globales taxon√≥micos, geogr√°ficos o  archivos de texto plano obtenidos como resultado de herramientas de validaci√≥n externas.</p>
</div>
<div class="paragraph">
<p>Se encuentran disponibles cinco (5) rutinas (<a href="#table-scripts">Tabla 4</a>) las cuales incluyen adicionalmente posibles escenarios al momento de realizar la validaci√≥n, tal como la ca√≠da temporal de servicios web, o requisitos adicionales seg√∫n la naturaleza de los datos (e.g. el grupo biol√≥gico de inter√©s). A continuaci√≥n se explica cada una:</p>
</div>
<div id="table-scripts" class="paragraph">
<p>Tabla 4. Lista de rutinas para la validaci√≥n de datos primarios sobre biodiversidad</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nombre</th>
<th class="tableblock halign-left valign-top">Uso</th>
<th class="tableblock halign-left valign-top">Requerimientos</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#validaci%C3%B3n-taxon%C3%B3mica-con-el-api-de-gbif">Validaci√≥n taxon√≥mica con el API de GBIF</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Validaci√≥n taxon√≥mica que usa como referencia el <a href="https://doi.org/10.15468/39omei">√°rbol taxon√≥mico de GBIF</a>. Permite validar registros de varios grupos biol√≥gicos a la vez, as√≠ como obtener la taxonom√≠a superior de cada taxa.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Requiere como m√≠nimo los elementos DwC <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">scientificName</span><span class="delimiter">"</span></span></code></span> y <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">kingdom</span><span class="delimiter">"</span></span></code></span> documentados y acceso a internet para hacer la petici√≥n al API de GBIF.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#validaci%C3%B3n-taxon%C3%B3mica-con-species-matching-de-gbif">Validaci√≥n taxon√≥mica con Species Matching de GBIF</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Validaci√≥n taxon√≥mica que usa como referencia el <a href="https://doi.org/10.15468/39omei">√°rbol taxon√≥mico de GBIF</a>, a diferencia de la rutina anterior realiza la validaci√≥n contra el archivo de resultados <em>normalized</em> obtenido de <a href="https://www.gbif.org/es/tools/species-lookup"><em>Species Matching</em></a> permitiendo as√≠ aprovechar las funcionalidades de validaci√≥n y limpieza de esta herramienta. La rutina facilita el cruce de los resultados obtenidos con <a href="https://www.gbif.org/es/tools/species-lookup"><em>Species Matching</em></a> con el conjunto de datos original.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Requiere como m√≠nimo el elemento DwC <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">scientificName</span><span class="delimiter">"</span></span></code></span> documentado y que el archivo <em>normalized</em> sea previamente cargado en OpenRefine para la ejecuci√≥n de la rutina.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#validaci%C3%B3n-taxon%C3%B3mica-con-el-api-de-worms">Validaci√≥n taxon√≥mica con el API de WoRMS</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Validaci√≥n taxon√≥mica espec√≠fica para organismos marinos, que usa como referencia el <a href="https://www.lifewatch.be/en/lifewatch-species-information-backbone">√°rbol taxon√≥mico de LifeWatch (LW-SIBb)</a> por medio de la API de <a href="http://www.marinespecies.org/aphia.php?p=webservice">WoRMS (<em>World Register of Marine Species</em>)</a>. Permite obtener la taxonom√≠a superior de cada taxa, as√≠ como elementos taxon√≥micos obligatorios para la publicaci√≥n de datos a trav√©s de <a href="https://obis.org/">OBIS</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Requiere como m√≠nimo el elemento DwC <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">scientificName</span><span class="delimiter">"</span></span></code></span> documentado y acceso a internet para hacer la petici√≥n al API de WoRMS.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#validaci%C3%B3n-de-elevaciones-con-el-api-de-geonames">Validaci√≥n de elevaciones con el API de GeoNames</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Validaci√≥n y/o obtenci√≥n de la elevaci√≥n a partir de las coordenadas usando el servicio geogr√°fico de GeoNames.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Requiere los elemento DwC <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">decimalLatitude</span><span class="delimiter">"</span></span></code></span> y <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">decimalLongitude</span><span class="delimiter">"</span></span></code></span> documentados adecuadamente y acceso a internet para hacer la petici√≥n al API de  GeoNames.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#transformaci%C3%B3n-de-fechas-con-el-api-de-canadensys">Transformaci√≥n de fechas con el API de Canadensys</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transformaci√≥n de fechas en m√∫ltiples formatos al est√°ndar ISO 8601.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Requiere el elemento DwC <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">eventDate</span><span class="delimiter">"</span></span></code></span>  documentado y acceso a internet para hacer la petici√≥n al API de  Canadensys.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Las rutinas cuya fuente de referencia es un API, hacen una consulta a un <a href="#sect-4">servicio externo</a> y obtienen una respuesta en formato JSON, la rutina interpreta esta respuesta y la hace legible en forma de columnas dentro del conjunto de datos. Posteriormente el resultado de la consulta al API es comparado con el valor documentado en el conjunto de datos y se generan nuevas columnas con los indicadores de la validaci√≥n (unos y ceros).
Las rutinas que usan como fuente archivos de texto plano, hacen una consulta sobre un archivo cargado previamente en OpenRefine que posteriormente es comparado con el valor documentado en el conjunto de datos. Como resultado de la comparaci√≥n se generan nuevas columnas con los indicadores de la validaci√≥n.</p>
</div>
<div class="paragraph">
<p>Todas las rutinas se ejecutan de manera similar, los detalles espec√≠ficos para cada una se explican m√°s adelante. En esta secci√≥n se presentan instrucciones generales para su ejecuci√≥n en OpenRefine:</p>
</div>
<div class="sidebarblock">
<div class="content">
<h3 id="paso-1-2" class="discrete">Paso 1</h3>
<div class="paragraph">
<p><strong>Carga de los archivos en OpenRefine</strong></p>
</div>
<div class="paragraph">
<p>Cree un proyecto en OpenRefine con el conjunto de datos que desea validar, si tiene dudas sobre c√≥mo hacerlo revise la <a href="#primeros-pasos-datos-y-proyectos">secci√≥n 1</a>. Aseg√∫rese que el conjunto de datos o los elementos que desea validar est√©n estructurados en el est√°ndar Darwin Core, si no lo est√°n ajuste el nombre de cada columna seg√∫n el est√°ndar siguiendo las instrucciones de la <a href="#renombrar-eliminar-y-mover-columnas">secci√≥n 2.1.1</a>.</p>
</div>
<div class="paragraph">
<p>Seg√∫n la validaci√≥n que desee realizar aseg√∫rese de cumplir los requerimientos de la rutina. Si la rutina lo requiere cargue tambi√©n en OpenRefine los archivos adicionales de validaci√≥n (ver <a href="#table-scripts">Tabla 2.</a>), de lo contrario vaya directamente al paso 2.</p>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<h3 id="paso-2-2" class="discrete">Paso 2</h3>
<div class="paragraph">
<p><strong>Ejecutar la rutina</strong></p>
</div>
<div class="paragraph">
<p>Ubique en esta gu√≠a la rutina de inter√©s seg√∫n la validaci√≥n que desee realizar, haga clic en el enlace a la rutina y ser√° redirigido a GitHub donde encontrar√° un archivo de texto plano con la rutina, copie el texto de la rutina de validaci√≥n (<a href="#img-fig-58">Figura 58</a>). Aseg√∫rese de seleccionar solo la rutina -sin las instrucciones- y copiar todos  los corchetes iniciales <code>{</code> y finales <code>}</code>.</p>
</div>
<div id="img-fig-58" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-58.jpg" alt="Figura 58" width="750">
</div>
<div class="title">Figura 58</div>
</div>
<div class="paragraph">
<p>Ub√≠quese en el conjunto de datos a validar en OpenRefine, dir√≠jase al men√∫ arriba a la izquierda, seleccione la pesta√±a ‚ÄúDeshacer/Rehacer‚Äù y haga clic en el bot√≥n ‚ÄúAplicar‚Ä¶‚Äã‚Äù. A continuaci√≥n se abrir√° una ventana de texto vac√≠a, pegue en el cuadro de texto la rutina a ejecutar y haga clic en ‚ÄúEjecutar Operaciones‚Äù (<a href="#img-fig-59">Figura 59</a>). Si tiene dudas sobre este proceso revise la <a href="#sect-2.5">secci√≥n 2.5</a>.</p>
</div>
<div id="img-fig-59" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-59.jpg" alt="Figura 59" width="600">
</div>
<div class="title">Figura 59</div>
</div>
<div class="paragraph">
<p>El avance de la ejecuci√≥n de la rutina se observa en la parte superior de la pantalla (<a href="#img-fig-60">Figura 60</a>).</p>
</div>
<div id="img-fig-60" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-60.jpg" alt="Figura 60" width="500">
</div>
<div class="title">Figura 60</div>
</div>
<div class="paragraph">
<p>Espere a que finalice la ejecuci√≥n de la rutina. Las rutinas que requieren hacer llamados a servicios externos, dependen de la conexi√≥n a internet, estas consultas toman un tiempo en ejecutarse que var√≠a seg√∫n el n√∫mero de filas del conjunto de datos, de la velocidad de la conexi√≥n y de la memoria RAM de su equipo.</p>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<h3 id="paso-3-2" class="discrete">Paso 3</h3>
<div class="paragraph">
<p><strong>Resultados de la validaci√≥n</strong></p>
</div>
<div class="paragraph">
<p>Al terminar la ejecuci√≥n de la rutina, obtendr√° nuevas columnas en el conjunto de datos, puede identificarlas por su terminaci√≥n:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong><em>Suggested</em></strong>: Valores sugeridos resultantes de la validaci√≥n con las fuentes de referencia, dependiendo de la rutina seleccionada pueden ser sugerencias taxon√≥micas, geogr√°ficas, o temporales.</p>
</li>
<li>
<p><strong><em>Validation</em></strong>: Corresponde a los indicadores de validaci√≥n (unos y ceros) que permiten rastrear diferencias entre el valor original y el valor sugerido, y realizar posteriormente una limpieza de los datos.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>En la <a href="#img-fig-61">Figura 61</a> se muestra un ejemplo de c√≥mo se ven los identificadores de la validaci√≥n y las nuevas columnas con las sugerencias despu√©s de ejecutar la rutina; en el ejemplo se observa una validaci√≥n taxon√≥mica, las columnas de resultado var√≠an seg√∫n el objetivo de cada rutina.</p>
</div>
<div id="img-fig-61" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-61.jpg" alt="Figura 61" width="650">
</div>
<div class="title">Figura 61</div>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<h3 id="paso-4-2" class="discrete">Paso 4</h3>
<div class="paragraph">
<p><strong>Limpieza de los datos</strong></p>
</div>
<div class="paragraph">
<p>A partir de las nuevas columnas de validaci√≥n (finalizadas en las palabra <em>Suggested</em>) seleccione los registros donde el valor original y el valor sugerido son diferentes (identificador de validaci√≥n = 0) y realice los ajustes que considere necesarios sobre los elementos del est√°ndar Darwin Core. Se recomienda realizar este proceso de limpieza utilizando las funcionalidades de OpenRefine descritas en la <a href="#limpieza-de-datos">Secci√≥n 2</a> de limpieza de datos. El proceso de validaci√≥n con las rutinas busca facilitar la identificaci√≥n de filas y elementos que necesitan ser verificados y limpiados, sin embargo, <strong>un identificador de validaci√≥n con valor cero (0) no necesariamente implica que haya un error en los datos. Cada publicador seg√∫n su conocimiento de los datos y del grupo biol√≥gico debe determinar si los datos se deben ajustar y c√≥mo.</strong></p>
</div>
<div class="paragraph">
<p>Por ejemplo de la <a href="#img-fig-62">Figura 62</a> se muestra una <a href="#uso-de-facetas">Faceta de texto</a> que permite seleccionar las filas cuyo indicador de validaci√≥n es cero (0) para el elemento de familia y por lo tanto necesita ser verificado. En la primera fila se muestra una inconsistencia entre la familia documentada en el conjunto de datos original y la sugerida por la rutina, mientras en la segunda fila se evidencia un problema de tipeo. <strong>En cada caso debe revisar de manera integral cada fila y decidir qu√© ajuste se debe o no realizar</strong>.</p>
</div>
<div id="img-fig-62" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-62.jpg" alt="Figura 62" width="650">
</div>
<div class="title">Figura 62</div>
</div>
<div class="paragraph">
<p>Tenga en cuenta que los identificadores de validaci√≥n no cambiar√°n (de 0 a 1) autom√°ticamente as√≠ usted haya ajustado los datos originales seg√∫n las sugerencias de la rutina. C√°mbielos manualmente cuando realice la limpieza de cada fila indistintamente del ajuste realizado.</p>
</div>
<div class="paragraph">
<p>Una vez terminada la validaci√≥n y limpieza de sus datos, puede eliminar las columnas resultantes de la validaci√≥n (finalizan en las palabras <em>Validation</em> y <em>Suggested</em>) y dejar solo las columnas corregidas de su archivo original.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="validaci√≥n-taxon√≥mica-con-el-api-de-gbif">
<a class="anchor" href="#validaci%C3%B3n-taxon%C3%B3mica-con-el-api-de-gbif"></a>5.2. Validaci√≥n taxon√≥mica con el API de GBIF</h3>
<div class="paragraph">
<p><strong>Enlace a la rutina:</strong></p>
</div>
<div class="paragraph">
<p><a href="https://github.com/SIB-Colombia/data-quality-open-refine/blob/master/ValTaxonomicAPIGBIF_ValTaxonomicaAPIGBIF.txt" class="bare">https://github.com/SIB-Colombia/data-quality-open-refine/blob/master/ValTaxonomicAPIGBIF_ValTaxonomicaAPIGBIF.txt</a></p>
</div>
<div class="paragraph">
<p><strong>Requerimientos:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>El conjunto de datos a validar debe tener como m√≠nimo los elementos DwC <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">scientificName</span><span class="delimiter">"</span></span></code></span> y <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">kingdom'</span><span class="delimiter">"</span></span></code></span> documentados.</p>
</li>
<li>
<p>Si tambi√©n desea validar la taxonom√≠a superior de su conjunto de datos se requieren los elementos DwC: <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">scientificName</span><span class="delimiter">"</span></span></code></span>, <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">kingdom</span><span class="delimiter">"</span></span></code></span>,<span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">phylum</span><span class="delimiter">"</span></span></code></span>,<span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">class</span><span class="delimiter">"</span></span></code></span>,<span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">order</span><span class="delimiter">"</span></span></code></span>,<span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">family</span><span class="delimiter">"</span></span></code></span>, y <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">genus</span><span class="delimiter">"</span></span></code></span>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Funcionamiento:</strong></p>
</div>
<div class="paragraph">
<p>Esta rutina valida la informaci√≥n taxon√≥mica de un conjunto de datos usando como referencia el √°rbol taxon√≥mico de GBIF, esto se hace a trav√©s de un llamado al API de GBIF basado en los elementos del est√°ndar Darwin Core <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">scientificName</span><span class="delimiter">"</span></span></code></span> y <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">kingdom</span><span class="delimiter">"</span></span></code></span> documentados en el conjunto de datos. Como resultado, el llamado retorna la taxonom√≠a superior, nombres aceptados, estatus taxon√≥mico y autor√≠a del nombre cient√≠fico de acuerdo al √°rbol taxon√≥mico de GBIF. La rutina toma los valores obtenidos del √°rbol y los compara con los elementos documentados en el archivo base, generando los indicadores de validaci√≥n.</p>
</div>
<div class="paragraph">
<p><strong>Resultados:</strong></p>
</div>
<div class="paragraph">
<p>En las primeras columnas del proyecto encontrar√° las columnas con los datos taxon√≥micos reorganizadas junto con nuevas columnas resultantes de la rutina. Primero encontrar√° las columnas asociadas al cruce con el √°rbol taxon√≥mico y luego de manera intercalada columnas con el valor taxon√≥mico original, un valor sugerido de acuerdo al √°rbol taxon√≥mico de GBIF y el indicador de validaci√≥n indicando si los valores son iguales (1) o difieren (0) como se muestra en la <a href="#img-fig-63">Figura 63</a>.</p>
</div>
<div id="img-fig-63" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-63.jpg" alt="Figura 63" width="650">
</div>
<div class="title">Figura 63</div>
</div>
<div class="paragraph">
<p>A continuaci√≥n se listan las columnas que encontrar√° despu√©s de ejecutar la rutina:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>taxonMatchType</code>: Indica el resultado del cruce de los datos originales con el √°rbol taxon√≥mico de GBIF a partir de los elementos <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">scientificName</span><span class="delimiter">"</span></span></code></span> y <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">kingdom</span><span class="delimiter">"</span></span></code></span>. Los valores que encontrar√° en esta columna son:</p>
<div class="ulist">
<ul>
<li>
<p>EXACT: La correspondencia entre el <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">scientificName</span><span class="delimiter">"</span></span></code></span> del conjunto de datos y el √°rbol taxon√≥mico es completa.</p>
</li>
<li>
<p>FUZZY: La correspondencia entre el <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">scientificName</span><span class="delimiter">"</span></span></code></span> del conjunto de datos y el √°rbol taxon√≥mico es parcial, el nombre difiere en su escritura. Com√∫nmente indica errores de tipeo o diferencias por correcciones nomenclaturales (ejem: la terminaci√≥n <code>i</code> vs. <code>ii</code> cuando la especie se dedica a una persona).</p>
</li>
<li>
<p>HIGHERRANK: La correspondencia entre el nombre cient√≠fico del conjunto de datos y el √°rbol taxon√≥mico fue parcial. No se identific√≥ el taxon a nivel taxon√≥mico de <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">scientificName</span><span class="delimiter">"</span></span></code></span> si no a un nivel superior. Por ejemplo si el <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">scientificName</span><span class="delimiter">"</span></span></code></span> corresponde a una especie, la correspondencia con el √°rbol taxon√≥mico de GBIF fue a nivel de g√©nero. Esto sucede porque el taxon a√∫n no est√° en el √°rbol taxon√≥mico de GBIF o por errores de tipeo mayores.</p>
</li>
<li>
<p>NONE y BLANK: La correspondencia entre el <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">scientificName</span><span class="delimiter">"</span></span></code></span> del conjunto de datos y el √°rbol taxon√≥mico fue <strong>nula</strong> o <strong>hubo varias coincidencias</strong> con muy poca informaci√≥n para determinar un resultado, esto sucede comunmente cuando hay hom√≥nimos o si el taxon a√∫n no se encuentra en el √°rbol taxon√≥mico de GBIF, como es el caso de especies  recientemente descritas o algunas end√©micas.</p>
</li>
</ul>
</div>
</li>
<li>
<p><span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">scientificName</span><span class="delimiter">"</span></span></code></span>: Columna original del conjunto de datos.</p>
</li>
<li>
<p><code>"acceptedScientificName"</code>: Nombre cient√≠fico aceptado seg√∫n el √°rbol taxon√≥mico de GBIF.</p>
</li>
<li>
<p><code>"canonicalNameSuggested"</code>: Nombre can√≥nico sugerido seg√∫n el √°rbol taxon√≥mico de GBIF.</p>
</li>
<li>
<p><code>"taxonRankSuggested"</code>: Categor√≠a del taxon sugerido seg√∫n el √°rbol taxon√≥mico de GBIF (e.g.: SPECIES, GENUS, FAMILY).</p>
</li>
<li>
<p><code>"taxonomicStatusSuggested"</code>: Estado del taxon sugerido seg√∫n el √°rbol taxon√≥mico de GBIF (e.g.: ACCEPTED, SYNONYM).</p>
</li>
<li>
<p>Tripleta de elementos validados donde se encuentra la columna original del conjunto de datos, la columna de validaci√≥n y la columna con la sugerencia seg√∫n el √°rbol taxon√≥mico, por ejemplo: <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">class</span><span class="delimiter">"</span></span></code></span>,<code>"classValidation"</code>,<code>"classSuggested"</code>. Los siguientes elementos de estar documentados en el conjunto de datos original tendr√°n dicha tripleta: <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">scientificNameAuthorship</span><span class="delimiter">"</span></span></code></span>, <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">kingdom</span><span class="delimiter">"</span></span></code></span>, <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">phylum</span><span class="delimiter">"</span></span></code></span>, <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">class</span><span class="delimiter">"</span></span></code></span>, <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">order</span><span class="delimiter">"</span></span></code></span>, <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">family</span><span class="delimiter">"</span></span></code></span>, <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">genus</span><span class="delimiter">"</span></span></code></span>, <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">specificEpithet</span><span class="delimiter">"</span></span></code></span></p>
</li>
<li>
<p><code>callAPI</code>: Respuesta del API a la rutina, contiene todos los resultados en formato JSON.</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Importante"></i>
</td>
<td class="content">
El llamado al API permite hacer una consulta sobre un n√∫mero ilimitado de registros, sin embargo si su conjunto de datos tiene muchas filas se recomienda ejecutar la rutina sobre nombres cient√≠ficos √∫nicos, lo cual disminuir√°  el tiempo de respuesta y agilizar√° la ejecuci√≥n de la rutina.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="validaci√≥n-taxon√≥mica-con-species-matching-de-gbif">
<a class="anchor" href="#validaci%C3%B3n-taxon%C3%B3mica-con-species-matching-de-gbif"></a>5.3. Validaci√≥n taxon√≥mica con Species Matching de GBIF</h3>
<div class="paragraph">
<p><strong>Enlace a la rutina:</strong></p>
</div>
<div class="paragraph">
<p><a href="https://github.com/SIB-Colombia/data-quality-open-refine/blob/master/ValTaxonomicSpeciesMatchGBIF_ValTaxonomicaSpeciesMatchGBIF.txt" class="bare">https://github.com/SIB-Colombia/data-quality-open-refine/blob/master/ValTaxonomicSpeciesMatchGBIF_ValTaxonomicaSpeciesMatchGBIF.txt</a></p>
</div>
<div class="paragraph">
<p><strong>Requerimientos:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>El conjunto de datos a validar debe tener como m√≠nimo el elemento DwC <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">scientificName</span><span class="delimiter">"</span></span></code></span> documentado.</p>
</li>
<li>
<p>Si tambi√©n desea validar la taxonom√≠a superior de su conjunto de datos se requieren los elementos DwC: <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">scientificName</span><span class="delimiter">"</span></span></code></span>, <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">kingdom</span><span class="delimiter">"</span></span></code></span>,<span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">phylum</span><span class="delimiter">"</span></span></code></span>,<span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">class</span><span class="delimiter">"</span></span></code></span>,<span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">order</span><span class="delimiter">"</span></span></code></span>,<span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">family</span><span class="delimiter">"</span></span></code></span>, y <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">genus</span><span class="delimiter">"</span></span></code></span>.</p>
</li>
<li>
<p>Archivo titulado <em>normalized</em>, obtenido de la herramienta <a href="https://www.gbif.org/es/tools/species-lookup"><em>Species Matching</em></a> tras validar los datos originales, y cargado en OpenRefine, el t√≠tulo del proyecto debe ser exactamente <strong><em>normalized</em></strong>.</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Aviso"></i>
</td>
<td class="content">
El archivo <em>normalized</em> debe ser el √∫nico proyecto en OpenRefine titulado de esta manera. Cambie el nombre de cualquier otro archivo <em>normalized</em> cargado previamente, de lo contrario la rutina no podr√° identificar adecuadamente el archivo de referencia.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Funcionamiento:</strong></p>
</div>
<div class="paragraph">
<p>La rutina obtiene y valida la informaci√≥n taxon√≥mica de un conjunto de datos con el √°rbol taxon√≥mico de GBIF a partir del archivo de texto plano <em>normalized</em> obtenido de la herramienta en l√≠nea <a href="https://www.gbif.org/es/tools/species-lookup"><em>Species Matching</em></a> y cargado en OpenRefine. La rutina retorna la taxonom√≠a superior, nombres aceptados, estatus taxon√≥mico y autor√≠a del nombre cient√≠fico de acuerdo al √°rbol taxon√≥mico de GBIF y los compara con los elementos documentados en el archivo base, generando los indicadores de validaci√≥n.</p>
</div>
<div class="paragraph">
<p>Al usar <em>Species Matching</em> como fuente de referencia, el usuario puede realizar una validaci√≥n y limpieza previa a OpenRefine directamente en <em>Species Matching</em>, la cual es especialmente √∫til para verificar y resolver sinonimias complejas, como es el caso de los hom√≥nimos.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Importante"></i>
</td>
<td class="content">
A diferencia del API de GBIF, <em>Species Matching</em> tiene un l√≠mite de consulta de 6.000 registros o nombres cient√≠ficos. Para evitar exceder el l√≠mite de consulta, se recomienda hacer la consulta en <em>Species Matching</em>  por nombres cient√≠ficos √∫nicos.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Resultados:</strong></p>
</div>
<div class="paragraph">
<p>Como en la rutina anterior, en las primeras columnas del proyecto encontrar√° de manera intercalada una columna con el valor taxon√≥mico original, un valor sugerido de acuerdo al √°rbol taxon√≥mico de GBIF y el indicador de validaci√≥n indicando si los valores son iguales (1) o difieren (0) como se muestra en la <a href="#img-fig-63">Figura 63</a>. Obtendr√° las mismas  columnas que en la rutina anterior menos la columna <code>"callAPI"</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="validaci√≥n-taxon√≥mica-con-el-api-de-worms">
<a class="anchor" href="#validaci%C3%B3n-taxon%C3%B3mica-con-el-api-de-worms"></a>5.4. Validaci√≥n taxon√≥mica con el API de WoRMS</h3>
<div class="paragraph">
<p><strong>Enlace a la rutina:</strong></p>
</div>
<div class="paragraph">
<p><a href="https://github.com/SIB-Colombia/data-quality-open-refine/blob/master/ValTaxonomicAPIWoRMS_ValTaxonomicaAPIWoRMS.txt" class="bare">https://github.com/SIB-Colombia/data-quality-open-refine/blob/master/ValTaxonomicAPIWoRMS_ValTaxonomicaAPIWoRMS.txt</a></p>
</div>
<div class="paragraph">
<p><strong>Requerimientos:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>El conjunto de datos a validar debe tener como m√≠nimo el elemento DwC <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">scientificName</span><span class="delimiter">"</span></span></code></span> documentado.</p>
</li>
<li>
<p>Si tambi√©n desea validar la taxonom√≠a superior de su conjunto de datos se requieren los elementos DwC: <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">scientificName</span><span class="delimiter">"</span></span></code></span>, <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">kingdom</span><span class="delimiter">"</span></span></code></span>,<span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">phylum</span><span class="delimiter">"</span></span></code></span>,<span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">class</span><span class="delimiter">"</span></span></code></span>,<span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">order</span><span class="delimiter">"</span></span></code></span>,<span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">family</span><span class="delimiter">"</span></span></code></span>, y <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">genus</span><span class="delimiter">"</span></span></code></span>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Funcionamiento:</strong></p>
</div>
<div class="paragraph">
<p>Esta rutina est√° dise√±ada para ser implementada en conjuntos de datos de grupos biol√≥gicos marinos, emplea como fuente de referencia los taxones marinos del <a href="https://www.lifewatch.be/en/lifewatch-species-information-backbone">√°rbol taxon√≥mico de LifeWatch (LW-SIBb)</a> a trav√©s de un llamado al API de <a href="http://www.marinespecies.org/aphia.php?p=webservice">WoRMS (<em>World Register of Marine Species</em>)</a>. La rutina retorna la taxonom√≠a superior, nombres aceptados, estatus taxon√≥mico y autor√≠a del nombre cient√≠fico de acuerdo al √°rbol taxon√≥mico de LifeWatch y los compara con los elementos documentados en el archivo base, generando los indicadores de validaci√≥n.</p>
</div>
<div class="paragraph">
<p>Adicionalmente a los elementos taxon√≥micos, esta rutina retorna otros elementos √∫tiles  que dan informaci√≥n sobre el tipo de h√°bitat del taxon y el LSID de WoRMS o AphiaID, elemento requerido para la publicaci√≥n de datos a trav√©s de <a href="https://obis.org/">OBIS (Ocean Biodiversity Information System)</a>.</p>
</div>
<div class="paragraph">
<p><strong>Resultados:</strong></p>
</div>
<div class="paragraph">
<p>En las primeras columnas del proyecto encontrar√° de manera intercalada una columna con el valor taxon√≥mico original, un valor sugerido de acuerdo al √°rbol taxon√≥mico y el indicador de validaci√≥n indicando si los valores son iguales (1) o difieren como se muestra en la las rutinas previas (<a href="#img-fig-63">Figura 63</a>).</p>
</div>
<div class="paragraph">
<p>A continuaci√≥n se listan las columnas que encontrar√° despues de ejecutar la rutina, adicionales a las ya mencionadas en las rutinas previas de validaci√≥n taxon√≥mica (<a href="#img-fig-64">Figura 64</a>):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">matchType</span><span class="delimiter">"</span></span></code></span>: Indica el resultado del cruce de los datos originales con el √°rbol taxon√≥mico de WoRMS a partir del elemento <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">scientificName</span><span class="delimiter">"</span></span></code></span>. Los valores que encontrar√° en esta columna son:</p>
<div class="ulist">
<ul>
<li>
<p><code>"exact"</code>: La correspondencia entre el <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">scientificName</span><span class="delimiter">"</span></span></code></span> del conjunto de datos y el √°rbol taxon√≥mico es completa.</p>
</li>
<li>
<p><code>"phonetic"</code>: La correspondencia entre el <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">scientificName</span><span class="delimiter">"</span></span></code></span> del conjunto de datos y el √°rbol taxon√≥mico es completa a nivel fon√©tico a pesar de algunas diferencias menores en la escritura.</p>
</li>
<li>
<p><code>"near_1"</code>: Hay una diferencia de un car√°cter entre el <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">scientificName</span><span class="delimiter">"</span></span></code></span> del conjunto de datos y el √°rbol taxon√≥mico. Es una correspondencia bastante confiable.</p>
</li>
<li>
<p><code>"near_2"</code>: Hay una diferencia de dos caracteres entre el <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">scientificName</span><span class="delimiter">"</span></span></code></span> del conjunto de datos y el √°rbol taxon√≥mico. Se sugiere una revisi√≥n del nombre.</p>
</li>
<li>
<p><code>"near_3"</code>: Hay una diferencia de tres caracteres entre el <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">scientificName</span><span class="delimiter">"</span></span></code></span> del conjunto de datos y el √°rbol taxon√≥mico. Se requiere una revisi√≥n del nombre.</p>
</li>
<li>
<p>Para otras posibilidades poco frecuentes como`"match_quarantine"` y`"match_deleted"`, WoRMS recomienda contactarlos directamente.</p>
</li>
</ul>
</div>
</li>
<li>
<p><span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">scientificNameID</span><span class="delimiter">"</span></span></code></span>: Identificador del tax√≥n construido a partir del AphiaID proveniente del √°rbol taxon√≥mico de WoRMS.</p>
</li>
<li>
<p><span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">nameAccordingTo</span></span></code></span>: La referencia bibliogr√°fica del nombre cient√≠fico seg√∫n WoRMS</p>
</li>
<li>
<p><span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">nameAccordingToID</span></span></code></span>: Identificador de la referencia bibliogr√°fica del nombre cient√≠fico seg√∫n WoRMS.</p>
</li>
<li>
<p><span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">isMarine</span><span class="delimiter">"</span></span></code></span>: Valor booleano (TRUE o FALSE) que indica si el registro corresponde a un taxon marino.</p>
</li>
<li>
<p><span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">isBrackish</span><span class="delimiter">"</span></span></code></span>: Valor booleano (TRUE o FALSE) que indica si el registro corresponde a un taxon de aguas salobres.</p>
</li>
<li>
<p><span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">isFreshwater</span><span class="delimiter">"</span></span></code></span>: Valor booleano (TRUE o FALSE) que indica si el registro corresponde a un taxon de aguas continentales, i.e. taxones asociados a r√≠os o lagos.</p>
</li>
<li>
<p><span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">isTerrestial</span><span class="delimiter">"</span></span></code></span>: Valor booleano (TRUE o FALSE) que indica si el registro corresponde a un taxon terrestre.</p>
</li>
<li>
<p><span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">callAPIworms</span><span class="delimiter">"</span></span></code></span>: Respuesta del API a la rutina, contiene todos los resultados en formato JSON.</p>
</li>
</ul>
</div>
<div id="img-fig-64" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-64.jpg" alt="Figura 64" width="800">
</div>
<div class="title">Figura 64</div>
</div>
</div>
<div class="sect2">
<h3 id="validaci√≥n-de-elevaciones-con-el-api-de-geonames">
<a class="anchor" href="#validaci%C3%B3n-de-elevaciones-con-el-api-de-geonames"></a>5.5. Validaci√≥n de elevaciones con el API de GeoNames.</h3>
<div class="paragraph">
<p><strong>Enlace a la rutina:</strong></p>
</div>
<div class="paragraph">
<p><a href="https://github.com/SIB-Colombia/data-quality-open-refine/blob/master/ValElevationAPIGeoNames_ValElevacionAPIGeoNames.txt" class="bare">https://github.com/SIB-Colombia/data-quality-open-refine/blob/master/ValElevationAPIGeoNames_ValElevacionAPIGeoNames.txt</a></p>
</div>
<div class="paragraph">
<p><strong>Requerimientos:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>El conjunto de datos a validar debe tener como m√≠nimo los elemento DwC <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">decimalLatitude</span><span class="delimiter">"</span></span></code></span> y <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">decimalLongitude</span><span class="delimiter">"</span></span></code></span> documentados adecuadamente.</p>
</li>
<li>
<p>Tener una cuenta activa en GeoNames, si no tiene una <a href="http://www.geonames.org/login">reg√≠strese aqu√≠</a> antes de correr la rutina.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Funcionamiento:</strong></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Aviso"></i>
</td>
<td class="content">
Antes de ejecutar la rutina remplace la palabra <em>demo</em>  en la expresi√≥n <code><em>username=demo</em></code> por su nombre de usuario en GeoNames, por ejemplo <code><em>username=rartizgt</em></code>. Si ejecuta la rutina sin hacer este cambio utilizar√° la opci√≥n de prueba (<code>demo</code>) incorporada por defecto en la rutina, la cual tiene un l√≠mite de 20.000 consultas <strong>diarias mundiales</strong>, por lo que puede que el servicio est√© agotado y no obtenga resultados.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>La rutina captura la elevaci√≥n a partir de las coordenadas decimales documentadas en los elementos DwC <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">decimalLatitude</span><span class="delimiter">"</span></span></code></span> y <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">decimalLongitude</span><span class="delimiter">"</span></span></code></span> del archivo base, a trav√©s de una consulta a los servicios de <a href="http://www.geonames.org/export/web-services.html">GeoNames</a>. La rutina se ejecuta sobre valores √∫nicos de pares de coordenadas para evitar superar el l√≠mite de consultas diarias por usuario.</p>
</div>
<div class="paragraph">
<p>La rutina utiliza por defecto el modelo de elevaci√≥n SRTM-1 (<code>"srtm1"</code>), que cuenta con una resoluci√≥n aproximada de 30 metros. Sin embargo, el usuario puede usar otro de los <a href="http://www.geonames.org/export/web-services.html">modelos de elevaci√≥n disponibles</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>SRTM3 (<code>"srtm3"</code>): Datos de elevaci√≥n de la <em>Shuttle Radar Topography Mission (SRTM)</em>, con resoluci√≥n aproximada de 90 x 90 metros.</p>
</li>
<li>
<p>Astergdemv2 (<code>"astergdem"</code>): Datos de elevaci√≥n del <em>Aster Global Digital Elevation Model V2</em> (2011) con resoluci√≥n aproximada de 30 x 30 metros.</p>
</li>
<li>
<p>GTOPO30 (<code>"gtopo30"</code>): Modelo de elevaci√≥n global con resoluci√≥n aproximada de 30 arcos por segundo, equivalente a una grilla de 1 km x 1 km.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Para cambiar el modelo de elevaci√≥n reemplace en la rutina el valor <code>srtm1</code> en la expresi√≥n <code>grel:\"http://api.geonames.org/srtm1</code> por el valor que corresponda al servicio que desea utilizar <code>srtm3</code>, <code>astergdem</code> o <code>gtopo30</code>.</p>
</div>
<div class="paragraph">
<p><strong>Resultados:</strong></p>
</div>
<div class="paragraph">
<p>En las primeras columnas del proyecto encontrar√° las columnas con los datos de elevaci√≥n reorganizadas junto con nuevas columnas resultantes de la rutina. Encontrar√° de manera intercalada las columnas originales, un valor sugerido de acuerdo al servicio de elevaci√≥n y dos indicadores de validaci√≥n (<a href="#img-fig-65">Figura 65</a>). El primer indicador contrasta la elevaci√≥n obtenida con el servicio y el elemento <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">minimumElevationInMeters</span><span class="delimiter">"</span></span></code></span> y debe ser interpretado as√≠:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>1</strong>: La diferencia entre la elevaci√≥n en <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">minimumElevationInMeters</span><span class="delimiter">"</span></span></code></span> y <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">elevationSuggested</span><span class="delimiter">"</span></span></code></span> es menor a 100 m.</p>
</li>
<li>
<p><strong>0</strong>: La diferencia entre la elevaci√≥n en <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">minimumElevationInMeters</span><span class="delimiter">"</span></span></code></span> y <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">elevationSuggested</span><span class="delimiter">"</span></span></code></span> es mayor a 100 m.</p>
</li>
<li>
<p>blank: No hay elevaci√≥n m√≠nima documentada.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>El segundo indicador contrasta la elevaci√≥n obtenida con el servicio contra el rango de elevaci√≥n indicado por los elementos <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">minimumElevationInMeters</span><span class="delimiter">"</span></span></code></span> y <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">maximumElevationInMeters</span><span class="delimiter">"</span></span></code></span> y debe ser interpretado as√≠:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>1</strong>: El rango de elevaciones contiene la elevaci√≥n sugerida.</p>
</li>
<li>
<p><strong>0</strong>: El rango de elevaciones NO contiene la elevaci√≥n sugerida.</p>
</li>
</ul>
</div>
<div id="img-fig-65" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-65.jpg" alt="Figura 65" width="700">
</div>
<div class="title">Figura 65</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Importante"></i>
</td>
<td class="content">
Si las coordenas se encuentran sobre plataforma marina, puede que reciba como resultado valores negativos (ej. -1, -3), o valores como: "/home/data/srtm1/N02/N02W080.zip" o "No data".
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="transformaci√≥n-de-fechas-con-el-api-de-canadensys">
<a class="anchor" href="#transformaci%C3%B3n-de-fechas-con-el-api-de-canadensys"></a>5.6. Transformaci√≥n de fechas con el API de Canadensys</h3>
<div class="paragraph">
<p>Esta rutina recopila los pasos de la <a href="#limpieza-de-fechas-utilizando-canadensys-date-parsing">secci√≥n 4.3</a> y automatiza su ejecuci√≥n para el mismo procedimiento.</p>
</div>
<div class="paragraph">
<p><strong>Enlace a la rutina:</strong></p>
</div>
<div class="paragraph">
<p><a href="https://github.com/SIB-Colombia/data-quality-open-refine/blob/master/DateTransform_TransformFechas.txt" class="bare">https://github.com/SIB-Colombia/data-quality-open-refine/blob/master/DateTransform_TransformFechas.txt</a></p>
</div>
<div class="paragraph">
<p><strong>Requerimientos:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>El conjunto de datos a validar debe tener como m√≠nimo el elemento DwC <code>"eventDate"</code> documentado.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Funcionamiento:</strong></p>
</div>
<div class="paragraph">
<p>A partir de la fecha documentada en el archivo base en el elemento <span class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">eventDate</span><span class="delimiter">"</span></span></code></span> se realiza una consulta al API de Canandensys que retorna las fechas transformadas al est√°ndar ISO 8601. A diferencia de las rutinas anteriores el objetivo de esta rutina es transformar las fechas, por ello no retornar√° identificadores de validaci√≥n.</p>
</div>
<div class="paragraph">
<p><strong>Resultados</strong></p>
</div>
<div class="paragraph">
<p>En las primeras columnas del proyecto encontrar√° las columnas con los datos temporales reorganizadas junto con nuevas columnas resultantes de la rutina.</p>
</div>
<div class="paragraph">
<p>A continuaci√≥n se listan las columnas que encontrar√° despu√©s de ejecutar la rutina:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>"eventDateSuggested"</code>: Fecha transformada al est√°ndar ISO 8601.</p>
</li>
<li>
<p><code>"yearSuggested"</code>: A√±o extra√≠do a partir de la transformaci√≥n de la fecha.</p>
</li>
<li>
<p><code>"monthSuggested"</code>: Mes extra√≠do a partir de la transformaci√≥n de la fecha.</p>
</li>
<li>
<p><code>"daySuggested"</code>: D√≠a extra√≠do a partir de la transformaci√≥n de la fecha.</p>
</li>
<li>
<p><code>"verbatimEventDateSuggested"</code>: Fecha en el formato original.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Para no generar conflicto con elementos ya existentes en el conjunto de datos, todas las columnas generadas por la rutina se marcan como sugeridas o <em>Suggested</em> (<a href="#img-fig-66">Figura 66</a>). Si alg√∫n registro no tiene datos de fecha, los elementos resultantes aparecer√°n vac√≠os.</p>
</div>
<div id="img-fig-66" class="imageblock text-center">
<div class="content">
<img src="../img/es.figure-66.jpg" alt="Figura 66" width="700">
</div>
<div class="title">Figura 66</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Importante"></i>
</td>
<td class="content">
Los formatos de fechas que son ambiguos, es decir donde no se diferencia con claridad el mes, el d√≠a o el a√±o, no son transformados. Revise las celdas donde el resultado haya sido nulo o vac√≠o y realice los ajustes necesarios de forma manual.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ep√≠logo">
<a class="anchor" href="#ep%C3%ADlogo"></a>Ep√≠logo</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="agradecimientos">
<a class="anchor" href="#agradecimientos"></a>Agradecimientos</h3>
<div class="paragraph">
<p>Los autores agradecen especialmente a David Bloom (VertNet) y Anabela Plos (GBIF Argentina, Museo Argentino de Ciencias Naturales ‚ÄúBernardino Rivadavia‚Äù) por sus comentarios sobre versiones anteriores de esta gu√≠a. Esta gu√≠a ha sido actualizada en el marco de la iniciativa de actualizaci√≥n de documentaci√≥n del Secretariado del Global Biodiversity Information Facility (GBIF). Este documento se ha actualizado en parte a partir de su uso en distintos cursos de entrenamiento organizados por diversas instituciones, entre las que se cuentan GBIF Argentina - Museo Ciencias Naturales ‚ÄúBernardino Rivadavia‚Äù, GBIF Espa√±a - Real Jard√≠n Bot√°nico de Madrid, y el SiB Colombia incorporando los comentarios de los respectivos alumnos. Las consultas, comentarios y sugerencias de Susana Devincenzi (IANIGLA-CONICET), usuaria incansable de OpenRefine, han sido de particular utilidad para mejorar esta gu√≠a. Los valiosos comentarios y sugerencias durante la etapa de revisi√≥n comunitaria de la gu√≠a por Carole Sinou (Canadensys) y Florencia Grattarola (Biodiversidata) permitieron mejorar el contenido de este documento. Se extienden los agradecimientos a otras personas que tambi√©n contribuyeron de una u otra manera en esta versi√≥n del documento: Katia Cez√≥n, Kyle Copas, Matt Blissett, M√©lianie Raymond, Laura Russell, N√©stor Beltr√°n y miembros del Panel Editorial de Documentaci√≥n de GBIF.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="app-a">
<a class="anchor" href="#app-a"></a>Ap√©ndice 1: instalaci√≥n de OpenRefine</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Nota"></i>
</td>
<td class="content">
Estas instrucciones han sido adaptadas y traducidas al castellano a partir de un instructivo preparado por el GBIF-BID Programme.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="requerimientos">
<a class="anchor" href="#requerimientos"></a>Requerimientos</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="https://www.oracle.com/technetwork/java/javase/downloads/index.html">Java JRE</a> instalado.</p>
</li>
<li>
<p>Navegador de internet instalado (preferentemente <a href="https://www.google.com/chrome/browser/desktop/">Google Chrome</a>).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Para instalar <strong>OpenRefine 3.3</strong> en su computadora, siga los siguientes pasos:</p>
</div>
</div>
<div class="sect2">
<h3 id="instalaci√≥n-en-ms-windows">
<a class="anchor" href="#instalaci%C3%B3n-en-ms-windows"></a>Instalaci√≥n en MS Windows</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Descargue aqu√≠ el <a href="https://github.com/OpenRefine/OpenRefine/releases/download/3.3/openrefine-win-3.3.zip">kit de Windows</a>.</p>
</li>
<li>
<p>Descomprima, y copie la carpeta en su computadora. Abra la carpeta y haga doble click en openrefine.exe. Si encuentra alg√∫n problema en este punto, haga doble click sobre refine.bat.</p>
</li>
<li>
<p>Aparecer√° una ventana de comando (que no debe cerrar) e inmediatamente despu√©s su navegador web mostrar√° una nueva ventana con la aplicaci√≥n.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="instalaci√≥n-en-mac">
<a class="anchor" href="#instalaci%C3%B3n-en-mac"></a>Instalaci√≥n en Mac</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Descargue aqu√≠ el <a href="https://github.com/OpenRefine/OpenRefine/releases/download/3.3/openrefine-mac-3.3.dmg">kit de Mac</a>.</p>
</li>
<li>
<p>Abra y arrastre el icono en la carpeta Applications.</p>
</li>
<li>
<p>Haga doble clic en √©l y su navegador web mostrar√° una nueva ventana con la aplicaci√≥n.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Nota"></i>
</td>
<td class="content">
Existe tambi√©n una <a href="https://github.com/OpenRefine/OpenRefine/releases/download/3.3/openrefine-linux-3.3.tar.gz">versi√≥n para Linux</a>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="para-saber-m√°s">
<a class="anchor" href="#para-saber-m%C3%A1s"></a>Para saber m√°s</h3>
<div class="ulist">
<ul>
<li>
<p>Puede encontrar instrucciones adicionales para la instalaci√≥n y consultar funciones b√°sicas en el <a href="https://docs.openrefine.org/">Manual del Usuario de OpenRefine</a>.</p>
</li>
<li>
<p>Si desea instalar otras versiones del programa, puede encontrarlas en la p√°gina de <a href="https://openrefine.org/download.html">Descargas de Open Refine</a>.</p>
</li>
<li>
<p>OpenRefine permite adem√°s trabajar con <strong>Extensiones</strong> creadas por miembros de la comunidad, que proveen diversas funciones. Puede consultar aqu√≠ la <a href="https://openrefine.org/download.html">Lista de Extensiones disponibles</a> con sus descripciones y las <a href="https://docs.openrefine.org/manual/installing/#installing-extensions">Instrucciones para Instalar Extensiones</a>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">Versi√≥n 3.0<br>Ultima actualizaci√≥n 2021-02-25 12:56:06 UTC</div>
<script>






</script>
</div>
<script defer data-domain="docs.gbif.org,gbif.org" src="https://plausible.io/js/script.file-downloads.js"></script>
</body>
</html>
 contentType 9 text/html url 50 https://docs.gbif.org:443/openrefine-guide/3.0/es/ responseCode 3 200 