wouctiiegmdgyadikgqqbawoloaiyiralqeahapq length 5 11244 page 11244 
<html>
<head>
<title>r14273 MediaWiki - Code Review archive</title>
<meta charset="utf-8">
<link rel="stylesheet" href="../ext.codereview.styles.css"/>
</head>
<body>
<h1>r14273 MediaWiki - Code Review archive</h1>
<div id="mw-content-text" class="mw-body-content"><form action="/wiki/Special:Code/MediaWiki/14273" method="post"><table class="mw-codereview-meta"><tr><td>Repository:</td><td><a href="https://www.mediawiki.org/wiki/Special:Code/MediaWiki" title="Special:Code/MediaWiki">MediaWiki</a></td></tr>
<tr><td>Revision:</td><td>&lt;&#160;<a href="./14272.html" title="Special:Code/MediaWiki/14272">r14272</a>‎ | <b>r14273</b> | <a href="./14274.html" title="Special:Code/MediaWiki/14274">r14274</a>&#160;&gt;</td></tr>
<tr><td>Date:</td><td>15:36, 17 May 2006</td></tr>
<tr><td>Author:</td><td><a href="https://www.mediawiki.org/wiki/Special:Code/MediaWiki/author/robchurch" title="Special:Code/MediaWiki/author/robchurch">robchurch</a></td></tr>
<tr><td>Status:</td><td>old</td></tr>
<tr><td>Tags:</td><td></td></tr>
<tr><td>Comment:</td><td><div class="mw-codereview-message">(<a class="external" href="https://bugzilla.wikimedia.org/show_bug.cgi?id=839">bug 839</a>) Add URLENCODE magic word</div></td></tr>
<tr><td>Modified paths:</td><td><div class='mw-codereview-paths mw-content-ltr'><ul>
<li><b>/trunk/phase3/RELEASE-NOTES</b> (modified) (<a href="https://www.mediawiki.org/w/index.php?title=Special:Code/MediaWiki&amp;path=%2Ftrunk%2Fphase3%2FRELEASE-NOTES" title="Special:Code/MediaWiki">history</a>)</li>
<li><b>/trunk/phase3/includes/MagicWord.php</b> (modified) (<a href="https://www.mediawiki.org/w/index.php?title=Special:Code/MediaWiki&amp;path=%2Ftrunk%2Fphase3%2Fincludes%2FMagicWord.php" title="Special:Code/MediaWiki">history</a>)</li>
<li><b>/trunk/phase3/includes/Parser.php</b> (modified) (<a href="https://www.mediawiki.org/w/index.php?title=Special:Code/MediaWiki&amp;path=%2Ftrunk%2Fphase3%2Fincludes%2FParser.php" title="Special:Code/MediaWiki">history</a>)</li>
<li><b>/trunk/phase3/languages/Language.php</b> (modified) (<a href="https://www.mediawiki.org/w/index.php?title=Special:Code/MediaWiki&amp;path=%2Ftrunk%2Fphase3%2Flanguages%2FLanguage.php" title="Special:Code/MediaWiki">history</a>)</li>
</ul></div>
</td></tr>
</table>
<h2>Diff <small>[<a href="https://www.mediawiki.org/w/index.php?title=Special:Code/MediaWiki/14273&amp;action=purge" title="Special:Code/MediaWiki/14273">purge</a>]</small></h2><div class='mw-codereview-diff' id='mw-codereview-diff'><table class="mw-codereview-diff"><tr id="1" class="patchedfile"><td colspan="3">Index: trunk/phase3/includes/Parser.php</td></tr>



<tr id="5"><td class="linenumbers">—</td><td class="linenumbers">—</td><td class="chunkdelimiter"><span>@@ -2579,6 +2579,15 @@</span></td></tr>
<tr id="6"><td class="linenumbers">2580</td><td class="linenumbers">2580</td><td class="unchanged"><span> 			}</span></td></tr>
<tr id="7"><td class="linenumbers">2581</td><td class="linenumbers">2581</td><td class="unchanged"><span> 		}</span></td></tr>
<tr id="8"><td class="linenumbers">2582</td><td class="linenumbers">2582</td><td class="unchanged"><span> </span></td></tr>
<tr id="9"><td class="linenumbers"> </td><td class="linenumbers">2583</td><td class="ins"><ins>+		# URLENCODE</ins></td></tr>
<tr id="10"><td class="linenumbers"> </td><td class="linenumbers">2584</td><td class="ins"><ins>+		if( !$found ) {</ins></td></tr>
<tr id="11"><td class="linenumbers"> </td><td class="linenumbers">2585</td><td class="ins"><ins>+			$urlencode =&amp; MagicWord::get( MAG_URLENCODE );</ins></td></tr>
<tr id="12"><td class="linenumbers"> </td><td class="linenumbers">2586</td><td class="ins"><ins>+			if( $urlencode->matchStartAndRemove( $part1 ) ) {</ins></td></tr>
<tr id="13"><td class="linenumbers"> </td><td class="linenumbers">2587</td><td class="ins"><ins>+				$text = $linestart . urlencode( $part1 );</ins></td></tr>
<tr id="14"><td class="linenumbers"> </td><td class="linenumbers">2588</td><td class="ins"><ins>+				$found = true;</ins></td></tr>
<tr id="15"><td class="linenumbers"> </td><td class="linenumbers">2589</td><td class="ins"><ins>+			}</ins></td></tr>
<tr id="16"><td class="linenumbers"> </td><td class="linenumbers">2590</td><td class="ins"><ins>+		}</ins></td></tr>
<tr id="17"><td class="linenumbers"> </td><td class="linenumbers">2591</td><td class="ins"><ins>+</ins></td></tr>
<tr id="18"><td class="linenumbers">2583</td><td class="linenumbers">2592</td><td class="unchanged"><span> 		# LCFIRST, UCFIRST, LC and UC</span></td></tr>
<tr id="19"><td class="linenumbers">2584</td><td class="linenumbers">2593</td><td class="unchanged"><span> 		if ( !$found ) {</span></td></tr>
<tr id="20"><td class="linenumbers">2585</td><td class="linenumbers">2594</td><td class="unchanged"><span> 			$lcfirst =&amp; MagicWord::get( MAG_LCFIRST );</span></td></tr>
<tr id="21" class="patchedfile"><td colspan="3">Index: trunk/phase3/includes/MagicWord.php</td></tr>



<tr id="25"><td class="linenumbers">—</td><td class="linenumbers">—</td><td class="chunkdelimiter"><span>@@ -88,6 +88,7 @@</span></td></tr>
<tr id="26"><td class="linenumbers">89</td><td class="linenumbers">89</td><td class="unchanged"><span> 	'MAG_CURRENTVERSION',</span></td></tr>
<tr id="27"><td class="linenumbers">90</td><td class="linenumbers">90</td><td class="unchanged"><span> 	'MAG_BASEPAGENAME',</span></td></tr>
<tr id="28"><td class="linenumbers">91</td><td class="linenumbers">91</td><td class="unchanged"><span> 	'MAG_BASEPAGENAMEE',</span></td></tr>
<tr id="29"><td class="linenumbers"> </td><td class="linenumbers">92</td><td class="ins"><ins>+	'MAG_URLENCODE',</ins></td></tr>
<tr id="30"><td class="linenumbers">92</td><td class="linenumbers">93</td><td class="unchanged"><span> );</span></td></tr>
<tr id="31"><td class="linenumbers">93</td><td class="linenumbers">94</td><td class="unchanged"><span> if ( ! defined( 'MEDIAWIKI_INSTALL' ) )</span></td></tr>
<tr id="32"><td class="linenumbers">94</td><td class="linenumbers">95</td><td class="unchanged"><span> 	wfRunHooks( 'MagicWordMagicWords', array( &amp;$magicWords ) );</span></td></tr>
<tr id="33"><td class="linenumbers">—</td><td class="linenumbers">—</td><td class="chunkdelimiter"><span>@@ -138,6 +139,7 @@</span></td></tr>
<tr id="34"><td class="linenumbers">139</td><td class="linenumbers">140</td><td class="unchanged"><span> 	MAG_CURRENTVERSION,</span></td></tr>
<tr id="35"><td class="linenumbers">140</td><td class="linenumbers">141</td><td class="unchanged"><span> 	MAG_BASEPAGENAME,</span></td></tr>
<tr id="36"><td class="linenumbers">141</td><td class="linenumbers">142</td><td class="unchanged"><span> 	MAG_BASEPAGENAMEE,</span></td></tr>
<tr id="37"><td class="linenumbers"> </td><td class="linenumbers">143</td><td class="ins"><ins>+	MAG_URLENCODE,</ins></td></tr>
<tr id="38"><td class="linenumbers">142</td><td class="linenumbers">144</td><td class="unchanged"><span> );</span></td></tr>
<tr id="39"><td class="linenumbers">143</td><td class="linenumbers">145</td><td class="unchanged"><span> if ( ! defined( 'MEDIAWIKI_INSTALL' ) )</span></td></tr>
<tr id="40"><td class="linenumbers">144</td><td class="linenumbers">146</td><td class="unchanged"><span> 	wfRunHooks( 'MagicWordwgVariableIDs', array( &amp;$wgVariableIDs ) );</span></td></tr>
<tr id="41" class="patchedfile"><td colspan="3">Index: trunk/phase3/RELEASE-NOTES</td></tr>



<tr id="45"><td class="linenumbers">—</td><td class="linenumbers">—</td><td class="chunkdelimiter"><span>@@ -286,6 +286,7 @@</span></td></tr>
<tr id="46"><td class="linenumbers">287</td><td class="linenumbers">287</td><td class="unchanged"><span> * (bug 6001) PAGENAMEE and FULLPAGENAMEE don't work in FULLURL and LOCALURL magic</span></td></tr>
<tr id="47"><td class="linenumbers">288</td><td class="linenumbers">288</td><td class="unchanged"><span>   words</span></td></tr>
<tr id="48"><td class="linenumbers">289</td><td class="linenumbers">289</td><td class="unchanged"><span> * (bug 5958) Switch Uzbek language name to use latin script</span></td></tr>
<tr id="49"><td class="linenumbers"> </td><td class="linenumbers">290</td><td class="ins"><ins>+* (bug 839) Add URLENCODE magic word</ins></td></tr>
<tr id="50"><td class="linenumbers">290</td><td class="linenumbers">291</td><td class="unchanged"><span> </span></td></tr>
<tr id="51"><td class="linenumbers">291</td><td class="linenumbers">292</td><td class="unchanged"><span> == Compatibility ==</span></td></tr>
<tr id="52"><td class="linenumbers">292</td><td class="linenumbers">293</td><td class="unchanged"><span> </span></td></tr>
<tr id="53" class="patchedfile"><td colspan="3">Index: trunk/phase3/languages/Language.php</td></tr>



<tr id="57"><td class="linenumbers">—</td><td class="linenumbers">—</td><td class="chunkdelimiter"><span>@@ -286,6 +286,7 @@</span></td></tr>
<tr id="58"><td class="linenumbers">287</td><td class="linenumbers">287</td><td class="unchanged"><span> 	MAG_RAWSUFFIX			 => array( 1,	 'R'					  ),</span></td></tr>
<tr id="59"><td class="linenumbers">288</td><td class="linenumbers">288</td><td class="unchanged"><span> 	MAG_NEWSECTIONLINK		 => array( 1,	 '__NEWSECTIONLINK__'	  ),</span></td></tr>
<tr id="60"><td class="linenumbers">289</td><td class="linenumbers">289</td><td class="unchanged"><span> 	MAG_CURRENTVERSION		 => array( 1, 	 'CURRENTVERSION'		  ),</span></td></tr>
<tr id="61"><td class="linenumbers"> </td><td class="linenumbers">290</td><td class="ins"><ins>+	MAG_URLENCODE			 => array( 0,	 'URLENCODE:'			  ),</ins></td></tr>
<tr id="62"><td class="linenumbers">290</td><td class="linenumbers">291</td><td class="unchanged"><span> );</span></td></tr>
<tr id="63"><td class="linenumbers">291</td><td class="linenumbers">292</td><td class="unchanged"><span> </span></td></tr>
<tr id="64"><td class="linenumbers">292</td><td class="linenumbers">293</td><td class="unchanged"><span> if (!$wgCachedMessageArrays) {</span></td></tr>
</table>
</div>
<h2 id='code-references'>Follow-up revisions</h2>
<table border='1' class='wikitable'><tr><th>Revision</th><th>Commit summary</th><th>Author</th><th>Date</th></tr><tr class='mw-codereview-status-deferred'><td><a href="./74609.html" title="Special:Code/MediaWiki/74609">r74609</a></td><td>Remove urlencode. It overwrites the more powerful core urlencode....</td><td><a href="https://www.mediawiki.org/wiki/Special:Code/MediaWiki/author/platonides" title="Special:Code/MediaWiki/author/platonides">platonides</a></td><td>23:36, 10 October 2010</td></tr></table><h2 id='code-changes'>Status &amp; tagging log</h2>
<ul class='mw-codereview-changes'><li>01:58, 13 October 2010&#160;<a href="https://www.mediawiki.org/wiki/User:%F0%9F%98%82" class="mw-userlink" title="User:😂"><bdi>😂</bdi></a> <span class="mw-usertoollinks">(<a href="https://www.mediawiki.org/wiki/User_talk:%F0%9F%98%82" class="mw-usertoollinks-talk" title="User talk:😂">talk</a> | <a href="https://www.mediawiki.org/wiki/Special:Contributions/%F0%9F%98%82" class="mw-usertoollinks-contribs" title="Special:Contributions/😂">contribs</a>)</span>&#160;changed the <b>status</b> of r14273 <i>[<b>removed:</b> new&#160;<b>added:</b> old]</i></li></ul></form></div>
</body>
</html>
 contentType 9 text/html url 64 https://static-codereview.wikimedia.org:443/MediaWiki/14273.html responseCode 3 200 