narorqxgbanmpqdiscykbohoncbsjiocvipkwcec length 5 41929 page 41929 <!DOCTYPE HTML>
<html lang="en">
  <head>
<!-- PDTQ-131 -->
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-N3RT7TD');</script>
<!-- End Google Tag Manager -->
    
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Building an R Project - Travis CI</title>
<link rel="stylesheet" href="/assets/stylesheets/main.css">
<link rel="alternate" type="application/rss+xml" title="Travis CI Build Environment Updates" href="https://docs.travis-ci.com/feed.build-env-updates.xml">
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js" defer></script>

<script src="/assets/javascripts/main.js" type="text/javascript" charset="utf-8" defer></script>
<script src="/assets/javascripts/prism.js" type="text/javascript" charset="utf-8" defer></script>
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@travisci" />
<meta name="twitter:creator" content="@travisci" />
<meta property="og:title" content="Travis CI Documentation" />
<meta property="og:type" content="website" />
<meta property="og:url" content=/user/languages/r/ />
<meta property="og:description" content="Building an R Project" />
<meta property="og:image" content="/images/TravisCI-Full-Color.png" }} />
<meta property="og:image:type" content="image/png" />
<meta property="og:image:width" content="642" />
<meta property="og:image:height" content="201" />
<meta property="og:image:alt" content="Travis CI logo" />


 

  </head>
  <body>
<!-- PDTQ-131 -->
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N3RT7TD"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

    <div class="wrapper">

      <header class="top">
  <div class="row topbar">
    <h1 id="logo" class="logo">
  <a href="https://travis-ci.com/" title="Travis CI">Travis</a>
</h1>

    <nav>
      <ul id="navigation" class="navigation">
        <li><a href="https://blog.travis-ci.com">Blog</a></li>
        <li><a href="/">Docs</a></li>
        <li class="toggle"><button type="button" id="toggle-menu" class="button--teal">Menu</button></li>
      </ul>
    </nav>
  </div>
</header>


      <div id="content" class="row">

        <div id="sidebar" class="sidebar">
  <div>
    <!-- <h2>Search</h2> -->
    <div class="searchbox">
      <form>
        <input type="text" id="st-search-input" class="searchbox-input" placeholder="Search the docs" />
      </form>
      <script type="text/javascript">
      var Swiftype = window.Swiftype || {};
        (function() {
          Swiftype.key = 'tXvDDzd4fNTBnLvxfEyx';

          Swiftype.searchSearchFields = {
            "page": ["title, body, tags"]
          };
          Swiftype.autocompleteSearchFields = {
            "page": ["title, body, tags"]
          };
          /** DO NOT EDIT BELOW THIS LINE **/
          var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
          script.src = "//swiftype.com/embed.js";
          var entry = document.getElementsByTagName('script')[0];
          document.getElementsByTagName('script')[0].parentNode.insertBefore(script, entry);
        }());
      </script>
    </div>
  </div>

  <section class="sidebar-navigation">
    <nav>
      <h3>Getting Started</h3>
      <ul>
        <li><a href="/user/for-beginners/">Core Concepts for Beginners</a></li>
        <li><a href="/user/tutorial/">Travis CI Tutorial</a></li>
        <li><a href="/user/customizing-the-build/">Customizing the Build</a></li>
        <li><a href="/user/speeding-up-the-build/">Speeding up the Build</a></li>
        <li><a href="/user/docker/">Using Docker in your Build</a></li>
        <li><a href="/user/gui-and-headless-browsers/">Headless Testing with Browsers</a></li>
        <li><a href="/user/pull-requests/">Building Pull Requests</a></li>
        <li><a href="/user/cron-jobs/">Cron Jobs</a></li>
        <li><a href="/user/common-build-problems/">Common Build Problems</a></li>
        <li><a href="https://github.com/travis-ci/travis#readme">Command Line Client</a></li>
        <li><a href="/user/build-config-imports/">Build Config Imports</a></li>
        <li><a href="/user/build-config-validation/">Build Config Validation</a></li>
      </ul>

      <h3>Jobs, Builds, Matrices and Stages</h3>
      <ul>
        <li><a href="/user/job-lifecycle/">Job Lifecycle</a></li>
        <li><a href="/user/build-matrix/">Build Matrix</a></li>
        <li><a href="/user/build-stages/">Build Stages</a></li>
        <li><a href="/user/conditional-builds-stages-jobs/">Conditional Builds, Stages, and Jobs</a></li>
      </ul>

      <h3>Installing Dependencies</h3>
      <ul>
        <li><a href="/user/installing-dependencies/">Installing Dependencies</a></li>
        <li><a href="/user/private-dependencies/">Private Dependencies GitHub</a></li>
        <li><a href="/user/private-dependencies-bb/">Private Dependencies Bitbucket</a></li>
        <li><a href="/user/database-setup/">Setting up Services and Databases</a></li>
        <li><a href="/user/caching/">Caching Dependencies</a></li>
        <li><a href="/user/using-workspaces/">Caching Dependencies within a Build (Workspaces)</a></li>
        <li><a href="/user/ssh-known-hosts/">Adding to SSH Known Hosts</a></li>
      </ul>

      <h3>Programming Languages</h3>
      <ul>
      
        <li><a href="/user/languages/android/">Android</a></li>
      
        <li><a href="/user/languages/c/">C</a></li>
      
        <li><a href="/user/languages/csharp/">C#</a></li>
      
        <li><a href="/user/languages/cpp/">C++</a></li>
      
        <li><a href="/user/languages/clojure/">Clojure</a></li>
      
        <li><a href="/user/languages/crystal/">Crystal</a></li>
      
        <li><a href="/user/languages/d/">D</a></li>
      
        <li><a href="/user/languages/dart/">Dart</a></li>
      
        <li><a href="/user/languages/elixir/">Elixir</a></li>
      
        <li><a href="/user/languages/elm/">Elm</a></li>
      
        <li><a href="/user/languages/erlang/">Erlang</a></li>
      
        <li><a href="/user/languages/csharp/">F#</a></li>
      
        <li><a href="/user/languages/minimal-and-generic/">Generic</a></li>
      
        <li><a href="/user/languages/go/">Go</a></li>
      
        <li><a href="/user/languages/groovy/">Groovy</a></li>
      
        <li><a href="/user/languages/haskell/">Haskell</a></li>
      
        <li><a href="/user/languages/haxe/">Haxe</a></li>
      
        <li><a href="/user/languages/java/">Java</a></li>
      
        <li><a href="/user/languages/javascript-with-nodejs/">JavaScript <small>(with Node.js)</small></a></li>
      
        <li><a href="/user/languages/julia/">Julia</a></li>
      
        <li><a href="/user/languages/matlab/">MATLAB</a></li>
      
        <li><a href="/user/languages/minimal-and-generic/">Minimal</a></li>
      
        <li><a href="/user/languages/nix/">Nix</a></li>
      
        <li><a href="/user/languages/objective-c/">Objective-C</a></li>
      
        <li><a href="/user/languages/perl/">Perl</a></li>
      
        <li><a href="/user/languages/perl6/">Perl6</a></li>
      
        <li><a href="/user/languages/php/">PHP</a></li>
      
        <li><a href="/user/languages/python/">Python</a></li>
      
        <li><a href="/user/languages/r/">R</a></li>
      
        <li><a href="/user/languages/ruby/">Ruby</a></li>
      
        <li><a href="/user/languages/rust/">Rust</a></li>
      
        <li><a href="/user/languages/scala/">Scala</a></li>
      
        <li><a href="/user/languages/smalltalk/">Smalltalk</a></li>
      
        <li><a href="/user/languages/objective-c/">Swift</a></li>
      
        <li><a href="/user/languages/csharp/">Visual Basic</a></li>
      
        <li><a href="/user/languages/community-supported-languages/">Adding a language</a></li>
      </ul>

      <h3>Deployments and Uploads</h3>
      <ul>
        
          <li class="is-overview"><a href="/user/deployment/">Overview</a></li>
          
        
        
          <li><a href="/user/deployment/anynines/">anynines</a></li>
        
          <li><a href="/user/deployment/atlas/">Atlas</a></li>
        
          <li><a href="/user/deployment/codedeploy/">AWS CodeDeploy</a></li>
        
          <li><a href="/user/deployment/elasticbeanstalk/">AWS Elastic Beanstalk</a></li>
        
          <li><a href="/user/deployment/lambda/">AWS Lambda</a></li>
        
          <li><a href="/user/deployment/opsworks/">AWS OpsWorks</a></li>
        
          <li><a href="/user/deployment/s3/">AWS S3</a></li>
        
          <li><a href="/user/deployment/azure-web-apps/">Azure Web Apps</a></li>
        
          <li><a href="/user/deployment/bintray/">bintray</a></li>
        
          <li><a href="/user/deployment/bitballoon/">BitBalloon</a></li>
        
          <li><a href="/user/deployment/bluemixcloudfoundry/">Bluemix CloudFoundry</a></li>
        
          <li><a href="/user/deployment/boxfuse/">Boxfuse</a></li>
        
          <li><a href="/user/deployment/catalyze/">Catalyze</a></li>
        
          <li><a href="/user/deployment/chefsupermarket/">Chef Supermarket</a></li>
        
          <li><a href="/user/deployment/cloud66/">Cloud 66</a></li>
        
          <li><a href="/user/deployment/cloudfoundry/">CloudFoundry</a></li>
        
          <li><a href="/user/deployment/cargo/">Cargo</a></li>
        
          <li><a href="/user/deployment/engineyard/">Engine Yard</a></li>
        
          <li><a href="/user/deployment/pages/">GitHub Pages</a></li>
        
          <li><a href="/user/deployment/releases/">GitHub Releases</a></li>
        
          <li><a href="/user/deployment/google-app-engine/">Google App Engine</a></li>
        
          <li><a href="/user/deployment/gcs/">Google Cloud Storage</a></li>
        
          <li><a href="/user/deployment/firebase/">Google Firebase</a></li>
        
          <li><a href="/user/deployment/hackage/">Hackage</a></li>
        
          <li><a href="/user/deployment/hephy/">Hephy</a></li>
        
          <li><a href="/user/deployment/heroku/">Heroku</a></li>
        
          <li><a href="/user/deployment/launchpad/">Launchpad</a></li>
        
          <li><a href="/user/deployment/npm/">npm</a></li>
        
          <li><a href="/user/deployment/openshift/">OpenShift</a></li>
        
          <li><a href="/user/deployment/packagecloud/">packagecloud.io</a></li>
        
          <li><a href="/user/deployment/puppetforge/">Puppet Forge</a></li>
        
          <li><a href="/user/deployment/pypi/">PyPI</a></li>
        
          <li><a href="/user/deployment/cloudfiles/">Rackspace Cloud Files</a></li>
        
          <li><a href="/user/deployment/rubygems/">RubyGems</a></li>
        
          <li><a href="/user/deployment/scalingo/">Scalingo</a></li>
        
          <li><a href="/user/deployment/script/">Script</a></li>
        
          <li><a href="/user/deployment/snaps/">Snap Store</a></li>
        
          <li><a href="/user/deployment/surge/">Surge.sh</a></li>
        
          <li><a href="/user/deployment/testfairy/">TestFairy</a></li>
        
          <li><a href="/user/deployment/transifex/">Transifex</a></li>
        
        <li><a href="/user/uploading-artifacts/">Uploading Build Artifacts</a></li>
      </ul>

      <h3>CI Environment Reference</h3>
      <ul>
        <li class="is-overview"><a href="/user/reference/overview/">Overview</a></li>
        <li><a href="/user/reference/linux/">Ubuntu Linux CI Environment References</a></li>
        <li><a href="/user/reference/osx/">macOS CI Environment Reference</a></li>
        <li><a href="/user/reference/windows/">Windows CI Environment Reference</a></li>
        <li><a href="/user/reference/freebsd/">FreeBSD CI Environment Reference</a></li>
        <li><a href="/user/multi-os/">Building on Multiple Operating Systems</a></li>
        <li><a href="/user/multi-cpu-architectures/">Building on Multiple CPU Architectures</a></li>
        <li><a href="/user/environment-variables/">Environment Variables</a></li>
        <li><a href="/user/build-environment-updates/">Build Environment Updates</a></li>
        <li><a href="/user/ip-addresses/">Build Machines IP Addresses</a></li>
      </ul>

      <h3>Security and Secure Software Supply Chain</h3>
      <ul>
        <li><a href="/user/encryption-keys/">Encrypting Sensitive Data</a></li>
        <li><a href="/user/encrypting-files/">Encrypting Files</a></li>
        <li><a href="/user/github-oauth-scopes/">GitHub Permissions used by Travis CI</a></li>
        <li><a href="/user/bb-oauth-scopes/">Bitbucket Permissions used by Travis CI</a></li>
        <li><a href="/user/assembla-oauth-scopes/">Assembla Permissions used by Travis CI</a></li>
        <li><a href="/user/gl-oauth-scopes/">GitLab Permissions used by Travis CI</a></li>
        <li><a href="/user/disable-job-logs/">Disable Job Logs Availability</a></li>
        <li><a href="/user/best-practices-security/">Best Practices in Securing Your Data</a></li>
        <li><a href="/user/securely-signing-software">Securely Signing Software</a></li>
        <li><a href="/user/sbom">Software Bill of Materials</a></li>
      </ul>

      <h3>Integrations and Notifications</h3>
      <ul>
        <li><a href="/user/notifications/">Configuring Notifications</a></li>
        <li><a href="/user/status-images/">Showing Build Status Images</a></li>
        <li><a href="/user/code-climate/">Code Climate</a></li>
        <li><a href="/user/deepsource/">DeepSource</a></li>
        <li><a href="/user/coveralls/">Coveralls</a></li>
        <li><a href="/user/coverity-scan/">Coverity Scan</a></li>
        <li><a href="/user/browserstack/">BrowserStack</a></li>
        <li><a href="/user/sauce-connect/">Sauce Labs</a></li>
        <li><a href="/user/sonarcloud/">SonarCloud</a></li>
        <li><a href="/user/sourceclear/">SourceClear</a></li>
        <li><a href="/user/build-feeds/">Atom Feeds</a></li>
        <li><a href="/user/cc-menu/">CCMenu / CCTray Feeds</a></li>
        <li><a href="/user/integration/platformio/">Embedded Builds with PlatformIO</a></li>
        <li><a href="/user/hashicorp-vault-integration">Hashicorp Vault</a></li>
        <li><a href="/user/apps/">3rd Party Apps, Clients and Tools</a></li>
      </ul>

      <h3>Developer Program</h3>
      <ul>
        <li class="is-overview"><a href="/user/developer/">Overview</a></li>
        <li><a href="https://developer.travis-ci.com/">API V3</a></li>
        <li><a href="/user/triggering-builds/">Triggering Builds with API V3</a></li>
        <li><a href="https://github.com/travis-ci/travis#ruby-library">The Ruby Library</a></li>
      </ul>
      
      <h3>Hosted Billing</h3>
      <ul>
        <li class="is-overview"><a href="/user/billing-overview/">Overview</a></li>
        <li><a href="/user/billing-autorefill/">Auto-refill</a></li>
        <li><a href="/user/billing-faq/">FAQ</a></li>
      </ul>

      <h3>Travis CI Enterprise</h3>
      <ul>
        <li><a href="/user/enterprise/">Enterprise Docs</a></li>
      </ul>

    </nav>
  </section>

  <section class="sidebar-notice">
    <p>This documentation site is Open Source.
      The <a href="https://github.com/travis-ci/docs-travis-ci-com">README in our Git repository</a> explains how to contribute.</p>
    <p>Travis CI relies on Open Source <a href="/user/open_source_license/">licensing information</a>.</p>
  </section>

</div><!-- /#sidebar -->


        <main id="main" class="main" data-swiftype-index='true'>
          
            <aside class="improve-page" data-swiftype-index='false'><a href="https://github.com/travis-ci/docs-travis-ci-com/edit/master/user/languages/r.md" target="_blank" title="Edit this page on GitHub" class="button-pen" data-proofer-ignore>Improve this page on GitHub</a></aside>
            <h1 class="title">Building an R Project</h1>
          

          


          
            <div id="toc" class="toc">
              <ul class="list-language">
  <li><a href="#basic-configuration">Basic configuration</a></li>
  <li><a href="#configuration-options">Configuration options</a></li>
  <li><a href="#build-config-reference">Build Config Reference</a></li>
  <li><a href="#examples">Examples</a></li>
  <li><a href="#converting-from-r-travis">Converting from r-travis</a></li>
  <li><a href="#acknowledgements">Acknowledgements</a></li>
</ul>

            </div>
          

          <h3 id="what-this-guide-covers">What This Guide Covers <a href="#what-this-guide-covers" class="toc-anchor">#</a></h3>

<p>This guide covers build environment and configuration topics specific to R
projects.
Please make sure to read our <a href="/user/tutorial/">Tutorial</a> and <a href="/user/customizing-the-build/">build configuration</a> guides first.</p>

<h3 id="community-supported-warning">Community-Supported Warning <a href="#community-supported-warning" class="toc-anchor">#</a></h3>

<p>Travis CI support for R is contributed by the community and may be removed or
altered at any time. If you run into any problems, please report them in the
<a href="https://travis-ci.community/c/languages/r">R section of our forums</a> and cc <a href="https://github.com/jeroen">@jeroen</a>
and <a href="https://github.com/jimhester">@jimhester</a>.</p>

<h2 id="basic-configuration">Basic configuration <a href="#basic-configuration" class="toc-anchor">#</a></h2>

<p>R support in Travis CI is designed to make it easy to test <a href="http://cran.r-project.org/doc/manuals/R-exts.html">R
packages</a>. If your R package doesn’t need any system dependencies
beyond those specified in your <code class="highlighter-rouge">DESCRIPTION</code> file, your <code class="highlighter-rouge">.travis.yml</code> can
simply be</p>

<div data-file=".travis.yml" class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">language</span><span class="pi">:</span> <span class="s">r</span>
</code></pre></div></div>

<p>The R environment comes with <a href="https://www.tug.org/texlive/">LaTeX</a> and <a href="http://johnmacfarlane.net/pandoc/">pandoc</a>
pre-installed, making it easier to use packages like <a href="http://rmarkdown.rstudio.com/">RMarkdown</a> or
<a href="https://yihui.name/knitr/" data-proofer-ignore="">knitr</a></p>

<h2 id="configuration-options">Configuration options <a href="#configuration-options" class="toc-anchor">#</a></h2>

<p>Travis CI supports a number of configuration options for your R package.</p>

<h3 id="r-versions">R Versions <a href="#r-versions" class="toc-anchor">#</a></h3>

<p>Travis CI supports R versions <code class="highlighter-rouge">3.0.3</code> and above on Ubuntu Precise, Ubuntu Trusty and macOS.
Aliases exist for each major release, e.g <code class="highlighter-rouge">3.1</code> points to <code class="highlighter-rouge">3.1.3</code>. In addition the
name <code class="highlighter-rouge">oldrel</code> is aliased to the previous major release and <code class="highlighter-rouge">release</code> is aliased to the
latest minor release. <code class="highlighter-rouge">devel</code> is built off of the <a href="https://travis-ci.org/wch/r-source">R git mirror</a>
of the R SVN trunk (updated hourly).</p>

<p>Matrix builds <em>are</em> supported for R builds, however both instances of <code class="highlighter-rouge">r</code> must
be in <em>lowercase</em>.</p>

<div data-file=".travis.yml" class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">language</span><span class="pi">:</span> <span class="s">r</span>
<span class="na">r</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">oldrel</span>
  <span class="pi">-</span> <span class="s">release</span>
  <span class="pi">-</span> <span class="s">devel</span>
</code></pre></div></div>

<p>As new minor versions are released, aliases will float and point to the most
current minor release.</p>

<p>You can access the above “channel” <em>string</em> (i.e. <code class="highlighter-rouge">release</code>) as opposed to the concrete version number (i.e <code class="highlighter-rouge">3.2.1</code>) with the environmental variable <code class="highlighter-rouge">TRAVIS_R_VERSION_STRING</code>.</p>

<p>The exact R version used for each build is included in the ‘R session information’
fold within the build log.</p>

<h3 id="dependencies">Dependencies <a href="#dependencies" class="toc-anchor">#</a></h3>

<p>By default, Travis CI will find all R packages listed as dependencies in your
package’s <code class="highlighter-rouge">DESCRIPTION</code> file, and install them from CRAN. You can include
dependencies on packages in development by listing them in the <code class="highlighter-rouge">Remotes:</code> field
in your <code class="highlighter-rouge">DESCRIPTION</code>. See the <a href="https://github.com/hadley/devtools/blob/master/vignettes/dependencies.Rmd#package-remotes">Remotes Vignette</a> for more
information on using development remotes in your package.</p>

<p>Most of the time you should not need to specify any additional dependencies in
your <code class="highlighter-rouge">.travis.yml</code>.</p>

<h3 id="latextexlive-packages">LaTeX/TexLive Packages <a href="#latextexlive-packages" class="toc-anchor">#</a></h3>

<p>The included TexLive distribution contains only a limited set of default
packages. If your vignettes require additional TexLive packages you
can install them using <code class="highlighter-rouge">tlmgr install</code> in the <code class="highlighter-rouge">before_install</code> step.</p>

<div data-file=".travis.yml" class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">language</span><span class="pi">:</span> <span class="s">r</span>

<span class="na">before_install</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">tlmgr install index</span>
</code></pre></div></div>

<p>The best way to figure out what packages you may need is to look at the
packages listed in the LaTeX error message and search for them on <a href="https://www.ctan.org/">CTAN</a>.
Packages often have a <code class="highlighter-rouge">Contained in:</code> field that indicates the package group
you need to install.</p>

<p>If you don’t need LaTeX, tell Travis CI not to install it using <code class="highlighter-rouge">latex: false</code>.</p>

<h3 id="pandoc">Pandoc <a href="#pandoc" class="toc-anchor">#</a></h3>

<p>The default pandoc version installed is <code class="highlighter-rouge">2.2</code>. Alternative <a href="https://github.com/jgm/pandoc/releases">pandoc
releases</a> can be installed by setting the <code class="highlighter-rouge">pandoc_version</code> to the
desired version.</p>

<div data-file=".travis.yml" class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">language</span><span class="pi">:</span> <span class="s">r</span>
<span class="na">pandoc_version</span><span class="pi">:</span> <span class="s">1.19.2.1</span>
</code></pre></div></div>

<p>If you don’t need Pandoc, tell Travis CI not to install it using <code class="highlighter-rouge">pandoc: false</code>.</p>

<h3 id="apt-packages">APT packages <a href="#apt-packages" class="toc-anchor">#</a></h3>

<p>Use the <a href="/user/installing-dependencies/#installing-packages-with-the-apt-addon">APT addon</a> to install APT packages.
The snippet below installs a prerequisite for the R package <code class="highlighter-rouge">xml2</code>:</p>

<div data-file=".travis.yml" class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">addons</span><span class="pi">:</span>
  <span class="na">apt</span><span class="pi">:</span>
    <span class="na">packages</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">libxml2-dev</span>
</code></pre></div></div>

<p>This option is ignored on non-Linux builds.</p>

<p>An alternative is the <code class="highlighter-rouge">apt_packages</code> key:</p>

<div data-file=".travis.yml" class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apt_packages</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">libxml2-dev</span>
</code></pre></div></div>

<h3 id="package-check-options">Package check options <a href="#package-check-options" class="toc-anchor">#</a></h3>

<p>You can use the following top-level options to control what options are used
when building and checking your package:</p>

<ul>
  <li>
    <p><code class="highlighter-rouge">warnings_are_errors</code>: This option forces all <code class="highlighter-rouge">WARNINGS</code> from <code class="highlighter-rouge">R CMD check</code> to
become build failures (default <code class="highlighter-rouge">true</code>). This is especially helpful when preparing
your package for submission to CRAN, and is recommended for most packages.
Set <code class="highlighter-rouge">warnings_are_errors: false</code> if you don’t want <code class="highlighter-rouge">WARNINGS</code> to fail the build.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">r_build_args</code>: additional arguments to pass to <code class="highlighter-rouge">R CMD build</code>, as a single
string. Defaults to empty.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">r_check_args</code>: additional arguments to pass to <code class="highlighter-rouge">R CMD check</code>, as a single
string. Defaults to <code class="highlighter-rouge">--as-cran</code>.</p>
  </li>
</ul>

<h3 id="bioconductor">Bioconductor <a href="#bioconductor" class="toc-anchor">#</a></h3>

<p>A typical <a href="https://www.bioconductor.org/">Bioconductor</a> package should only need to specify the
Bioconductor version they want to test against in their <code class="highlighter-rouge">.travis.yml</code>.</p>

<div data-file=".travis.yml" class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">language</span><span class="pi">:</span> <span class="s">r</span>
<span class="na">r</span><span class="pi">:</span> <span class="s">bioc-devel</span>
</code></pre></div></div>

<p>Or if you want to test against the release branch</p>

<div data-file=".travis.yml" class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">language</span><span class="pi">:</span> <span class="s">r</span>
<span class="na">r</span><span class="pi">:</span> <span class="s">bioc-release</span>
</code></pre></div></div>

<p>Travis CI will use the proper R version for that version of Bioconductor and
configure Bioconductor appropriately for installing dependencies.</p>

<h3 id="packrat">Packrat <a href="#packrat" class="toc-anchor">#</a></h3>

<p>If you want Travis CI to use your project-specific packrat package library,
rather than the default behaviour of downloading your package dependencies from CRAN, you can add this to your <code class="highlighter-rouge">.travis.yml</code>:</p>

<div data-file=".travis.yml" class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">install</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">R -e "0" --args --bootstrap-packrat</span>
  <span class="pi">-</span> <span class="s">R -e "packrat::restore(restart = FALSE)"</span>
</code></pre></div></div>

<p>You can minimise build times by caching your packrat packages with:</p>

<div data-file=".travis.yml" class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">cache</span><span class="pi">:</span>
  <span class="na">directories</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">$TRAVIS_BUILD_DIR/packrat/src</span>
    <span class="pi">-</span> <span class="s">$TRAVIS_BUILD_DIR/packrat/lib</span>
  <span class="na">packages</span><span class="pi">:</span> <span class="no">true</span>
</code></pre></div></div>

<h3 id="miscellaneous">Miscellaneous <a href="#miscellaneous" class="toc-anchor">#</a></h3>

<ul>
  <li>
    <p><code class="highlighter-rouge">cran</code>: CRAN mirror to use for fetching packages. Defaults to
<code class="highlighter-rouge">https://cloud.r-project.org</code>.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">repos</code>: Dictionary of repositories to pass to <code class="highlighter-rouge">options(repos)</code>. If <code class="highlighter-rouge">CRAN</code> is
not given in the dictionary the value of the <code class="highlighter-rouge">cran</code> option is used.
Example:</p>
  </li>
</ul>

<div data-file=".travis.yml" class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">repos</span><span class="pi">:</span>
  <span class="na">CRAN</span><span class="pi">:</span> <span class="s">https://cloud.r-project.org</span>
  <span class="na">ropensci</span><span class="pi">:</span> <span class="s">http://packages.ropensci.org</span>
</code></pre></div></div>

<ul>
  <li><code class="highlighter-rouge">disable_homebrew</code>: if <code class="highlighter-rouge">true</code> this removes the preinstalled homebrew
installation on macOS. Useful to test if the package builds on a vanilla macOS
machine, such as the CRAN mac builder.</li>
</ul>

<h3 id="environment-variables">Environment Variables <a href="#environment-variables" class="toc-anchor">#</a></h3>

<p>R-Travis sets the following additional environment variables from the <a href="/user/environment-variables/#default-environment-variables">Travis
defaults</a>.</p>

<ul>
  <li><code class="highlighter-rouge">TRAVIS_R_VERSION=3.2.4</code> Set to version chosen by <code class="highlighter-rouge">r:</code>.</li>
  <li><code class="highlighter-rouge">R_LIBS_USER=~/R/Library</code></li>
  <li><code class="highlighter-rouge">R_LIBS_SITE=/usr/local/lib/R/site-library:/usr/lib/R/site-library</code></li>
  <li><code class="highlighter-rouge">_R_CHECK_CRAN_INCOMING_=false</code></li>
  <li><code class="highlighter-rouge">NOT_CRAN=true</code></li>
  <li><code class="highlighter-rouge">R_PROFILE=~/.Rprofile.site</code></li>
  <li><code class="highlighter-rouge">TRAVIS_R_VERSION_STRING</code> set to the <em>string</em> provided <em>to</em> <code class="highlighter-rouge">r:</code>, i.e. <code class="highlighter-rouge">release</code>, <code class="highlighter-rouge">oldrel</code> or <code class="highlighter-rouge">devel</code>.
   Useful, for example, to deploy only from <code class="highlighter-rouge">release</code> via <code class="highlighter-rouge">on: condition: "$TRAVIS_R_VERSION_STRING = release"</code>.</li>
</ul>

<h3 id="additional-dependency-fields">Additional Dependency Fields <a href="#additional-dependency-fields" class="toc-anchor">#</a></h3>

<p>For most packages you should not need to specify any additional dependencies in
your <code class="highlighter-rouge">.travis.yml</code>. However for rare cases the following fields
are supported.</p>

<p>Each of the names below is a list of packages you can optionally specify as a
top-level entry in your <code class="highlighter-rouge">.travis.yml</code>; entries in these lists will be
installed before building and testing your package. Note that these lists are
processed in order, so entries can depend on dependencies in a previous list.</p>

<ul>
  <li>
    <p><code class="highlighter-rouge">apt_packages</code>: See above</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">brew_packages</code>: A list of packages to install via <code class="highlighter-rouge">brew</code>. This option is
ignored on non-macOS builds.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">r_binary_packages</code>: A list of R packages to install as binary packages on
linux builds, via Michael Rutter’s
<a href="https://launchpad.net/~marutter/+archive/ubuntu/c2d4u">cran2deb4ubuntu PPA</a>.
These installs will be faster than source installs, but may not always be
the most recent version. Specify the name just as you would when installing
from CRAN. On macOS builds these packages are installed from source.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">r_packages</code>: A list of R packages to install via <code class="highlighter-rouge">install.packages</code>.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">bioc_packages</code>: A list of <a href="https://www.bioconductor.org/">Bioconductor</a>
packages to install.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">r_github_packages</code>: A list of packages to install directly from GitHub,
using <code class="highlighter-rouge">devtools::install_github</code> from the
<a href="https://github.com/hadley/devtools">devtools package</a>. The package names
here should be of the form <code class="highlighter-rouge">user/repo</code>.
If the package is installed in a subdirectory, use <code class="highlighter-rouge">user/repo/subdirectory</code>.
An alternative is to add <code class="highlighter-rouge">user/repo</code> or <code class="highlighter-rouge">user/repo/folder</code> to
the <code class="highlighter-rouge">Remotes</code> section of the <code class="highlighter-rouge">DESCRIPTION</code> file of your package</p>
  </li>
</ul>

<h3 id="customizing-the-travis-build-steps">Customizing the Travis build steps <a href="#customizing-the-travis-build-steps" class="toc-anchor">#</a></h3>

<p>For some advanced use cases, it makes sense to override the default steps used
for building R packages. The default rules roughly amount to:</p>

<div data-file=".travis.yml" class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">install</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">R -e 'remotes::install_deps(dep = T)'</span>

<span class="na">script</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">R CMD build .</span>
<span class="pi">-</span> <span class="s">R CMD check *tar.gz --as-cran</span>
</code></pre></div></div>

<p>If you’d like to see the full details, see
<a href="https://github.com/travis-ci/travis-build/blob/master/lib/travis/build/script/r.rb">the source code</a>.</p>

<h2 id="build-config-reference">Build Config Reference <a href="#build-config-reference" class="toc-anchor">#</a></h2>

<p>You can find more information on the build config format for <a href="https://config.travis-ci.com/ref/language/r">R</a> in our <a href="https://config.travis-ci.com/">Travis CI Build Config Reference</a>.</p>

<h2 id="examples">Examples <a href="#examples" class="toc-anchor">#</a></h2>

<h3 id="package-in-a-subdirectory">Package in a subdirectory <a href="#package-in-a-subdirectory" class="toc-anchor">#</a></h3>

<p>If your package is in a subdirectory of the repository you need to
change to the subdirectory prior to running the <code class="highlighter-rouge">install</code> or <code class="highlighter-rouge">script</code> steps.</p>

<div data-file=".travis.yml" class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">language</span><span class="pi">:</span> <span class="s">r</span>
<span class="na">before_install</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">cd subdirectory</span>
</code></pre></div></div>

<h3 id="remote-package">Remote package <a href="#remote-package" class="toc-anchor">#</a></h3>

<p>If your package depends on another repository you can use <code class="highlighter-rouge">r_github_packages</code> in this way:</p>

<div data-file=".travis.yml" class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">r_github_packages</span><span class="pi">:</span> <span class="s">user/repo</span>
</code></pre></div></div>

<p>An alternative is to add the following line to your <code class="highlighter-rouge">DESCRIPTION</code> file:</p>

<div data-file="DESCRIPTION" class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Imports</span><span class="pi">:</span> <span class="s">pkg-name-of-repo</span>
<span class="na">Remotes</span><span class="pi">:</span> <span class="s">user/repo</span>
</code></pre></div></div>

<p>Remember that <code class="highlighter-rouge">Remotes:</code> specifies the <em>source</em> of a development package, so the package still needs to be listed in <code class="highlighter-rouge">Imports:</code>, <code class="highlighter-rouge">Suggests:</code> <code class="highlighter-rouge">Depends:</code> or <code class="highlighter-rouge">LinkingTo:</code>.
In the rare case where <em>repo</em> and <em>package</em> name differ, <code class="highlighter-rouge">Remotes:</code> expects the <em>repository</em> name and <code class="highlighter-rouge">Imports:</code> expects the <em>package</em> name (as per the <code class="highlighter-rouge">DESCRIPTION</code> of that imported package).</p>

<h3 id="remote-package-in-a-subdirectory">Remote package in a subdirectory <a href="#remote-package-in-a-subdirectory" class="toc-anchor">#</a></h3>

<p>If your package depends on another repository which holds the package in a subdirectory, you can use <code class="highlighter-rouge">r_github_packages</code> in this way:</p>

<div data-file=".travis.yml" class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">r_github_packages</span><span class="pi">:</span> <span class="s">user/repo/folder</span>
</code></pre></div></div>

<p>An alternative is to add the following line to your <code class="highlighter-rouge">DESCRIPTION</code> file:</p>

<div data-file="DESCRIPTION" class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Remotes</span><span class="pi">:</span> <span class="s">user/repo/folder</span>
</code></pre></div></div>

<h2 id="converting-from-r-travis">Converting from r-travis <a href="#converting-from-r-travis" class="toc-anchor">#</a></h2>

<p>If you’ve already been using <a href="https://github.com/craigcitro/r-travis">r-travis</a> to test your R package, you’re
encouraged to switch to using the native support described here. We’ve written
a <a href="https://github.com/craigcitro/r-travis/wiki/Porting-to-native-R-support-in-Travis">porting guide</a> to help you modify your <code class="highlighter-rouge">.travis.yml</code>.</p>

<h2 id="acknowledgements">Acknowledgements <a href="#acknowledgements" class="toc-anchor">#</a></h2>

<p>R support for Travis CI was originally based on the <a href="https://github.com/craigcitro/r-travis">r-travis</a> project, and
thanks are due to all the <a href="https://github.com/craigcitro/r-travis/graphs/contributors">contributors</a>. For more information on
moving from r-travis to native support, see the <a href="https://github.com/craigcitro/r-travis/wiki/Porting-to-native-R-support-in-Travis">porting guide</a>.</p>


        </main>
      </div><!-- /#content -->

      <footer class="footer">
  <div class="layout-inner">
    <div class="footer-elem">
      <svg width="142px" height="45.381px" viewBox="0 0 142 45.381" enable-background="new 0 0 142 45.381" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink= "http://www.w3.org/1999/xlink">
        <title>Travis CI Mascot</title>
        <image xlink:href="https://styleguide.travis-ci.com/images/logos/travis-footer-logo-new.svg" x="0" y="0" width="142px" height="45.381px" />
      </svg>
    </div>

    <div class="footer-elem"></div>

    <div class="footer-elem">
      <h3 class="footer-title">©Travis CI, GmbH</h3>
      <address>Rigaer Straße 8<br>10247 Berlin, Germany</address>
      <ul>
        <li><a href="https://travisci.workable.com/" title="Jobs at Travis CI">Work with Travis CI</a></li>
      </ul>
    </div>

    <div class="footer-elem">
      <h3 class="footer-title">Help</h3>
      <ul>
        <li><a href="https://docs.travis-ci.com" title="Travis CI Docs">Documentation</a></li>
        <li><a href="https://changelog.travis-ci.com/">Changelog</a></li>
        <li><a href="https://blog.travis-ci.com/" title="Travis CI Blog">Blog</a></li>
        <li><a href="mailto:support@travis-ci.com" title="Email Travis CI support">Email</a></li>
        <li><a href="https://twitter.com/travisci" title="Travis CI on Twitter">Twitter</a></li>
      </ul>
    </div>

    <div class="footer-elem">
      <h3 class="footer-title">Company</h3>
      <ul>
        <li><a href="/imprint.html" title="Imprint">Imprint</a></li>
        <li><a href="https://ideracorp.com/legal/TravisCI">Legal</a></li>
      </ul>
    </div>

    <div class="footer-elem">
      <h3 class="footer-title">Travis CI Status</h3>
      <ul>
        <li><div class="status-circle none">Status:</div>
          <a href="http://www.traviscistatus.com/">Travis CI Status</a>
        </li>
      </ul>
    </div>
  </div>
</footer>

<script>
 fetch('https://pnpcptp8xh9k.statuspage.io/api/v2/status.json').then(function(response) {
   return response.json();
 }).then(function(data) {
   if (data.status && data.status.indicator) {
     document.querySelector('.status-circle').classList.add(data.status.indicator);
   }
 });
</script>

    </div><!-- /.wrapper -->
  </body>
</html>
 contentType 9 text/html url 48 https://docs.travis-ci.com:443/user/languages/r/ responseCode 3 200 