hgbefikeagckloyowexccoeauklijmrgikmklgmq length 5 40272 page 40272 <!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>DOIP and Examples &#8212; Cordra  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../_static/minimal-fixes.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="DOIP API for HTTP Clients" href="doip-api-for-http-clients.html" />
    <link rel="prev" title="Introduction" href="introduction.html" />
    <link rel="shortcut icon" href="../_static/img/favicon.ico" type="image/x-icon">
    <link href='https://fonts.googleapis.com/css?family=Montserrat:400,700%7COpen+Sans:300,400,700,800' rel='stylesheet' />
    <link href='https://fonts.googleapis.com/css?family=Rasa:400,700%7COpen+Sans:300,400,700,800' rel='stylesheet' />
    <link rel="stylesheet" href="../_static/libs/font-awesome/css/font-awesome.min.css"></link>
    <link rel="stylesheet" href="../_static/libs/bootstrap/dist/css/bootstrap.min.css"></link>
    <link rel="stylesheet" href="../_static/icons/nucleo.css"></link>
    <link rel="stylesheet" href="../_static/libs/animate.css/animate.min.css"></link>
    <link rel="stylesheet" href="../_static/css/bootstrap.min.css"></link>
    <link rel="stylesheet" href="../_static/css/blog.css"></link>
    <link rel="stylesheet" href="../_static/css/buttons.css"></link>
    <link rel="stylesheet" href="../_static/css/colors.css"></link>
    <link rel="stylesheet" href="../_static/css/footers.css"></link>
    <link rel="stylesheet" href="../_static/css/widgets.css"></link>
    <link rel="stylesheet" href="../_static/css/nav.css"></link>
    <link rel="stylesheet" href="../_static/css/preloader.css"></link>
    <link rel="stylesheet" href="../_static/css/custom.css"></link>
    <link rel="stylesheet" href="../_static/css/ui.css"></link>

  </head><body>
<!-- BEGIN LATERAL NAVIGATION -->
<aside id="aside-nav">
    <div id="main-aside-navigation">
        <div class="main-nav-wrapper">
            <div class="close-aside-nav">
                <i class="nc-icon-outline ui-1_simple-remove"></i>
            </div>
            <div id="aside-logo">
                    <a href="/index.html" data-logo-light="../_static/img/cordra-light.png" data-logo-dark="../_static/img/cordra-primary-blue.png">
                    <img width="170" height="166" src="../_static/img/cordra-primary-blue.png" alt="logo">
                </a>
            </div>
            <nav id="main-aside-menu">
                <ul>
                    <li class="submenu">
                        <a href="/cordra.html">What's Cordra?</a>
                    </li>
                    <li class="submenu">
                        <a href="/getstarted.html">Get Started</a>
                    </li>
                    <li class="submenu">
                        <a href="/download.html">Download</a>
                    </li>
                    <li class="submenu">
                        <a href="/documentation/introduction/introduction.html">Developer Resources</a>
                    </li>
                    <li class="submenu">
                        <a href="/standards.html">Standards</a>
                    </li>
                    <li class="submenu">
                        <a href="../search.html">Search</a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
</aside>
<!-- END LATERAL NAVIGATION -->

<!-- BEGIN MAIN NAVIGATION -->
<header id="header">
    <div id="main-navigation">
        <div class="main-nav-wrapper">
            <div class="container-fluid">
                <div class="nav-left">
                    <div id="logo">
                        <a href="/index.html" data-logo-light="../_static/img/cordra-light.png" data-logo-dark="../_static/img/cordra-primary-blue.png">
                        <img width="145" height="36" src="../_static/img/cordra-primary-blue.png" alt="logo">
                        </a>
                    </div>
                </div>
                <div class="nav-right">
                    <nav id="main-menu">
                        <ul>
                            <li class="mega-menu menu-layouts">
                                <a href="/cordra.html">What's Cordra?</a>
                            </li>
                            <li class="mega-menu menu-layouts">
                                <a href="/getstarted.html">Get Started</a>
                            </li>
                            <li>
                                <a href="/download.html">Download</a>
                            </li>
                            <li class="mega-menu">
                                <a href="/documentation/introduction/introduction.html">Developer Resources</a>
                            </li>
                            <li class="mega-menu">
                                <a href="/standards.html">Standards</a>
                            </li>
                            <li class="mega-menu">
                                <a href="../search.html">Search</a>
                            </li>
                        </ul>
                    </nav>
                    <ul class="nav-tools">
                        <li class="mobile-menu-btn">
                            <button class="toggle-menu" data-toggle="mobile-menu" data-effect="hover">
                                <span class="menu-label label-left">Menu</span>
                                <i class="nc-icon-outline ui-2_menu-35"></i>
                            </button>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</header>
<!-- END MAIN NAVIGATION -->


  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference external" href="https://hdl.handle.net/20.1000/129">Developer Resources (in PDF)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/index.html">Cordra Software</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../introduction/introduction.html">Introduction to Cordra</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/release-notes.html">Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/system-requirements.html">System Requirements</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../design/index.html">Application Design</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../design/introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../design/identifiers.html">Identifiers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../design/schemas.html">Schemas/Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../design/design-object.html">Design Object</a></li>
<li class="toctree-l2"><a class="reference internal" href="../design/payloads.html">Payloads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../design/authentication-and-access-controls.html">Authentication and Access Controls</a></li>
<li class="toctree-l2"><a class="reference internal" href="../design/javascript-lifecycle-hooks.html">Lifecycle Hooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../design/type-methods.html">Type Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="../design/java-hooks-and-methods.html">Java Hooks and Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="../design/handle-integration.html">Handle Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../design/object-versioning.html">Digital Object Versioning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../design/object-hashing.html">Digital Object Hashing</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">APIs</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">DOIP and Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="doip-api-for-http-clients.html">DOIP API for HTTP Clients</a></li>
<li class="toctree-l2"><a class="reference internal" href="rest-api.html">HTTP REST API and Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="search.html">Query Syntax</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../client/index.html">Clients</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../client/introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../client/rest-java.html">REST - Java</a></li>
<li class="toctree-l2"><a class="reference internal" href="../client/javascript.html">REST - JavaScript</a></li>
<li class="toctree-l2"><a class="reference internal" href="../client/doip-java.html">DOIP - Java</a></li>
<li class="toctree-l2"><a class="reference internal" href="../client/third-party.html">Third Party Clients</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/index.html">Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../configuration/introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/single-instance-deployment.html">Deploying Single-Instance Cordra</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/single-instance-production.html">Production Single Instance Deployment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/distributed-deployment.html">Deploying Cordra as a Distributed System</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/reindexing.html">Reindexing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/logs-management.html">Managing Cordra Logs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/storage-backends.html">Configuring Storage Backend</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/indexing-backends.html">Configuring Indexing Backend</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/sessions-manager.html">Distributed Sessions Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/user-management.html">Managing Users and Groups</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/admin-user-interface.html">Administrative UI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/enabling-tls.html">Enabling TLS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/https.html">Configuring HTTPS Keys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/migration.html">Migration across Cordra Environments</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../extensions/index.html">Extensions and Applications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../extensions/calling-java-from-javascript.html">Calling Java from JavaScript</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extensions/document-repository.html">Document Repository</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extensions/medical-records-application.html">Medical Records Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extensions/person-registry.html">Person Registry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extensions/user-registration.html">User Registration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extensions/object-linking.html">Digital Object Linking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extensions/oai-pmh.html">OAI-PMH in Cordra</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extensions/sending-emails.html">Sending Emails</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extensions/external-authentication-provider.html">External Authentication Provider</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extensions/collab-prototype.html">Collab Prototype Software</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extensions/neo4j-as-an-additional-index.html">Neo4j as an Additional Index</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extensions/partial-replication-aggregation.html">Partial Replication/Aggregation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">Tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tools/import-export.html">Import and Export Tools</a></li>
</ul>
</li>
</ul>


        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="doip-and-examples">
<span id="doip"></span><h1>DOIP and Examples<a class="headerlink" href="#doip-and-examples" title="Permalink to this heading">¶</a></h1>
<p>The Digital Object Interface Protocol (DOIP) v2 is a specification of the DONA Foundation.
Please click <a class="reference external" href="https://www.dona.net/sites/default/files/2018-11/DOIPv2Spec_1.pdf">here</a> for accessing the specification.</p>
<p>DOIP is a communication protocol that specifies how clients may interact with digital objects (DOs) that are managed by
DOIP services. The method of such interaction is primarily using identifiers associated with digital objects, including
those that represent operations, types, and clients. In this context, a DOIP service, such as a running Cordra instance,
itself is considered a digital object. DOIP is an appropriate choice for users who are interested in an architectural
style focused on invoking identified operations, or who focus on persistence or interoperability benefits.</p>
<p>In DOIP, each request represents a <em>client</em> invoking an <em>operation</em> on a <em>target object</em>.  The client, operation,
and target each have a unique persistent identifier.</p>
<p>This document does not describe further how the DOIP protocol works or the expected structure of digital objects, for
which refer to the DOIP v2 specification. Instead this document describes how to invoke DOIP operations on
Cordra-managed digital objects using examples.</p>
<p>See <a class="reference internal" href="doip-api-for-http-clients.html"><span class="doc">DOIP API for HTTP Clients</span></a> for how to use the DOIP operations model in an HTTP context.</p>
<section id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this heading">¶</a></h2>
<p>DOIP interface can be enabled via configuration in the <a class="reference internal" href="../design/design-object.html#design-object"><span class="std std-ref">Design Object</span></a>.  By default, a new Cordra instance will have a DOIP listener
on port 9000, on the same listen address as the HTTP/HTTPS ports.  This can be turned off or changed by editing the Design object.</p>
<p>Per DOIP, the DOIP service itself is sometimes the appropriate target for an operation. By default, the identifier for the DOIP
service is the handle obtained by using the configured prefix from handleMintingConfig (see <a class="reference internal" href="../design/handle-integration.html#handle-integration"><span class="std std-ref">Handle Integration</span></a>) together
with the suffix “service”.  A different serviceId can be configured as follows:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{
  &quot;doip&quot;: {
    &quot;enabled&quot;: true,
    &quot;port&quot;: 9000,
    &quot;processorConfig&quot;: {
      &quot;serviceId&quot;: &quot;20.500.123/service&quot;
    }
  }
}
</pre></div>
</div>
<p>This configuration should suffice for most uses. Information about other configuration options follows.</p>
<section id="listenaddress">
<h3>listenAddress<a class="headerlink" href="#listenaddress" title="Permalink to this heading">¶</a></h3>
<p>The primary address to which the DOIP interface should bind. Defaults to the same as the configured listenAddress for HTTP
interfaces, which defaults to localhost.</p>
</section>
<section id="listenaddresses">
<h3>listenAddresses<a class="headerlink" href="#listenaddresses" title="Permalink to this heading">¶</a></h3>
<p>An array of IP addresses to which the DOIP interface should bind. If <code class="docutils literal notranslate"><span class="pre">listenAddress</span></code> is also specified, Cordra will
listen on all addresses specified.</p>
</section>
<section id="port">
<h3>port<a class="headerlink" href="#port" title="Permalink to this heading">¶</a></h3>
<p>The TCP port which the DOIP interface should bind to.</p>
</section>
<section id="backlog">
<h3>backlog<a class="headerlink" href="#backlog" title="Permalink to this heading">¶</a></h3>
<p>The backlog of incoming connections for the listening socket. Defaults to 50.</p>
</section>
<section id="maxidletimemillis">
<h3>maxIdleTimeMillis<a class="headerlink" href="#maxidletimemillis" title="Permalink to this heading">¶</a></h3>
<p>The maximum time for the server to wait for bytes from a client connection. Defaults to 5 minutes.</p>
</section>
<section id="numthreads">
<h3>numThreads<a class="headerlink" href="#numthreads" title="Permalink to this heading">¶</a></h3>
<p>The maximum number of server threads for handling DOIP connections. In this experimental setting, defaults to 20.</p>
</section>
<section id="tlsconfig-id">
<h3>tlsConfig.id<a class="headerlink" href="#tlsconfig-id" title="Permalink to this heading">¶</a></h3>
<p>The identity to use for the DOIP TLS certificate. Defaults to the same as processorConfig.serviceId. The TLS keys
can be configured via files in the Cordra data directory. By default the standard Cordra key pair files will be used
(<code class="docutils literal notranslate"><span class="pre">privatekey</span></code> and <code class="docutils literal notranslate"><span class="pre">publickey</span></code>); however, if you wish you can supply custom keys for the doip interface by adding files
named <code class="docutils literal notranslate"><span class="pre">doipPrivateKey</span></code> and <code class="docutils literal notranslate"><span class="pre">doipPublicKey</span></code> (in Handle format) to the data directory.</p>
</section>
<section id="processorconfig-serviceid">
<h3>processorConfig.serviceId<a class="headerlink" href="#processorconfig-serviceid" title="Permalink to this heading">¶</a></h3>
<p>The identifier used for the target of operations intended for the DOIP service itself.
Defaults to the configured handleMintingConfig.prefix together with the suffix “service”.</p>
</section>
<section id="processorconfig-servicename-processorconfig-servicedescription">
<h3>processorConfig.serviceName, processorConfig.serviceDescription<a class="headerlink" href="#processorconfig-servicename-processorconfig-servicedescription" title="Permalink to this heading">¶</a></h3>
<p>Commentary to be returned in the 0.DOIP/Op.Hello response.</p>
</section>
<section id="processorconfig-address">
<h3>processorConfig.address<a class="headerlink" href="#processorconfig-address" title="Permalink to this heading">¶</a></h3>
<p>The public address to advertise to clients via the 0.DOIP/Op.Hello operation. Defaults to the listenAddress.</p>
</section>
<section id="processorconfig-port">
<h3>processorConfig.port<a class="headerlink" href="#processorconfig-port" title="Permalink to this heading">¶</a></h3>
<p>The public port to advertise to clients via the 0.DOIP/Op.Hello operation. Defaults to the configured port.</p>
</section>
<section id="processorconfig-publickey">
<h3>processorConfig.publicKey<a class="headerlink" href="#processorconfig-publickey" title="Permalink to this heading">¶</a></h3>
<p>The public key of the DOIP server to advertise to clients via the 0.DOIP/Op.Hello operation. In JWK format. Defaults to
the public key used in the certificates.</p>
</section>
</section>
<section id="cordra-objects-serialized-for-doip">
<h2>Cordra Objects serialized for DOIP<a class="headerlink" href="#cordra-objects-serialized-for-doip" title="Permalink to this heading">¶</a></h2>
<p>A Cordra object has various components:</p>
<ul class="simple">
<li><p>id</p></li>
<li><p>type</p></li>
<li><p>content</p></li>
<li><p>acl</p></li>
<li><p>metadata</p></li>
<li><p>payloads</p></li>
</ul>
<p>The id and type map directly onto the corresponding properties of a Digital Object as defined in DOIP specification.
The content, acl, and metadata properties of a Cordra object become <em>attributes</em> and the payloads become <em>elements</em>
of the Digital Object.</p>
</section>
<section id="doip-java-client">
<h2>DOIP Java Client<a class="headerlink" href="#doip-java-client" title="Permalink to this heading">¶</a></h2>
<p>In order to instantiate a Java DOIP client, you will need the doip-sdk jar file, along with the dependencies as listed
<a class="reference external" href="https://mvnrepository.com/artifact/net.dona.doip/doip-sdk/">here</a>. You may refer to
<a class="reference internal" href="../client/doip-java.html#doip-java-client-library"><span class="std std-ref">DOIP Client Library - Java Version</span></a> for details on how to access the DOIP client library in Java. The jar files are also
included in the <code class="docutils literal notranslate"><span class="pre">sw/lib</span></code> and <code class="docutils literal notranslate"><span class="pre">sw/lib/cordra-client</span></code> directories of the Cordra distribution.</p>
<p>Instantiate <code class="docutils literal notranslate"><span class="pre">net.cnri.doip.client.DoipClient</span></code> and call any of its <code class="docutils literal notranslate"><span class="pre">connect</span></code> methods to create a
<code class="docutils literal notranslate"><span class="pre">net.cnri.doip.client.DoipConnection</span></code> with a DOIP service. The methods of the <code class="docutils literal notranslate"><span class="pre">DoipConnection</span></code> can then be used to
send DOIP requests and receive DOIP responses.</p>
</section>
<section id="doip-examples">
<h2>DOIP Examples<a class="headerlink" href="#doip-examples" title="Permalink to this heading">¶</a></h2>
<p>A DOIP service listener uses TLS, but many DOIP requests can be entered as plain text within a TLS session. To
experiment with this on the command line, you can use for example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>openssl s_client -connect localhost:9000
</pre></div>
</div>
<p>Once connected, you can send requests and receive responses.</p>
<p>To briefly recap the DOIP specification, a DOIP message is a sequence of “segments” separated by <code class="docutils literal notranslate"><span class="pre">newline</span> <span class="pre">#</span> <span class="pre">newline</span></code>,
and terminated by <code class="docutils literal notranslate"><span class="pre">newline</span> <span class="pre">#</span> <span class="pre">newline</span> <span class="pre">#</span> <span class="pre">newline</span></code>. JSON segments contain JSON directly; bytes segments begin with
<code class="docutils literal notranslate"><span class="pre">&#64;</span> <span class="pre">newline</span></code>, followed by multiple “chunks”, each of which is a decimal number indicating a number of bytes, followed
by that many bytes, followed by a newline. But many DOIP requests can be sent as JSON followed by two lines each with a
<code class="docutils literal notranslate"><span class="pre">#</span></code> character.  Some examples follow.</p>
<section id="hello">
<h3>Hello<a class="headerlink" href="#hello" title="Permalink to this heading">¶</a></h3>
<p>Request:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{
  &quot;targetId&quot;: &quot;20.500.123/service&quot;,
  &quot;operationId&quot;: &quot;0.DOIP/Op.Hello&quot;
}
#
#
</pre></div>
</div>
<p>Response:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{
  &quot;status&quot;:&quot;0.DOIP/Status.1&quot;,
  &quot;output&quot;:{
          &quot;id&quot;:&quot;20.500.123/service&quot;,
          &quot;type&quot;:&quot;0.TYPE/DOIPServiceInfo&quot;,
          &quot;attributes&quot;:{
              &quot;ipAddress&quot;:&quot;127.0.0.1&quot;,
              &quot;port&quot;:9000,
              &quot;protocol&quot;:&quot;TCP&quot;,
              &quot;protocolVersion&quot;:&quot;2.0&quot;,
              &quot;publicKey&quot;:{
                  &quot;kty&quot;:&quot;RSA&quot;,
                  &quot;n&quot;:&quot;m2MIsyH7F7NMA9EABMfPjzbid3MIh9vTP28MKVKFN2waUnPlsb_JM9OfE0cwyRUXuehuNUm7CbaQmOINOFsQhoQBGyj12TnC_Lm__Rgf7Shvl0xKFr83YTa7Zw7HWqOMb_4kY2O7OdV98RIc6oD62cY7j1E_fiudzOnFh5SaXvP3qS3OrNrOA4gODQdplhNikwP5_VwCA45lDnfVBO2Dj62oFl55-BeIc1YQoJ_kkN-8JbNsd3kGKZnq7VDSrGfLAyLLyML9dE7jRK3qxR5Ok_va49KGvQV-krssyacBAIVk1zBUQ8lFnxBcH6g_0Hl_h_zcv-jtfeCCCoZ4sB46Hw==&quot;,
                  &quot;e&quot;:&quot;AQAB&quot;
              }
          }
  }
}
#
#
</pre></div>
</div>
</section>
<section id="list-operations">
<h3>List Operations<a class="headerlink" href="#list-operations" title="Permalink to this heading">¶</a></h3>
<p>Request:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{
  &quot;targetId&quot;: &quot;20.500.123/service&quot;,
  &quot;operationId&quot;: &quot;0.DOIP/Op.ListOperations&quot;
}
#
#
</pre></div>
</div>
<p>Response:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{
  &quot;status&quot;:&quot;0.DOIP/Status.1&quot;,
  &quot;output&quot;:[&quot;0.DOIP/Op.Hello&quot;,&quot;0.DOIP/Op.ListOperations&quot;,&quot;0.DOIP/Op.Create&quot;,&quot;0.DOIP/Op.Search&quot;]
}
#
#
</pre></div>
</div>
</section>
<section id="search">
<h3>Search<a class="headerlink" href="#search" title="Permalink to this heading">¶</a></h3>
<p>Request:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{
  &quot;targetId&quot;: &quot;20.500.123/service&quot;,
  &quot;operationId&quot;: &quot;0.DOIP/Op.Search&quot;,
  &quot;attributes&quot;: {
    &quot;query&quot;: &quot;+type:Schema +/name:User&quot;
  }
}
#
#
</pre></div>
</div>
<p>Response:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{&quot;status&quot;:&quot;0.DOIP/Status.1&quot;}
#
{
  &quot;size&quot;: 1,
  &quot;results&quot;: [
    {
      &quot;id&quot;: &quot;test/ccf24d69f39aafee2195&quot;,
      &quot;type&quot;: &quot;Schema&quot;,
      &quot;attributes&quot;: {
        &quot;content&quot;: {
          &quot;identifier&quot;: &quot;test/ccf24d69f39aafee2195&quot;,
          &quot;name&quot;: &quot;User&quot;,
          &quot;schema&quot;: {
             ...
          }
        }
      }
    }
  ]
}
#
#
</pre></div>
</div>
</section>
<section id="create">
<h3>Create<a class="headerlink" href="#create" title="Permalink to this heading">¶</a></h3>
<p>In general a creation request must specify the “type” and an “attribute” called “content”. If you wish to specify the id
of the newly created object, specify an “id” as a sibling property of “type” and “attributes”.</p>
<p>Request:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{
  &quot;targetId&quot;: &quot;20.500.123/service&quot;,
  &quot;operationId&quot;: &quot;0.DOIP/Op.Create&quot;,
  &quot;input&quot;: {
    &quot;type&quot;: &quot;User&quot;,
    &quot;attributes&quot;: {
      &quot;content&quot;: {
        &quot;username&quot;: &quot;user&quot;,
        &quot;password&quot;: &quot;password&quot;
      }
    }
  },
  &quot;authentication&quot;: {
    &quot;username&quot;: &quot;admin&quot;,
    &quot;password&quot;: &quot;password&quot;
  }
}
#
#
</pre></div>
</div>
<p>Response:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{
  &quot;status&quot;:&quot;0.DOIP/Status.1&quot;,
  &quot;output&quot;:{
      &quot;id&quot;:&quot;test/12dea96fec20593566ab&quot;,
      &quot;type&quot;:&quot;User&quot;,
      &quot;attributes&quot;:{
          &quot;content&quot;:{
              &quot;id&quot;:&quot;test/12dea96fec20593566ab&quot;,
              &quot;username&quot;:&quot;user&quot;,
              &quot;password&quot;:&quot;&quot;
          },
          &quot;metadata&quot;:{
              &quot;createdOn&quot;:1537467895407,
              &quot;createdBy&quot;:&quot;admin&quot;,
              &quot;modifiedOn&quot;:1537467895450,
              &quot;modifiedBy&quot;:&quot;admin&quot;,
              &quot;txnId&quot;:6
          }
      },
      &quot;elements&quot;:[]
  }
}
#
#
</pre></div>
</div>
<p>Request:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{
  &quot;clientId&quot;: &quot;test/12dea96fec20593566ab&quot;,
  &quot;targetId&quot;: &quot;20.500.123/service&quot;,
  &quot;operationId&quot;: &quot;0.DOIP/Op.Create&quot;,
  &quot;authentication&quot;: {
    &quot;password&quot;: &quot;password&quot;
  }
}
#
{
  &quot;type&quot;: &quot;Document&quot;,
  &quot;attributes&quot;: {
    &quot;content&quot;: {
      &quot;id&quot;: &quot;&quot;,
      &quot;name&quot;: &quot;Hello World&quot;
    }
  },
  &quot;elements&quot;: [
    {
      &quot;id&quot;: &quot;file&quot;,
      &quot;type&quot;: &quot;text/plain&quot;,
      &quot;attributes&quot;: {
        &quot;filename&quot;: &quot;helloworld.txt&quot;
      }
    }
  ]
}
#
{&quot;id&quot;:&quot;file&quot;}
#
@
12
Hello World

#
#
</pre></div>
</div>
<p>Response:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{
  &quot;status&quot;:&quot;0.DOIP/Status.1&quot;,
  &quot;output&quot;:{
      &quot;id&quot;:&quot;test/0a4d55a8d778e5022fab&quot;,
      &quot;type&quot;:&quot;Document&quot;,
      &quot;attributes&quot;:{
          &quot;content&quot;:{
              &quot;id&quot;:&quot;test/0a4d55a8d778e5022fab&quot;,
              &quot;name&quot;:&quot;Hello World&quot;
          },
          &quot;metadata&quot;:{
              &quot;createdOn&quot;:1537469656224,
              &quot;createdBy&quot;:&quot;test/12dea96fec20593566ab&quot;,
              &quot;modifiedOn&quot;:1537469656235,
              &quot;modifiedBy&quot;:&quot;test/12dea96fec20593566ab&quot;,
              &quot;txnId&quot;:7
          }
      },
      &quot;elements&quot;:[
          {
              &quot;id&quot;:&quot;file&quot;,
              &quot;length&quot;:0,
              &quot;type&quot;:&quot;text/plain&quot;,
              &quot;attributes&quot;:{
                  &quot;filename&quot;:&quot;helloworld.txt&quot;
              }
          }
      ]
  }
}
#
#
</pre></div>
</div>
</section>
<section id="retrieve">
<h3>Retrieve<a class="headerlink" href="#retrieve" title="Permalink to this heading">¶</a></h3>
<p>Request:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{
  &quot;targetId&quot;: &quot;test/0a4d55a8d778e5022fab&quot;,
  &quot;operationId&quot;: &quot;0.DOIP/Op.Retrieve&quot;
}
#
#
</pre></div>
</div>
<p>Response:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{
  &quot;status&quot;:&quot;0.DOIP/Status.1&quot;,
  &quot;output&quot;:{
      &quot;id&quot;:&quot;test/0a4d55a8d778e5022fab&quot;,
      &quot;type&quot;:&quot;Document&quot;,
      &quot;attributes&quot;:{
          &quot;content&quot;:{
              &quot;id&quot;:&quot;test/0a4d55a8d778e5022fab&quot;,
              &quot;name&quot;:&quot;Hello World&quot;
          },
          &quot;metadata&quot;:{
              &quot;createdOn&quot;:1537469656224,
              &quot;createdBy&quot;:&quot;test/12dea96fec20593566ab&quot;,
              &quot;modifiedOn&quot;:1537469656235,
              &quot;modifiedBy&quot;:&quot;test/12dea96fec20593566ab&quot;,
              &quot;txnId&quot;:7
          }
      },
      &quot;elements&quot;:[
          {
              &quot;id&quot;:&quot;file&quot;,
              &quot;length&quot;:0,
              &quot;type&quot;:&quot;text/plain&quot;,
              &quot;attributes&quot;:{
                  &quot;filename&quot;:&quot;helloworld.txt&quot;
              }
          }
      ]
  }
}
#
#
</pre></div>
</div>
<p>Request:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{
  &quot;targetId&quot;: &quot;test/0a4d55a8d778e5022fab&quot;,
  &quot;operationId&quot;: &quot;0.DOIP/Op.Retrieve&quot;,
  &quot;attributes&quot;: {
    &quot;element&quot;: &quot;file&quot;
  }
}
#
#
</pre></div>
</div>
<p>Response:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{&quot;status&quot;:&quot;0.DOIP/Status.1&quot;}
#
@
12
Hello World

#
#
</pre></div>
</div>
</section>
<section id="extended-operations">
<h3>Extended Operations<a class="headerlink" href="#extended-operations" title="Permalink to this heading">¶</a></h3>
<p>Cordra enables developers to extend the core functionality and expose that as extended operations. See <a class="reference internal" href="../design/type-methods.html#type-methods"><span class="std std-ref">Type Methods</span></a>
for how to write extended operations.</p>
<p>In the case of functionality that is added as an instance Type method, the targetId of the DOIP operation will be digital
object identifier to which this instance Type method should be applied. In the case of any static Type method, the targetId
will be the digital object identifier of the Type. In either case, the operationId is the identifier that is specified in
the JavaScript export statement associated with the method definition.</p>
<p>Below you will find the DOIP request and response structures that applies to the static Type method defined
<a class="reference internal" href="../design/type-methods.html#static-method-example"><span class="std std-ref">here</span></a>.</p>
<p>Request:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{
  &quot;targetId&quot;: &quot;test/7060f82cc15962ba4851&quot;,
  &quot;operationId&quot;: &quot;123/abc&quot;,
  &quot;authentication&quot;: { &quot;username&quot;: &quot;admin&quot;, &quot;password&quot;: &quot;password&quot; },
  &quot;input&quot;: {&quot;foo&quot;:&quot;hello&quot;, &quot;bar&quot;:&quot;world&quot;}
}
#
#
</pre></div>
</div>
<p>Here test/7060f82cc15962ba4851 is the identifier of the Type digital object on which the static Type method is defined.</p>
<p>Response:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{
  &quot;status&quot;:&quot;0.DOIP/Status.001&quot;,
  &quot;output&quot;:{&quot;input&quot;:{&quot;foo&quot;:&quot;hello&quot;,&quot;bar&quot;:&quot;world&quot;},&quot;timestamp&quot;:1568752848904}
}
#
#
</pre></div>
</div>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>

<!-- BEGIN FOOTER -->
<footer id="footer">
    <div id="footer-main" class="container-large">
        <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-4">
                <div class="widget widget-text">
                    <h3 class="widget-title">Who are we?</h3>
                    <!-- <img width="200" height="50" class="footer-logo" src="_static/img/logo/cordra-light.png" alt="logo"> -->
                    <p>CNRI is a not-for-profit organization formed in 1986 to undertake, foster, and promote research on information infrastructure in the public interest.</p>
                    <p><i class="nc-icon-outline ui-1_home-minimal"></i> Corporation for National Research Initiatives</p>
                    <p><i class="nc-icon-outline location_position-marker"></i> 1895 Preston White Drive, Suite 100, Reston, Virginia 20191, USA</p>
                </div>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-4 hidden-xs-down">
                <div class="widget widget-links">
                    <div class="widget-title">
                        <h3 class="widget-title">Quick Links</h3>
                    </div>
                    <ul>
                        <li>
                            <a href="/cordra.html">What's Cordra</a>
                        </li>
                        <li>
                            <a href="/download.html">Download</a>
                        </li>
                        <li>
                            <a href="/documentation/introduction/introduction.html">Developer Resources</a>
                        </li>
                        <li>
                            <a href="/download.html#section-licenses">Licenses</a>
                        </li>
                        <li>
                            <a href="/privacypolicy.html">Privacy Policy</a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="col-lg-4 col-md-4 hidden-md-down">
                <div class="widget">
                    <h3 class="widget-title">Contact Us</h3>
                    <p>Drop us an
                        <span class="f-18 c-white w-700 font-handwriting">
                            <a href="#" onclick="document.getElementById('emailAddress').style.display = 'block'; return false;" class="c-white">email.</a>
                            <span id="emailAddress" style="display: none;" class="c-white text-sm w-100">support@cordra.org</span>
                        </span>
                    </p>
                    <p>Join us on <a href="https://hdl.handle.net/20.5000/cordra-slack" target="_blank"><img width="100px" height="100px" src="../_static/img/slack_white.png" alt="Slack" class="m-l--10" /></a><span
                            class="f-18 c-white w-700 font-handwriting m-l--10">.</span></p>
                </div>
            </div>
        </div>
    </div>
    <div id="footer-bottom">
        <div class="container-large">
            <div class="row">
                <div class="col-sm-12 t-center">
                    <p class="copyright">Copyright&copy; 2020. Corporation for National Resesarch Initiatives. Cordra&reg; is a trademark of Corporation for National Research Initiatives.</p>
                </div>
            </div>
        </div>
    </div>
</footer>
<!-- END FOOTER -->

  </body>
</html> contentType 9 text/html url 54 https://www.cordra.org:443/documentation/api/doip.html responseCode 3 200 