wouaxqlowazodgnmomhkbkgqceyegitayekkuqas length 5 23788 page 23788 <html>
<center><h2>A Musical Distortion Primer</h2><p>Copyright 1993-2000 R.G. Keen -
Geo-Fex Cybernetic Music</p></center>
<p>
 This is an introduction to the basic means of distorting a signal in a
 musically useful way. The approach is as non-technical as possible.&nbsp; I use
 the simplest signal waveform, a sine wave, to illustrate all these, although a guitar
 is much more like a sawtooth than a sine wave. The clipped waveforms will be
 shown in their raw state.  Tone controls or filters after the clipping will
 radically alter the waveshapes.<p><b>
 Sine wave.</b> This
 is the purest tone possible, just a single frequency. No musical instrument
does a really pure sine wave, although tuning forks and some flute tones
 approach this. Notice that the waveform is smoothly rounded everywhere, no sudden changes in direction.&nbsp;
<p><img border="0" src="d101_01.gif" align="left" width="351" height="241"></p>
<p>To engineers and mathematicians, the sine wave is the simplest waveform,
because any other repetitive waveform can be built up from a collection of sine
waves of different frequencies and sizes. Sine waves, on the other hand, are not
made up of anything more basic that anyone has found yet.</p>
<p>In music, we recognize the significance of the sine wave by talking about
fundamentals and partials. A fundamental is taken to be the basic tone of any
given note - for instance the frequency A-440 is the standard for musical
tuning. This is a sine wave that has a frequency of 440 Hz (Hz is short for
&quot;Hertz&quot;, and stands for one cycle per second).&nbsp; We recognize that
a tone of A-880 is one octave higher than A-440. Musicians may refer to a
musical note that has both A-440 and A-880 mixed as have a fundamental and the
first partial. A frequency of three times the basic note frequency is also
referred to as the third partial of the basic note.&nbsp;Four times the
fundamental is the fourth partial, and so on into the stratosphere.</p>
<p>Engineers call partials &quot;harmonics&quot;. When we talk of &quot;total
harmonic distortion&quot;, we mean whatever is left after taking out the
fundamental sine wave in some waveform. All the harmonics, or partials and any
noise make this up.</p>
<p><b>
 Mild clipping.</b> If we take that same sine wave and electronically clip off
the tops and bottoms at some clipping level, we get something like this:</p>
<pre><img border="0" src="d101_02.gif" align="left" width="351" height="241"></pre>
<p>Just snipping off those tips has a big effect on the sound. A pure sine wave
is kind of boring sounding. Distorting the sine wave by clipping introduces a
whole bunch of partials or harmonics. The sound is much more interesting to
listen to, as long as we don't get too carried away with it.&nbsp;</p>
<p>There is a real difference in the sound depending on how sharp the
&quot;edges&quot; are where the clipping occurred. Perfect, sharp corner edges
cause buzzy, hard edged sounds. Rounded, smooth edges give a smooth sound. While
there is no particular reason why these two effects should be related, it does
seem to be true that smooth sounds are related to smooth waveforms, and buzzy or
harsh sounds are related to sharp corners on waveforms.</p>
<p>Musically, some so-called &quot;overdrive&quot; pedals do something like
this. It's just a bit of clipping. While I have shown the positive and negative
clipping levels as the same - so-called symmetrical clipping - there is no
reason that they must&nbsp; be the same. The human ear can clearly hear the
difference between symmetrical and non-symmetrical clipping.</p>
<p>If we want to get really distorted, we can amplify the sine wave a lot, and
then clip it off at the same level as we just did the un-amplified sine wave. The
amplified sine wave get really, really tall, then is clipped back. It looks like
this:</p>
<p><img border="0" src="d101_03.gif" align="left" width="351" height="241">As you can see, the sine wave
has been amplified a lot, then clipped off so that only the starting part of the
sine wave remains. This has even more harmonics than the moderately clipped one.
The result is a heavily buzzy sound.</p>
<p>You can see where this is headed, right? The more we amplify the sine wave
and clip the excess back off, the more it approaches a square wave. The next two
examples show the completion of this .&nbsp;</p>
<p>There are in fact instruments that are designed to create perfect square
waves from sine waves by amplifying the crud out of them and then&nbsp; clipping
the result back down to a very small fraction of its amplified size.</p>
<p>REALLLY clipping the sine wave gives a sound that's a high gain, hard edged
metal kind of sound. Lots of&nbsp; heavy metal distortion pedals pedals do this then round the corners with some filtering.</p>
<pre><img border="0" src="d101_04.gif" align="left" width="376" height="241"></pre>
You eventually get to a true square wave. Some early fuzzboxes actually did this.
It sounds something like a synthesizer; very buzzy. This can sound OK, even useful, unless you hit two notes at once, then makes an
 unpleasant harsh distortion from the two (<i>intermodulation distortion</i>).
<p>Intermodulation distortion is the bane of fuzzbox technology. If you take any
two pure sine waves and intermodulate them, you get not only the two sine waves,
but two other frequencies - the sum of the two originals, and the difference. If
we had A-440 and A-880, and intermodulated them, we'd get 440, 880, 440 again
from the difference, and 1320, which is three times A-440. This would actually
sound pretty good.&nbsp;</p>
<p>The bad part about this is that we picked the best possible example. However,
if we
take A-440 and the note an octave and a third up, 1467 Hz, we get the original
notes plus 1026 Hz, and 1907 Hz. These frequencies are NOT related to the
original note and sound harsh or out of tune. We're also talking about sine
waves. Real world signals always have some harmonics, and we get the sums and
difference of all the harmonics, too. Very unmusical.</p>
<p>So the name of the game is to produce <i>harmonic distortion</i>, which makes
musically good sounding notes and to minimize <i>intermodulation distortion</i>,
which makes un-musical squarks and harsh buzzes. Unfortunately, no matter how
hard we try, we can never get all harmonic distortion and no intermodulation
distortion. But we can pick between distortion mechanisms to use the better ones
and avoid the worse ones.</p>
One way to keep mostly harmonic distortion is to not have sharp corners. <b>&quot;Tube-ish&quot; distortion </b>is
much like this.&nbsp;
<p><img border="0" src="d101_05.gif" align="right" width="211" height="241">It has very softly rounded,
squashed tops when done on square waves. From the engineer's standpoint,
something very different from the clipping progression above has happened
here.&nbsp;</p>
<p>A true techie thinks of any wiggle of a waveform as carrying information. A
pure sine wave is almost devoid of information, having no wiggles or corners in
that smoothly rounded top. However, if we took a square wave and massively
amplified it, or a triangle wave, or a wave with spikes all over its top and did
the same amplify/clip operation on it, we'd get exactly the same result as with
the sine wave with massive clipping.</p>
<p>In effect, we can't tell after massive clipping what we originally started
with. We've actually lost the information about what the wave used to be - it's
forever removed by the clipper. We should not be surprised that all waveforms
sound alike after massive clipping. It's kind of the Veg-a-matic of sound.</p>
<p>The compression-limiting clipping that does this tube-ish distortion is very
different in the information sense. The top of the wave is compressed, sometimes
massively; however, the original information about what the input wave used to
be is not lost, just compressed. Distortion with this compression nature keeps
some of the flavor of the original input, which many guitar players like.</p>
<p>This is not a perfect replica of vacuum tube distortion.&nbsp; Vacuum tubes are not
 symmetrical enough to do this. The CMOS gate based pedals like the
 ElectroHarmonix Hot Tubes can. Tubes are similar, but the tops
 and bottoms are not mirror images. The sound is soft, smooth onset, touch
 sensitive, "bluesy".</p>
There are things we can do other than clip or limit a signal.
<p>To get an octave sound, we can <i>full wave rectify</i> it.&nbsp;</p>
<p><img border="0" src="d101_06.gif" align="left" width="271" height="241"></p>
<p>A full wave rectified sine wave just has either all the positive or negative
half-cycles inverted. A lot of math is needed, but it eventually tells us that
the lowest frequency component in this is twice the original sine frequency
-&nbsp; an exact octave higher than the original sine.&nbsp;</p>
<p> This trick has been used to one degree or another in the Tycho Brahe Octavia, UniVox SuperFuzz, Foxx Fuzz-Wah, and
Foxx Tone Machine&nbsp; pedals. It is common to follow full wave rectification
with diode clipping and some filtering, as the raw waveform
sounds a bit buzzy and strange - it literally has information in it we don't
want!</p>
Having the signal completely full wave rectified does eliminate the fundamental
frequency. Sometimes this is not desirable. If we <i>half wave rectify </i>a
sine wave, the result still has a lot of the fundamental in it, but also has a
noticeable octave sound. We can also partial full wave rectify a signal, which
makes for an even more noticeable octave sound. There is a continuum of sounds between
pure sine, partially rectified and full wave rectified, having more octave sound
as we go.
<div align="center">
  <center>
  <table border="0" cellspacing="1" width="90%">
    <tr>
      <td width="50%">
        <p align="center"><img border="0" src="d101_07.gif" align="center" width="271" height="241"></td>
      <td width="50%">
        <p align="center"><img border="0" src="d101_08.gif" align="center" width="271" height="241"></td>
    </tr>
  </table>
  </center>
</div>
&nbsp;
<p>In fact, anything we do to one side of a sine wave but not the other will
introduce an octave sound.&nbsp;</p>
<p>The following picture illustrates this. From an undistorted sine wave (1), we
progressively clip the negative half cycle (2) until the signal is half wave
rectified (3); adding even more second harmonic (4) progresses until full wave
rectification (5).</p>
<p align="center"><img border="0" src="d101_09.gif" align="center" width="658" height="240">
<p>
 One specialized form of distortion is worth noting. High gain followed by, asymmetrical clipping, hard clip on top, soft compression on
 bottom turns out to be a good sounding compromize for guitar. The fabled Fuzz Face did
 this - at least when you got one of the good ones.</p>
<p><img border="0" src="d101_10.gif" width="306" height="241"></p>
<hr>
<p>
 And some comments on the circuits that actually produce the distortions:</p>
<p>
 I tried to catalog all of the ways I could think of that have been or might
 be used for musically useful distortion, with some running critique.<p><b>Two
kinds of distortion:</b> As I
noted above, simple harmonic distortion, which generates distortion products that are
 related to the fundamental frequency by low-integer multiples, is universally
accepted as adding character to instrument sound.  Intermodulation
 distortion, which produces non-musically related frequencies at multiples
 of the sum and differences of two frequencies, is considered to sound harsh to
 the ear. Unfortunately, all known harmonic distortion methods also produce intermodulation
 distortion when fed two or more different frequencies simultaneously, but
 the exact method of producing distortion may result in lower or higher
 amounts of harsh sounding intermodulation; there is no exact way to
 predict the harshness.  In general, the "softer" the clipping or distortion
(that is, the fewer and softer the &quot;corners&quot;), the less intermodulation, but this is only a generality.
<p>
 <b>PRE and POST distortion EQ:</b> Filtering of the
 signal both before and after the distortion usually has at least as much if not
 more to do with how
 the distortion sounds than the actual method of distortion.&nbsp;
<p>
  A combo amp
 with a speaker or two and an open back implements a multi-pole lowpass filter
 all by itself.  This is at least one of the reasons that a miked amp is
 preferable to running a distortion signal directly into a PA mixer. The speaker
 cabinet's lowpass action smooths off those offending treble shrieks.  An electronic multipole
 lowpass filter is the essence of all those "cabinet simulators" you see.
<p>
 Filtering BEFORE the distortion is also interesting.  Hendrix is reputed to
 have used a Wah pedal before his Fuzz Face.  The bandpass effect makes the
 signal bigger at the frequencies boosted by the Wah, so those frequencies get
 distorted most. You get an interesting change in
 distortion depending on what notes you hit.  This cuts a lot of the harsh
 sounding intermodulation distortion, too.  Anderton used this principle in
 designing his "QuadraFuzz", which split the incoming signal into four
 frequency bands and distorted each band separately, then mixed them back
 together.  This method gives a much lower intermodulation distortion by
 avoiding having more than one frequency distorted together.<p>One of the most
interesting experiments with distortion most guitarists ever make is to put a
multiband graphic equalizer both in front of and behind a distortion pedal. Some
time spent playing with the knobs on this one will give you a whole new outlook
on distortion.
<p>
 <b>Duty Cycle:</b>&nbsp; Based on an article in Electrical Engineering Times,
 continuously changes in the relative amounts of clipping between the positive
 and negative halves of the signal may be an important factor in distortion
 sound. This article
 (by Brian Murphy, interviewing John Murphy, who used to be chief engineer
 at Carvin; EET, October 3, 1994) outlines Murphy's ideas on the degree to
 which he can simulate tube distortion in solid state designs.  He holds
 that if you filter properly, soft clip, and arrange for the duty cycle of
 the clipped signal to vary with varying signal levels, you get something
 very close to tube distortion.  This is the basis of the "tube emulation"
 circuitry in Carvin's SX series of amps.
<p>

<ol><b>Circuit Types:</b>
<li>Common Cathode Triode<br>
    "preamp distortion", used in the revered Bassman, Marshalls, modern
    tube preamps; frequency response easily made lowpass (sometimes
    unintentionally) by grid circuit and stray capacitances.  Thought to be
    the object of our search.  Typically 2% distortion when "clean".  Clips
    asymmetrically, although as typically used, cutoff is mushy and more of
    progressive compression than clipping, and "saturation" is defined by
    the grid going more positive than the cathode, with a dramatic drop in
    grid impedance when this happens, perhaps "saturating" the previous
    triode stage.  Lots of even order distortion products until harder
    clipping reached, then third harmonic rises Almost no fifth or higher
    order harmonic production until massively over driven.

<li>Single ended Pentode<br>
    "output stage distortion", as in smaller, cheaper amps, like Fender
    Champ, several Gibsons, others.  Asymmetrical clipping, asymmetric
    distortion from the single ended transformer.  Distinct second and third
    harmonics.  Very noticeable compression effects from screen grid bias
    drop, power supply sag.

<li>Double ended Pentode<br>
    "output stage distortion" as in large amps, including the Bassman. Push
    pull operation cancels even harmonic distortion generated in the output
    stage, so it can contribute only odd harmonics, principally third.
    Noticeable bias shift when driven hard can cause compression.  Other
    compression effects include screen grid bias sag, and power supply sag.
    This may be the origin of the "tube rectifiers sound better" school of
    guitar amps, as silicon replacement power supply rectifiers give much
    less sag on signal peaks and higher power supply voltages, so sound
    cleaner.  Symmetric distortion.

<li>Voltage feedback/biased bipolar - Germanium<br>
    "Fuzz Face" distortion. Single high gain stage saturates with guitar
    signal, is biased in a way that can not hard saturate, but can swing a
    long way towards cutoff without distortion.  Low input impedance loads
    guitar and pre-filters out highs.  Asymmetrical clipping, with prominent
    second harmonic.  Prominent third, and noticeable fourth and fifth
    harmonics.  This is the basic circuit in several vintage fuzzes,&nbsp; including the Vox Tone Bender. Fuzz faces changed from Germanium
  PNP (NKT-275) to silicon NPN (BC 108 etc) transistors in about 1970. For a
  detailed review of the Fuzz Face, see <a href="../Article_Folders/fuzzface/fffram.htm">&quot;The
  Technology of the Fuzz Face&quot;</a>.

<li>Voltage feedback/biased bipolar - Silicon<br>
    Some fuzz face units have this. Widely reputed to sound a little
    harsher than germanium.

<li>Common emitter bipolar - Silicon<br>
    "transistor sound". Nominally well designed CE stages clip symmetrically
    and hard.  No noticeable even order harmonics, prominent fifth, seventh,
    and higher harmonics.  Widely held to be an example of what is wrong
    with transistors for musical instruments.  It can be a useful effect, as
    the Big Muff Pi from Electro-Harmonix used a variation of this circuit
    with limiting diodes from collector to emitter.

<li>Common emitter bipolar - Germanium<br>
    Never seen this. Probably same as silicon.

<li>Common Source JFET<br>
  This has been the basis of some experimental devices in the DIY area. Well designed JFET CS stages generate only second order
    harmonics in the linear range, but who knows about clipped? I have seen
    postings that say that a well-designed JFET common source stage produces
    clipping very similar to tubes..

<li>Common Source MOSFET<br>
    The common source MOSFET is the basic circuit in Anderton's Tube Sound
    Fuzz.  A similar circuit is used in Fender's Stage Lead, and EH
    "Hot Tubes" pedals.  This circuit can produce very convincing tube-like
    distortion if it is carefully designed.  The commonest way to do this
    circuit is with the CD4049 or CD4069 CMOS logic (yes, logic) IC.  It can be
    misapplied by biasing it into its linear region and to function as an
    amplifier.  I don't know of any discrete transistor versions, although
    Fender used a CD 4007 IC in the Stage Lead amps to get tubey sound.  The
    4007 is essentially a CMOS transistor array. If you use the 4007, you can 
    put two P-channel devices and three N-channel devices in parallel and achieve
    an asymetrical transfer function.

<li>Differential amplifier<br>
    Differential amps built with bipolar transistors have a 25 millivolt input range over which the output is
    linear.  Clipping is symmetrical, but possibly soft. This is the basic stage in most op amps.  This basic
    circuit can be implemented as silicon bipolar, germanium bipolar, JFET,
    MOSFET and vacuum tube. Electronics Now 
    published a DIY article for just such a pedal, claiming (as every distortion
  pedal does...) that it sounded very tube-y.

<li>One diode<br>
    One diode as a half wave rectifier or clamp generates prominent second
    harmonic distortion;

<li>Back to back diodes<br>
    Silicon, Zener, Germanium, LED<br>
    Many examples of this. This and the back to back feedback op amp are
    the basis for a lot of effects, such as the Ibanez Sonic Distortion 9,
    Proco Ratt, MXR Distortion +, and the DOD Overdrive.  Also many that
    need to remain unmentioned.  A lot seems to depend on how the diodes are
    driven and what filtering is done before and after the diodes.
    <p>
    Silicon is reputed to clip abruptly, causing a harsh sound.  Germanium
    clips at about half the voltage of a silicon diode, but is reputed to
    turn on more slowly in its smaller range.  LEDs turn on at about two
    silicon diode drops, and are also reputed to be slower turn on, with it
    and germanium giving more "tube like" sounds.  Some units with "tube" in
    the title use LEDs or germanium for clipping.
    <p>
    Oddly enough, the Marshall JCM800 uses a set of two pairs of silicon
    diodes back to back as clippers.  This seems strange in a Marshall, but
    it is there.  When I looked at the schematic, I first thought it was a
    protective clamp for a tube grid, but the circuit doesn't work that way.
    They are there for the distortion.
    <p>
    I've never seen a schematic with zener clipping for music, but they are
    used in the signal processing world.
    <p>
    One recent entry is the diode-connected MOSFET transistor. This connection
    makes for a &quot;diode&quot; that has about a two volt forward drop, but a
    &quot;knee&quot; that is very softly curved.&nbsp;

<li>Back to back diode feedback Op Amp<br>
    Silicon, Germanium, Zener, LED<br>
    In well designed units, this is very much the same as the back to back
    diode units.  If the opamp gain is low, the diodes produce about the
    same end waveform as if they were driven by an external circuit.  In
    poorly designed circuits, the opamp gain is high, and the diode
    characteristics are lost, giving just a lower-voltage clipping op amp,
    which suffers from all of the problems of the bipolar common emitter
    stage, and perhaps a few of its own.
    <p>
    The most famous example I can think of of the
    diodes-in-the-feedback-loop pedal is the Ibanez TS-9 Tube Screamer.
    Almost every commercial pedal manufacturer has made one of these. 
    The quality of the sound seems to depend heavily on the overload and 
    recovery characteristics of the opamp and the pre-and post- clipping 
    filtering. For more info on the Tube Screamer pedal, see <a href="../Article_Folders/TStech/tsxfram.htm">&quot;The
    Technology of the Tube Screamer&quot;</a>.

<li>Op amp or comparator<br>
    Craig Anderton published a design for a "triggered fuzz" that is pure,
    open loop, op amp clipping.  This is an odd effect, akin to a
    synthesizer rather than a guitar in sound.

<li>Full wave rectifier<br>
    Anderton again. An op amp circuit for emulating ideal diodes produces a
    full wave rectification of the input waveform.  Gives a very prominent
    octave up by producing a second harmonic and removing the fundamental.
    Works best with single notes.  Multiple notes simultaneously give a
    metallic or clanging effect something like a ring modulator.  An odd
    effect.
    <p>
    The Octavia pedal and the the old Foxx Tone Machine (as well as the "new" 
    Experience pedal, which is almost exactly the same circuit as the Foxx) use a
    form of full wave rectification followed by diode clippers and filtering. The
    clipping and filtering seem to tame the odd buzziness of the raw rectification.
</ol>
<address><a href="http://www.geofex.com">http://www.geofex.com</a>
</address>
<address>&nbsp;<a href="fxfaq.htm">Back to the Guitar Effects FAQ</a>
</address>
</html>
 contentType 9 text/html url 45 http://www.geofex.com:80/effxfaq/distn101.htm responseCode 3 200 